<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sakurawald.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Majority ProblemProblemDescription给定含有 n 个元素的多重集合 S，每个元素在 S 中出现的次数称为该元素的重数。多重 集 S 中重数最大的元素称为众数。 例如，S&#x3D;{1，2，2，2，3，5}。 多重集 S 的众数是 2，其重数为 3。 Input输入数据由文件名为 input.txt 的文本文件提供。 文件的第 1 行多重集 S 中元素个数 n；接下">
<meta property="og:type" content="article">
<meta property="og:title" content="Divide and Conquer - Majority Problem">
<meta property="og:url" content="https://sakurawald.github.io/2022/03/25/divide-and-conquer-majority-problem/index.html">
<meta property="og:site_name" content="SakuraWald">
<meta property="og:description" content="Majority ProblemProblemDescription给定含有 n 个元素的多重集合 S，每个元素在 S 中出现的次数称为该元素的重数。多重 集 S 中重数最大的元素称为众数。 例如，S&#x3D;{1，2，2，2，3，5}。 多重集 S 的众数是 2，其重数为 3。 Input输入数据由文件名为 input.txt 的文本文件提供。 文件的第 1 行多重集 S 中元素个数 n；接下">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-03-25T19:27:42.000Z">
<meta property="article:modified_time" content="2023-01-01T23:38:44.219Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://sakurawald.github.io/2022/03/25/divide-and-conquer-majority-problem/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Divide and Conquer - Majority Problem | SakuraWald</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">SakuraWald</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/25/divide-and-conquer-majority-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Divide and Conquer - Majority Problem
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-25 19:27:42" itemprop="dateCreated datePublished" datetime="2022-03-25T19:27:42+00:00">2022-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Majority-Problem"><a href="#Majority-Problem" class="headerlink" title="Majority Problem"></a>Majority Problem</h1><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>给定含有 n 个元素的多重集合 S，每个元素在 S 中出现的次数称为该元素的重数。多重</p>
<p>集 S 中重数最大的元素称为众数。</p>
<p>例如，S&#x3D;{1，2，2，2，3，5}。</p>
<p>多重集 S 的众数是 2，其重数为 3。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>输入数据由文件名为 input.txt 的文本文件提供。</p>
<p>文件的第 1 行多重集 S 中元素个数 n；接下来的 n 行中，每行有一个自然数。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>程序运行结束时，将计算结果输出到文件 output.txt 中。输出文件有 2 行，第 1 行给</p>
<p>出众数，第 2 行是重数</p>
<h3 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h3><p>input.txt</p>
<p>6</p>
<p>1</p>
<p>2</p>
<p>2</p>
<p>2</p>
<p>3</p>
<p>5</p>
<p>output.txt</p>
<p>2</p>
<p>3</p>
<h2 id="Solution-1-（HashMap）"><a href="#Solution-1-（HashMap）" class="headerlink" title="Solution 1 （HashMap）"></a>Solution 1 （HashMap）</h2><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>对于给定多重集合S，可以通过一个O(n)的线性扫描，将集合的所有元素进行计次。</p>
<p>使用HashMap实现的解法容易编写，也容易处理答案具有多个众数的情况。</p>
<p>总体需要一次O(n)的线性扫描，以及在完成计数后再一次O(n)的取最大值。</p>
<h3 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Pair&lt;Integer, Integer&gt; <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R)</span> &#123;</span><br><span class="line"></span><br><span class="line">    HashMap&lt;Integer, Integer&gt; counter = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">        counter.put(num, counter.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">majorityKey</span> <span class="operator">=</span> <span class="number">0xdead</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">majorityValue</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> key : counter.keySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (counter.get(key) &gt; majorityValue) &#123;</span><br><span class="line">            majorityKey = key;</span><br><span class="line">            majorityValue = counter.get(key);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(majorityKey, majorityValue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark"><a href="#Benchmark" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.335700</span> <span class="string">ms</span> <span class="string">(335700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">84.643900</span> <span class="string">ms</span> <span class="string">(84643900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.025400</span> <span class="string">ms</span> <span class="string">(25400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.013600</span> <span class="string">ms</span> <span class="string">(13600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.011000</span> <span class="string">ms</span> <span class="string">(11000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.010100</span> <span class="string">ms</span> <span class="string">(10100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.010300</span> <span class="string">ms</span> <span class="string">(10300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.026100</span> <span class="string">ms</span> <span class="string">(26100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.035500</span> <span class="string">ms</span> <span class="string">(35500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.128000</span> <span class="string">ms</span> <span class="string">(128000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.114500</span> <span class="string">ms</span> <span class="string">(3114500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">9.872700</span> <span class="string">ms</span> <span class="string">(9872700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">26.197800</span> <span class="string">ms</span> <span class="string">(26197800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">47.612200</span> <span class="string">ms</span> <span class="string">(47612200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">46.967400</span> <span class="string">ms</span> <span class="string">(46967400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h2 id="Solution-2-（Sort-Two-Way-Divided）"><a href="#Solution-2-（Sort-Two-Way-Divided）" class="headerlink" title="Solution 2 （Sort + Two-Way Divided）"></a>Solution 2 （Sort + Two-Way Divided）</h2><h3 id="Analysis-1"><a href="#Analysis-1" class="headerlink" title="Analysis"></a>Analysis</h3><p>从直观来看，众数是整个数组里<code>出现次数最多的元素</code>，因此众数元素应当占据原始数组的<code>绝大部分位置</code>。更重要地，如果我们对<code>原始数组</code>进行<code>排序</code>，那么所有的众数很显然应当被<code>连续地排列在一起</code>。</p>
<p>所以，我们可以得到众数在<code>已排序的原始数组</code>中的<code>存在结构</code>。</p>
<p>假设使用分治法，我们猜测，可以<code>已排序数组中的众数</code>总是可以从<code>前一半已排序数组中的众数</code>和<code>后一半已排序数组中的众数</code>来得到。换句话说，我们希望使用分治法，并且利用<code>前一半已排序数组的众数</code> 和<code>后一半已排序数组中的众数</code>这两个<code>子问题的解</code>来获得<code>原问题的解</code></p>
<p>为了证明<code>分治法</code>对于<code>已排序数组的求众数问题</code>是有效的，我们尝试归纳所有可能的情况：</p>
<h4 id="Cases"><a href="#Cases" class="headerlink" title="Cases"></a>Cases</h4><h5 id="Case1-最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）"><a href="#Case1-最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）" class="headerlink" title="Case1: 最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）"></a>Case1: 最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）</h5><p>如 (1 1 1 1 1) (2 2 2 2 3) -&gt; majority &#x3D; 1, count &#x3D; 5</p>
<p><code>最终解众数1</code>只分布仅仅在<code>前一半的已排序数组</code>。</p>
<p>对于这种情况，很显然<code>后一半的已排序数组</code>中<code>产生的众数</code>不可能<code>战胜``前一半已排序数组</code>所<code>产生的众数</code>（当然，<code>后一半数组</code>的<code>最优情况</code>至多只是和<code>前一半已排序数组</code>打成<code>平手</code>）</p>
<p><code>前一半已排序数组</code>和<code>后一半已排序数组</code>打成<code>平手</code>的特殊情况：</p>
<p>(1 1 1 1 1) (2 2 2 2 2) 对于这种情况，我们可以<code>任意</code>取<code>其中一半的已排序数组</code>作为<code>胜出</code>（因为这题我们只要得出1个众数即可，即使输入数据存在多个众数）</p>
<blockquote>
<p>如果 前一半已排序数组中产生的众数 &#x3D; 后一半已排序数组中产生的众数，那么很明显没有任何其他数可以打败这个众数，因此这个众数就是 整个已排序数组的众数。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Pair&lt;Integer, Integer&gt; majority1 = getMajority(nums, L, M);</span><br><span class="line">Pair&lt;Integer, Integer&gt; majority2 = getMajority(nums, M, R);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (Objects.equals(majority1.key, majority2.key))</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(majority1.key, majority1.value + majority2.value);</span><br></pre></td></tr></table></figure>

<h5 id="Case2-最终解的众数来自某一半已排序数组（且该众数越过分割点）"><a href="#Case2-最终解的众数来自某一半已排序数组（且该众数越过分割点）" class="headerlink" title="Case2: 最终解的众数来自某一半已排序数组（且该众数越过分割点）"></a>Case2: 最终解的众数来自某一半已排序数组（且该众数越过分割点）</h5><p>如 (1 1 1 1 1) (1 2 2 2 3) -&gt; majority &#x3D; 1, count &#x3D; 6</p>
<p>和 (1 1 1 1 2) (2 2 2 2 3) -&gt; majority &#x3D; 2, count &#x3D; 5</p>
<p>这两种情况是<code>对称的</code>，我们这里仅从考虑第前一种情况。</p>
<p>在这一种情况中，由于<code>最终解的众数从两个已排序数组的并集</code>之中产生。</p>
<p>而且，我们知道在这种情况下，<code>最终解的众数的分布</code>必然要<code>越过两个已排序数组数组的边界</code>。</p>
<p>也就是说，这种情况的成立条件是：<code>前一半已排序数组的最后一个元素</code>=<code>后一半已排序数组的第一个元素</code>。对此，我们需要从<code>中点</code>开始，从<code>中点</code>统计<code>前后两个已排序数组</code>中<code>众数最远可以分布到多远</code>。</p>
<p>也就是说，我们<code>从中点开始</code>对<code>整个已排序数组</code>做<code>二分查找</code>，试图找出<code>lowerBound</code>和<code>upperBound</code>。</p>
<p>这样，即可算出<code>该候选数的出现的次数</code>=<code>upperBound</code>-<code>lowerBound</code></p>
<blockquote>
<p>请注意，对于这种情况，我们仅仅是通过upperBound-lowerBound来算出处于中点附近的那个数（我们称为候选数）的出现次数。但是有可能这个 候选数 并不是 整个已排序数组的众数。</p>
<p>你可以想象到，这个数只是恰好出现在 中点附近，被分割开。所以我们需要合并它出现的次数，已获得它在整个已排序数组中正确的出现次数。（但这不意味着这个数就是整个已排序数组的众数）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">            <span class="keyword">if</span> (majority1.key == nums[M]) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> upperBound(nums, M, R, majority1.key) - M;</span><br><span class="line">                majority1.value += extra;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (majority2.key == nums[M - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> M - lowerBound(nums, L, M, majority2.key) - <span class="number">1</span>;</span><br><span class="line">                majority2.value += extra;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Case3-最终解的众数来自两个已排序数组（很显然该众数越过分割点）"><a href="#Case3-最终解的众数来自两个已排序数组（很显然该众数越过分割点）" class="headerlink" title="Case3: 最终解的众数来自两个已排序数组（很显然该众数越过分割点）"></a>Case3: 最终解的众数来自两个已排序数组（很显然该众数越过分割点）</h5><p>如：(1 1 1 3 3) (3 3 2 2 2) -&gt; majority &#x3D; 3, count &#x3D; 4</p>
<p>对于这种情况，<code>这整个已排序数组的众数</code>并不是<code>前半个已排序数组所产生的众数</code> majority1，也不是<code>后半个已排序数组所产生的众数</code> majority2。</p>
<p>而是，我们在发现<code>中点两侧的元素值相同时</code>（很显然，如果中点两侧的元素值不同，那么这个元素就不可能通过<code>联合</code>来<code>打败</code> <code>majority1</code> 和 <code>majority2</code>），则<code>尝试检查</code>这个<code>元素</code>是否能<code>通过合并前后两半已排序数组中自己的出现次数</code>来分别<code>打败</code> <code>前一半已排序数组所产生的众数 majority1</code>和<code>后一半已排序数组所产生的众数 majority2</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (nums[M - <span class="number">1</span>] == nums[M]) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">lower</span> <span class="operator">=</span> lowerBound(nums, L, M, nums[M]);</span><br><span class="line">    <span class="type">int</span> <span class="variable">upper</span> <span class="operator">=</span> upperBound(nums, M, R, nums[M]);</span><br><span class="line">    <span class="type">int</span> <span class="variable">amount</span> <span class="operator">=</span> upper - lower - <span class="number">1</span>;</span><br><span class="line">    Pair&lt;Integer, Integer&gt; majority3 = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[M], amount);</span><br><span class="line">    <span class="keyword">if</span> (majority3.value &gt; majority1.value &amp;&amp; majority3.value &gt; majority2.value) &#123;</span><br><span class="line">        <span class="keyword">return</span> majority3;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Source-1"><a href="#Source-1" class="headerlink" title="Source"></a>Source</h3><p>Auxiliary Functions</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return the first element that greater than the bound in [L, R)</span></span><br><span class="line"><span class="comment"> * if not found, return array.length</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// (1 1 2) -&gt; (1) (1 2) -&gt; lower = 0, upper = 1</span></span><br><span class="line"><span class="comment">// 1 1 2 2 2 2 3</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">upperBound</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R, <span class="type">int</span> bound)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[R - <span class="number">1</span>] == bound) <span class="keyword">return</span> R;</span><br><span class="line">    <span class="keyword">while</span> (R - L &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[M] &lt;= bound) L = M;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[M] &gt; bound) R = M;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> R;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * if not found, return -1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">lowerBound</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R, <span class="type">int</span> bound)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[L] == bound) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (R - L &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[M] &lt; bound) L = M;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[M] &gt;= bound) R = M;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Core</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Pair&lt;Integer, Integer&gt; <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R)</span> &#123;</span><br><span class="line">        <span class="comment">// Case1: (1 1 1 1 1) (2 2 2 2 3) -&gt; majority = 1, count = 5</span></span><br><span class="line">        <span class="comment">// Case2: (1 1 1 1 1) (1 2 2 2 3) -&gt; majority = 1, count = 6</span></span><br><span class="line">        <span class="comment">// Case3: (1 1 1 1 2) (2 2 2 2 3) -&gt; majority = 2, count = 5</span></span><br><span class="line">        <span class="comment">// Case4: (1 1 1 3 3) (3 3 2 2 2) -&gt; majority = 3, count = 4</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Base Case */</span></span><br><span class="line">        <span class="keyword">if</span> (L == R) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="number">0xdead</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (R - L == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[L], <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Recursive Case */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">        Pair&lt;Integer, Integer&gt; majority1 = getMajority(nums, L, M);</span><br><span class="line">        Pair&lt;Integer, Integer&gt; majority2 = getMajority(nums, M, R);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Case1: the majority number of 2 parts are the same. */</span></span><br><span class="line">        <span class="keyword">if</span> (Objects.equals(majority1.key, majority2.key))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(majority1.key, majority1.value + majority2.value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">/* Case2, Case3, Case4 */</span></span><br><span class="line">            <span class="keyword">if</span> (majority1.key == nums[M]) &#123;</span><br><span class="line">                <span class="comment">// Case2</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> upperBound(nums, M, R, majority1.key) - M;</span><br><span class="line">                majority1.value += extra;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (majority2.key == nums[M - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// Case3</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> M - lowerBound(nums, L, M, majority2.key) - <span class="number">1</span>;</span><br><span class="line">                majority2.value += extra;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[M - <span class="number">1</span>] == nums[M]) &#123;</span><br><span class="line">                <span class="comment">// Case4</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">lower</span> <span class="operator">=</span> lowerBound(nums, L, M, nums[M]);</span><br><span class="line">                <span class="type">int</span> <span class="variable">upper</span> <span class="operator">=</span> upperBound(nums, M, R, nums[M]);</span><br><span class="line">                <span class="type">int</span> <span class="variable">amount</span> <span class="operator">=</span> upper - lower - <span class="number">1</span>;</span><br><span class="line"><span class="comment">//                System.out.println(&quot;num = &quot; + nums[M] + &quot; amount = &quot; + amount);</span></span><br><span class="line">                Pair&lt;Integer, Integer&gt; majority3 = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[M], amount);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Can we just union and beat majority1 and majority2 ?</span></span><br><span class="line">                <span class="comment">// Be careful, if majority1 or majority2 equals to majority3, we&#x27;ll choose the latter one.</span></span><br><span class="line">                <span class="comment">// (1 1 2 2) (2 3 3 3 3) -&gt; majority = 3, count = 4</span></span><br><span class="line">                <span class="comment">// (1 1 2 2 2) (2 3 3 3 3) -&gt; majority = 3, count = 4 (majority = 2, count = 4 is also correct)</span></span><br><span class="line">                <span class="keyword">if</span> (majority3.value &gt; majority1.value &amp;&amp; majority3.value &gt; majority2.value) &#123;</span><br><span class="line">                    <span class="keyword">return</span> majority3;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// Just need to compare the majority1 and majority2</span></span><br><span class="line">            <span class="keyword">return</span> majority1.value &gt; majority2.value ? majority1 : majority2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark-1"><a href="#Benchmark-1" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.290600</span> <span class="string">ms</span> <span class="string">(290600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">49879</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">169.661600</span> <span class="string">ms</span> <span class="string">(169661600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003900</span> <span class="string">ms</span> <span class="string">(3900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003500</span> <span class="string">ms</span> <span class="string">(3500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003400</span> <span class="string">ms</span> <span class="string">(3400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002500</span> <span class="string">ms</span> <span class="string">(2500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.040600</span> <span class="string">ms</span> <span class="string">(40600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.021600</span> <span class="string">ms</span> <span class="string">(21600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.037600</span> <span class="string">ms</span> <span class="string">(37600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">29</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.329700</span> <span class="string">ms</span> <span class="string">(329700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.173000</span> <span class="string">ms</span> <span class="string">(1173000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">13432</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">6.893800</span> <span class="string">ms</span> <span class="string">(6893800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">46.909500</span> <span class="string">ms</span> <span class="string">(46909500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">103.301900</span> <span class="string">ms</span> <span class="string">(103301900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">108.699100</span> <span class="string">ms</span> <span class="string">(108699100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<blockquote>
<p>注: 部分案例出现Wrong Answer是由于解法仅要求找出1个众数，所以对重数相同的众数的选择是任意的。</p>
</blockquote>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>由于该解法需要对<code>原始数组</code>进行<code>预处理: 排序</code>后再进行<code>分治法</code>，其效率可能会比较低。（而且递归过程中创建对象所消耗的代价较大）</p>
<h2 id="Solution-3-Sort-Three-Way-Divided"><a href="#Solution-3-Sort-Three-Way-Divided" class="headerlink" title="Solution 3 (Sort + Three-Way Divided)"></a>Solution 3 (Sort + Three-Way Divided)</h2><h3 id="Analysis-2"><a href="#Analysis-2" class="headerlink" title="Analysis"></a>Analysis</h3><p>采用类似QuickSort的方法，但将<code>原始数组</code> 先进行<code>排序</code>，然后从<code>中间</code>进行<code>划分</code>为3个部分：</p>
<ol>
<li>Part1 &#x3D; {x x &lt; pivot}</li>
<li>Part2 &#x3D; {x x &#x3D; pivot}</li>
<li>Part3 &#x3D; {x x &gt; pivot}</li>
</ol>
<p>首先考虑<code>完整的已排序数组</code>，取<code>该数组的中间元素</code>作为<code>pivot</code>，然后分别用<code>线性扫描</code>的方式，求出<code>该pivot元素</code>的<code>lowerBound</code>和<code>upperBound</code>，进而求得<code>该pivot元素的数量</code>（即Part2，Part2的所有元素均由<code>同一个元素</code>，即<code>pivot元素</code>组成)</p>
<p>很显然，如果Part2.size() &gt; Part1.size() &amp;&amp; Part2.size() &gt; Part3.size()，那么<code>pivot的值就是整个已排序数组所产生的众数</code></p>
<p>否则，众数有可能<code>产生自Part1</code>，也可能<code>产生自Part2</code>。因此，我们<code>分别都</code>需要<code>检查Part1和Part2</code>，即<code>递归地对这两部分进行处理</code></p>
<ul>
<li><p>此处采用递归的基本原理是：</p>
<ul>
<li><p>该问题存在一个平凡问题（即基本问题）：基本问题很简单，我们可以很容易直观地解出来。也就是 子问题的整个已排序数组 仅包含1个元素，那么 该已排序数组所产生的众数 就只能是这个元素。</p>
</li>
<li><p>我们可以通过合并2个子问题的解来得到原问题的解：这也很容易，我们可以简单地<code>检查</code>这<code>Part1, Part2, Part3 三者中哪一个部分</code>产生的<code>众数的重数</code>是<code>最大的</code></p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>注：此算法也不考虑处理存在多个重数相等的众数的情况。如果重数相等，则任取一个。</p>
</blockquote>
<blockquote>
<p>注：该解法和Solution2非常类似，均需要先应排序进行预处理。然后使用分治法划分子问题，区别在于对子问题的划分方式不同。Solution2总是采用固定区间大小的二分法进行划分，而Solution3的划分区间的大小则更加动态，并且是3划分的。</p>
</blockquote>
<h3 id="Source-2"><a href="#Source-2" class="headerlink" title="Source"></a>Source</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Pair&lt;Integer, Integer&gt; <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R)</span> &#123;</span><br><span class="line">    <span class="comment">/* Base Case */</span></span><br><span class="line">    <span class="comment">// R - L = &#123;0, 1&#125;</span></span><br><span class="line">    <span class="keyword">if</span> (R - L &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[L], <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Recursive Case */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">M_Value</span> <span class="operator">=</span> nums[M];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">lowerBound</span> <span class="operator">=</span> M, upperBound = M;</span><br><span class="line">    <span class="keyword">while</span> (lowerBound &gt;= <span class="number">0</span> &amp;&amp; nums[lowerBound] == M_Value) lowerBound--;</span><br><span class="line">    <span class="keyword">while</span> (upperBound &lt; nums.length &amp;&amp; nums[upperBound] == M_Value) upperBound++;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">M_Count</span> <span class="operator">=</span> upperBound - lowerBound - <span class="number">1</span>;</span><br><span class="line">    Pair&lt;Integer, Integer&gt; majorityMiddle = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(M_Value, M_Count);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Anyway, Part2 will always win !</span></span><br><span class="line">    <span class="keyword">if</span> (M_Count &gt;= (lowerBound - L + <span class="number">1</span>) &amp;&amp; M_Count &gt;= (R - upperBound)) <span class="keyword">return</span> majorityMiddle;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Ok, we should choose the largest one among Part1, Part2 and Part3.</span></span><br><span class="line">    Pair&lt;Integer, Integer&gt; majorityLeft = getMajority(nums, L, lowerBound + <span class="number">1</span>);</span><br><span class="line">    Pair&lt;Integer, Integer&gt; majorityRight = getMajority(nums, upperBound, R);</span><br><span class="line">    <span class="keyword">if</span> (M_Count &gt;= majorityLeft.value &amp;&amp; M_Count &gt;= majorityRight.value) <span class="keyword">return</span> majorityMiddle;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> majorityLeft.value &gt; majorityRight.value ? majorityLeft : majorityRight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark-2"><a href="#Benchmark-2" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.226700</span> <span class="string">ms</span> <span class="string">(226700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">49879</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">165.034000</span> <span class="string">ms</span> <span class="string">(165034000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003500</span> <span class="string">ms</span> <span class="string">(3500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002500</span> <span class="string">ms</span> <span class="string">(2500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003200</span> <span class="string">ms</span> <span class="string">(3200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002800</span> <span class="string">ms</span> <span class="string">(2800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.042700</span> <span class="string">ms</span> <span class="string">(42700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.024600</span> <span class="string">ms</span> <span class="string">(24600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.026300</span> <span class="string">ms</span> <span class="string">(26300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">29</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.174600</span> <span class="string">ms</span> <span class="string">(174600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">4.243100</span> <span class="string">ms</span> <span class="string">(4243100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">13432</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">6.618700</span> <span class="string">ms</span> <span class="string">(6618700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">38.010200</span> <span class="string">ms</span> <span class="string">(38010200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">73.012900</span> <span class="string">ms</span> <span class="string">(73012900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">86.186500</span> <span class="string">ms</span> <span class="string">(86186500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h2 id="Solution-4-Three-Way-QuickSort"><a href="#Solution-4-Three-Way-QuickSort" class="headerlink" title="Solution 4 (Three-Way QuickSort)"></a>Solution 4 (Three-Way QuickSort)</h2><h3 id="Analysis-3"><a href="#Analysis-3" class="headerlink" title="Analysis"></a>Analysis</h3><p>在前面所提到的 <code>分治法</code> 中，都需要对 <code>原始数组</code> 进行 <code>排序</code> 。</p>
<p>但实际上，我们可以将 <code>排序</code> 和 <code>寻找众数</code> 的过程 <code>同时进行</code>。</p>
<p>我们之前所提的 <code>需要预排序的二分法</code> 和 <code>需要预排序的三分法</code> 之所以需要 <code>排序</code>，</p>
<p>是因为我们 <code>某个数字</code> 可能 <code>零散地分布</code> 在 <code>原始数组</code> 的 <code>各个角落</code>，这将使得 <code>我们的分治方法</code> 必须 <code>把相同的数字</code> 都 <code>聚集</code>在一起，否则将无法 <code>统计</code> <code>该数字的出现次数</code>。</p>
<blockquote>
<p>实际上，如果仅仅是为了 <code>寻找众数</code>，我们并不需要使得 <code>原始数组</code> 是 <code>完全地有序的</code>。</p>
<blockquote>
<p>当我们发现，<code>在对某个区间的某个元素</code> 进行 <code>3向划分</code>之后，<code>该元素的出现次数</code> <code>大于</code> <code>该区间的长度的一半</code>，</p>
<p>那么显然，<code>该元素</code> 必定就是 <code>该区间</code> 的 <code>众数</code>。我们就没有必要再对 <code>该区间的其余部分</code> 继续进行 <code>划分</code>。</p>
</blockquote>
</blockquote>
<p>设想，如果对于 <code>任意给定的数组</code>，我们可以 <code>使得该数组中某个数字</code> 进行 <code>聚集</code>，然后求得 <code>该数字的出现次数</code>。</p>
<p>那么，我们可以采用 <code>摩尔投票法 (Moore Voting Method)</code> 的思想：</p>
<ul>
<li><p>如果我们发现，<code>该数字的出现次数</code> <code>大于</code> <code>其余部分的长度</code>，则显然 <code>该数字</code> 就是 <code>众数</code></p>
<blockquote>
<p><code>摩尔投票法</code> 将 <code>序列</code> 分成 <code>2部分</code>： <code>等于指定元素</code> 和 <code>不等于指定元素</code></p>
</blockquote>
</li>
<li><p>否则，我们可以对 <code>剩余的部分</code> 继续进行 <code>聚集数字的操作</code></p>
<blockquote>
<p>由于我们使用的是 <code>三向快速排序 (Three-Way QuickSort)</code>，所以我们的 <code>划分函数 (Partition Function)</code> 会将 <code>给定的数组</code> 划分为3个部分，使得在部分中的任何元素满足：<code>x &lt; pivot</code>，<code>x = pivot</code> 和 <code>x &gt; pivot</code></p>
</blockquote>
</li>
</ul>
<p>在对 <code>指定的数字</code> 进行 <code>划分</code> 之后，我们可以获得以下 <code>信息</code> ：</p>
<ul>
<li><p><code>该数字的出现次数</code>：count &#x3D; upper\_bound - lower\_bound + 1</p>
</li>
<li><p>比 <code>该数字的出现次数</code> 少的 <code>部分</code>之中，不可能产生 <code>众数</code>。</p>
<blockquote>
<p>n.b. 在 <code>Moore Voting Method</code>中，我们要求 <code>寻找多数</code>。</p>
<blockquote>
<p><code>多数</code>：在 <code>序列</code>中，<code>出现次数</code> <code>超过</code> <code>序列的长度的一半</code> 的 <code>元素</code></p>
</blockquote>
<p><code>摩尔投票法</code> 并不要求 <code>原始数组</code> 是有序的，因为根据 <code>多数</code> 的定义，<code>多数的出现次数</code> 大于 <code>其他所有元素出现的次数</code>，所以我们可以 <code>确定</code>。</p>
<p><code>序列中某个元素的出现次数</code>如果超过 <code>序列的长度的一半</code>，则 <code>该元素</code> 必定是 <code>多数</code>。</p>
<blockquote>
<p>其实，有另一种求 <code>多数</code> 的 <code>简单策略</code>：直接将 <code>原始序列</code> 进行 <code>排序</code>，然后 <code>位于序列中间的元素</code> 就是 <code>多数</code></p>
</blockquote>
<blockquote>
<p><code>Moree Voting Method</code> 最多需要进行 \roundup{\frac{3n}{2}} - 2 次 <code>比较操作</code>。</p>
<p>而 <code>Three-Way Quicksort Method</code> 在处理 <code>相等元素</code> 非常多且选定 <code>该元素</code>作为 <code>基准元素 (pivot)</code> 的情况下，可以达到 <code>趋近于线性的复杂度</code>。</p>
<blockquote>
<p>可以通过 <code>随机化技术</code> 来 <code>透明地</code> 改变 <code>基准元素的选取</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// randomize pivot</span></span><br><span class="line">swap(nums, left_index, random.nextInt(right_index - left_index + <span class="number">1</span>) + left_index);</span><br></pre></td></tr></table></figure>

<p>但根据实际测试，这并不会对本题 <code>有较好的改善</code>。</p>
<p>由于 <code>众数的出现次数较多</code>，相应地 <code>在指定位置的元素是众数的概率</code> 也 <code>自然</code> 应当较大。而此时 <code>随机化技术</code> 并没有 <code>提高</code> <code>选取到众数的概率</code>，反而我们还需要付出 <code>较为昂贵的随机数生成的代价</code>。</p>
<p>然而，对于 <code>普通的2向快速排序</code> 和 <code>普通的3向快速排序</code>来说，可以认为 <code>原始数组的元素</code> 是 <code>随机的</code>，但我们可以用 <code>随机化技术</code> 来避免在 <code>某些特殊情况下</code>，选取到 <code>坏的基准元素</code>。</p>
</blockquote>
</blockquote>
</blockquote>
</li>
</ul>
<h3 id="Source-3"><a href="#Source-3" class="headerlink" title="Source"></a>Source</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Lab3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> util.Judger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Teeth</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 3/12/2022 07:48</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MajoritySolver_QuickSort</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> majority;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> count;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> left_index;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> right_index;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> lower_bound;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> upper_bound;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> majority, <span class="type">int</span> count, <span class="type">int</span> left_index, <span class="type">int</span> right_index, <span class="type">int</span> lower_bound, <span class="type">int</span> upper_bound)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.majority = majority;</span><br><span class="line">            <span class="built_in">this</span>.count = count;</span><br><span class="line">            <span class="built_in">this</span>.left_index = left_index;</span><br><span class="line">            <span class="built_in">this</span>.right_index = right_index;</span><br><span class="line">            <span class="built_in">this</span>.lower_bound = lower_bound;</span><br><span class="line">            <span class="built_in">this</span>.upper_bound = upper_bound;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> left_index, <span class="type">int</span> right_index)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.left_index = left_index;</span><br><span class="line">            <span class="built_in">this</span>.right_index = right_index;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Judger</span> <span class="variable">judger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Judger</span>(<span class="string">&quot;.\\Cases\\Lab3\\MAJORITY&quot;</span>).disablePrettyFormat().redirectErrorToErrorFile().setMaxExpectInputLines(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    [left_index..left_bound-1] &lt; majority</span></span><br><span class="line"><span class="comment">    [left_bound..right_bound] = majority</span></span><br><span class="line"><span class="comment">    [right_bound+1..right_index] &gt; majority</span></span><br><span class="line"><span class="comment">    array = 2 2 3 5 3 5 1 2 3 4</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left_index, <span class="type">int</span> right_index)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lower_bound</span> <span class="operator">=</span> left_index;</span><br><span class="line">        <span class="type">int</span> <span class="variable">upper_bound</span> <span class="operator">=</span> right_index;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left_index + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= upper_bound) &#123;</span><br><span class="line">            <span class="comment">// n.b. we use [lower_bound..upper_bound] to present x = majority</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; nums[lower_bound]) &#123;</span><br><span class="line">                swap(nums, lower_bound++, i++);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] &gt; nums[lower_bound]) &#123;</span><br><span class="line">                <span class="comment">// n.b. index i should not be incremented</span></span><br><span class="line">                swap(nums, upper_bound--, i);</span><br><span class="line">            &#125; <span class="keyword">else</span> i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct node */</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(nums[lower_bound], upper_bound - lower_bound + <span class="number">1</span>, left_index, right_index, lower_bound, upper_bound);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left_index, <span class="type">int</span> right_index)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (left_index &lt; right_index) &#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">split</span> <span class="operator">=</span> partition(nums, left_index, right_index);</span><br><span class="line">            <span class="type">int</span> <span class="variable">majority_nums_count</span> <span class="operator">=</span> split.upper_bound - split.lower_bound + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">left_nums_count</span> <span class="operator">=</span> split.lower_bound - split.left_index;</span><br><span class="line">            <span class="type">int</span> <span class="variable">right_nums_count</span> <span class="operator">=</span> split.right_index - split.upper_bound;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// n.b. select strategy: non-strict partial order</span></span><br><span class="line">            <span class="comment">// n.b. use MOORE VOTING METHOD here!</span></span><br><span class="line">            <span class="keyword">if</span> ((majority_nums_count &gt;= left_nums_count &amp;&amp; majority_nums_count &gt;= right_nums_count)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(nums[split.lower_bound], majority_nums_count, split.left_index, split.right_index, split.lower_bound, split.upper_bound);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">Node</span> <span class="variable">left_nums_node</span> <span class="operator">=</span> quickSort(nums, left_index, split.lower_bound - <span class="number">1</span>);</span><br><span class="line">                <span class="type">Node</span> <span class="variable">right_nums_node</span> <span class="operator">=</span> quickSort(nums, split.upper_bound + <span class="number">1</span>, right_index);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// n.b. select strategy: non-strict partial order</span></span><br><span class="line">                <span class="type">Node</span> <span class="variable">winner</span> <span class="operator">=</span> left_nums_node.count &gt;= right_nums_node.count ? left_nums_node : right_nums_node;</span><br><span class="line">                winner = winner.count &gt;= split.count ? winner : split;</span><br><span class="line">                <span class="keyword">return</span> winner;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// empty node</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(left_index, right_index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> begin, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quickSort(nums, begin, end - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Scanner scanner : judger) &#123;</span><br><span class="line">            <span class="comment">// Skip the first line.</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Read the numbers.</span></span><br><span class="line">            <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[capacity];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; scanner.hasNextInt(); i++) &#123;</span><br><span class="line">                nums[i] = scanner.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// call the algorithm</span></span><br><span class="line">            judger.manuallyStartTimer();</span><br><span class="line">            <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> getMajority(nums, <span class="number">0</span>, nums.length);</span><br><span class="line">            judger.manuallyStopTimer();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Output</span></span><br><span class="line">            System.out.println(node.majority);</span><br><span class="line">            System.out.println(node.count);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark-3"><a href="#Benchmark-3" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.045200</span> <span class="string">ms</span> <span class="string">(45200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">104.330000</span> <span class="string">ms</span> <span class="string">(104330000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001100</span> <span class="string">ms</span> <span class="string">(1100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001000</span> <span class="string">ms</span> <span class="string">(1000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.000901</span> <span class="string">ms</span> <span class="string">(901</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001200</span> <span class="string">ms</span> <span class="string">(1200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001101</span> <span class="string">ms</span> <span class="string">(1101</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002099</span> <span class="string">ms</span> <span class="string">(2099</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.004400</span> <span class="string">ms</span> <span class="string">(4400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">29</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.029600</span> <span class="string">ms</span> <span class="string">(29600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.564300</span> <span class="string">ms</span> <span class="string">(564300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.741200</span> <span class="string">ms</span> <span class="string">(3741200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">37.026301</span> <span class="string">ms</span> <span class="string">(37026301</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">71.459100</span> <span class="string">ms</span> <span class="string">(71459100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">83.852201</span> <span class="string">ms</span> <span class="string">(83852201</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/03/23/wp-global-styles-boxstyle/" rel="prev" title="Custom Styles">
      <i class="fa fa-chevron-left"></i> Custom Styles
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/03/26/temp/" rel="next" title="Combinatorics -  Catalan Number">
      Combinatorics -  Catalan Number <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Majority-Problem"><span class="nav-number">1.</span> <span class="nav-text">Majority Problem</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Problem"><span class="nav-number">1.1.</span> <span class="nav-text">Problem</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Description"><span class="nav-number">1.1.1.</span> <span class="nav-text">Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input"><span class="nav-number">1.1.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output"><span class="nav-number">1.1.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sample"><span class="nav-number">1.1.4.</span> <span class="nav-text">Sample</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-1-%EF%BC%88HashMap%EF%BC%89"><span class="nav-number">1.2.</span> <span class="nav-text">Solution 1 （HashMap）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis"><span class="nav-number">1.2.1.</span> <span class="nav-text">Analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Source"><span class="nav-number">1.2.2.</span> <span class="nav-text">Source</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Benchmark"><span class="nav-number">1.2.3.</span> <span class="nav-text">Benchmark</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-2-%EF%BC%88Sort-Two-Way-Divided%EF%BC%89"><span class="nav-number">1.3.</span> <span class="nav-text">Solution 2 （Sort + Two-Way Divided）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-1"><span class="nav-number">1.3.1.</span> <span class="nav-text">Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cases"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">Cases</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Case1-%E6%9C%80%E7%BB%88%E8%A7%A3%E7%9A%84%E4%BC%97%E6%95%B0%E4%BB%85%E4%BB%8E%E6%9F%90%E4%B8%80%E5%8D%8A%E5%B7%B2%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B9%8B%E4%B8%AD%E4%BA%A7%E7%94%9F%EF%BC%88%E8%AF%A5%E4%BC%97%E6%95%B0%E6%B2%A1%E6%9C%89%E8%B6%8A%E8%BF%87%E5%88%86%E5%89%B2%E7%82%B9%EF%BC%89"><span class="nav-number">1.3.1.1.1.</span> <span class="nav-text">Case1: 最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Case2-%E6%9C%80%E7%BB%88%E8%A7%A3%E7%9A%84%E4%BC%97%E6%95%B0%E6%9D%A5%E8%87%AA%E6%9F%90%E4%B8%80%E5%8D%8A%E5%B7%B2%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%EF%BC%88%E4%B8%94%E8%AF%A5%E4%BC%97%E6%95%B0%E8%B6%8A%E8%BF%87%E5%88%86%E5%89%B2%E7%82%B9%EF%BC%89"><span class="nav-number">1.3.1.1.2.</span> <span class="nav-text">Case2: 最终解的众数来自某一半已排序数组（且该众数越过分割点）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Case3-%E6%9C%80%E7%BB%88%E8%A7%A3%E7%9A%84%E4%BC%97%E6%95%B0%E6%9D%A5%E8%87%AA%E4%B8%A4%E4%B8%AA%E5%B7%B2%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%EF%BC%88%E5%BE%88%E6%98%BE%E7%84%B6%E8%AF%A5%E4%BC%97%E6%95%B0%E8%B6%8A%E8%BF%87%E5%88%86%E5%89%B2%E7%82%B9%EF%BC%89"><span class="nav-number">1.3.1.1.3.</span> <span class="nav-text">Case3: 最终解的众数来自两个已排序数组（很显然该众数越过分割点）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Source-1"><span class="nav-number">1.3.2.</span> <span class="nav-text">Source</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Benchmark-1"><span class="nav-number">1.3.3.</span> <span class="nav-text">Benchmark</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Summary"><span class="nav-number">1.3.4.</span> <span class="nav-text">Summary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-3-Sort-Three-Way-Divided"><span class="nav-number">1.4.</span> <span class="nav-text">Solution 3 (Sort + Three-Way Divided)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-2"><span class="nav-number">1.4.1.</span> <span class="nav-text">Analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Source-2"><span class="nav-number">1.4.2.</span> <span class="nav-text">Source</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Benchmark-2"><span class="nav-number">1.4.3.</span> <span class="nav-text">Benchmark</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-4-Three-Way-QuickSort"><span class="nav-number">1.5.</span> <span class="nav-text">Solution 4 (Three-Way QuickSort)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-3"><span class="nav-number">1.5.1.</span> <span class="nav-text">Analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Source-3"><span class="nav-number">1.5.2.</span> <span class="nav-text">Source</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Benchmark-3"><span class="nav-number">1.5.3.</span> <span class="nav-text">Benchmark</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">103</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
