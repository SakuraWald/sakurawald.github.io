<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sakurawald.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="SakuraWald">
<meta property="og:url" content="https://sakurawald.github.io/page/5/index.html">
<meta property="og:site_name" content="SakuraWald">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://sakurawald.github.io/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>SakuraWald</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">SakuraWald</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/27/test-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/27/test-2/" class="post-title-link" itemprop="url">Combinatorics - Stirling Number</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-27 03:15:58" itemprop="dateCreated datePublished" datetime="2022-03-27T03:15:58+00:00">2022-03-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Counting-Stirling-Number"><a href="#Counting-Stirling-Number" class="headerlink" title="[Counting] Stirling Number"></a>[Counting] Stirling Number</h1><h2 id="Difference-Sequence"><a href="#Difference-Sequence" class="headerlink" title="Difference Sequence"></a>Difference Sequence</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p>若</p>
<p>是一个序列。</p>
<p>则我们定义<code>一阶差分序列</code>为</p>
<p>其中\Delta h_n &#x3D; h_{n+1} - h_n</p>
<blockquote>
<p>同理，<code>二阶差分序列</code>为\Delta^2 h_n &#x3D; \Delta(\Delta h_n)&#x3D;\Delta h_{n+1} - \Delta h_n</p>
<p>而<code>零阶差分序列</code>即为<code>原始序列</code></p>
</blockquote>
<h2 id="Difference-Table"><a href="#Difference-Table" class="headerlink" title="Difference Table"></a>Difference Table</h2><p>差分表（Difference Table)的定义是：将<code>每个p=0,1,2,...,阶的差分序列</code>排成一行而得到。</p>
<p>如：</p>
<h3 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h3><h4 id="Theorem-1"><a href="#Theorem-1" class="headerlink" title="Theorem 1"></a>Theorem 1</h4><h5 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h5><p>设<code>序列的通项是n的p次多项式</code>，即</p>
<p>则对于所有的n \ge 0, \Delta^{p+1}h_n &#x3D; 0</p>
<blockquote>
<p>换句话说，如果某个序列的通项的最高次是p，那么\Delta^{p+1}h_n &#x3D; 0</p>
</blockquote>
<h5 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h5><p>我们不妨采用<code>归纳法</code>来证明这个结论。</p>
<p>已知</p>
<p>对于p&#x3D;0，则h_n &#x3D; a_0</p>
<p>故\Delta h_n &#x3D; h_{n+1} - h_n &#x3D; a_0 - a_0 &#x3D; 0 \quad (n \ge 0)满足题意</p>
<hr>
<p>使用<code>n+1</code>代替<code>n</code>得到</p>
<p>根据定义 \Delta h_n &#x3D; h_{n+1} - h_n得</p>
<p>我们考察a_p(n+1)^p和a_pn^p这两项</p>
<p>通过观察可以发现，a_pn^p这一项被<code>消掉</code>了。</p>
<blockquote>
<p>h_{n+1}和h_{n}中a_pn^p这一项的<code>系数</code>必定相等，因为对于 (n+1)^p的<code>多项式展开</code>，只有<code>所有的选择</code>都<code>取n这项</code>才足够达到<code>n次多项式</code></p>
</blockquote>
<p>同理，通过其他方式，比如直接考察a_1(n+1)和a_1n我们也可以发现，n被<code>消除</code>，从而<code>多项式被降次</code></p>
<blockquote>
<p>换句话说，通过\Delta h_n &#x3D; h_{n+1} - h_n，我们<code>得到的多项式中的每一项都相比原来的项被降了1次</code>。</p>
</blockquote>
<p>因此，<code>每升高一阶差分序列</code>均会对<code>先前的序列（的所有项）</code> <code>降低1次</code>。</p>
<p>故对于<code>序列的通项是n的p次多项式</code>，我们只需要<code>重复p+1</code>次（若重复p次，则序列的最高次为0次，为常数项序列。但不一定所有的常数都为0）即可将<code>序列的所有项都变为0</code>，满足\Delta^{p+1} h_n &#x3D; 0</p>
<h4 id="Theorem-2"><a href="#Theorem-2" class="headerlink" title="Theorem 2"></a>Theorem 2</h4><h5 id="Content-1"><a href="#Content-1" class="headerlink" title="Content"></a>Content</h5><p><code>差分表</code>的<code>第0条对角线</code>（即最左边的那一条对角线）等于</p>
<p><code>的序列的通项</code>是满足</p>
<p>的<code>n的p次多项式</code></p>
<h5 id="Proof-1"><a href="#Proof-1" class="headerlink" title="Proof"></a>Proof</h5><p>考察具体例子：若已知<code>差分表的第0条对角线</code>上的<code>元素是：0,0,0,0,1,0,0,...</code></p>
<p>通过<code>第0条对角线上的元素</code>可以<code>确定整个差分表的元素</code>。可知：h_0 &#x3D; 0, h_1 &#x3D; 0, h_2 &#x3D; 0, h_3 &#x3D; 0, h_4 &#x3D; 1</p>
<p>且可知是一个次多项式h_n是一个4次多项式，这个<code>多项式具有根0,1,2,3</code></p>
<blockquote>
<p>可以把h_n当成是关于n的函数，则这个多项式具有根0,1,2,3，因为当n取0,1,2,3时，h_n &#x3D; 0</p>
</blockquote>
<p>根据初始条件h_4 &#x3D; 1可确认c &#x3D; \frac{1}{4!}</p>
<p>故</p>
<hr>
<h5 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h5><p>该定理可用于<code>求部分和</code> H_n</p>
<p>根据计算公式得出结果。</p>
<p>整合得</p>
<h5 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h5><h6 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h6><p>求通项为h_n &#x3D; n^p的序列的前n个数的和。</p>
<h6 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h6><p>设k_n &#x3D; n^p的差分表的<code>第0条对角线上的元素为</code></p>
<p>则可知h_n的表示为</p>
<p>根据</p>
<p>整合得</p>
<hr>
<h2 id="The-Second-Stirling-Number"><a href="#The-Second-Stirling-Number" class="headerlink" title="The Second Stirling Number"></a>The Second Stirling Number</h2><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><p>定义<code>第二类Stirling数</code> <code>S(p, k)</code></p>
<h3 id="Theorem-1"><a href="#Theorem-1" class="headerlink" title="Theorem"></a>Theorem</h3><h4 id="Theorem-1-1"><a href="#Theorem-1-1" class="headerlink" title="Theorem 1"></a>Theorem 1</h4><h5 id="Content-2"><a href="#Content-2" class="headerlink" title="Content"></a>Content</h5><p>如果1 \le k \le p-1，则S(p, k) &#x3D; k\times S(p-1,k) + S(p-1, k-1)</p>
<h5 id="Proof-2"><a href="#Proof-2" class="headerlink" title="Proof"></a>Proof</h5><p>通过将<code>第二类Stirling数</code>代入<code>部分和公式</code>整合得到</p>
<p>为了得出n^p和n^{p-1}之间的关系，我们用p-1代替p得到</p>
<p>接着，我们构造n^{p-1}和n^p之间的联系</p>
<blockquote>
<p>最后两步是通过用k-1代替求和中的k得到的。</p>
</blockquote>
<p>综上，</p>
<h5 id="Stirling-Triangle"><a href="#Stirling-Triangle" class="headerlink" title="Stirling Triangle"></a>Stirling Triangle</h5><p><img src="https://s2.loli.net/2022/03/27/Qxh3UTq7l14PD2N.png" alt="image-20220327074734056"></p>
<p>性质</p>
<h4 id="Theorem-2-1"><a href="#Theorem-2-1" class="headerlink" title="Theorem 2"></a>Theorem 2</h4><h5 id="Content-3"><a href="#Content-3" class="headerlink" title="Content"></a>Content</h5><p><code>第二类Stirling数</code>计数的是<code>把p元素集合划分到k个不可区分的盒子中且没有空盒子的划分个数</code></p>
<h5 id="Proof-3"><a href="#Proof-3" class="headerlink" title="Proof"></a>Proof</h5><p>考虑将<code>前p个正整数1,2,3,...,p</code>划分到<code>k个不可区分的盒子</code>中。</p>
<p>对于<code>元素p</code>而言，有<code>两种划分方式</code></p>
<ol>
<li>让元素p<code>单独占据</code>一个<code>盒子</code></li>
<li>让元素p<code>不单独占据</code>一个<code>盒子</code></li>
</ol>
<p>在第1种情况下，如果我们从<code>包含元素p的盒子</code>中拿走<code>元素p</code>，那么<code>非空集合的数量</code>应当从<code>k个</code>减少到<code>k-1个</code>。</p>
<p>即：S(p - 1, k - 1)种方案</p>
<p>在第2种情况下，如果我们从<code>包含元素p的盒子</code>中拿走<code>元素p</code>，由于<code>元素p</code>可能存在于<code>k个盒子中的任何一个</code>，而我们无法确认<code>这个盒子</code>到底是哪一个，故<code>这k个盒子的每一个都可以构成一种方案</code>。即： k * S(p - 1, k)</p>
<p>综上，在<code>p-1个元素的基础上</code>所能产生的划分个数为</p>
<blockquote>
<p>注：上述解释是基于<code>从p个元素中取走1个元素</code>来进行的。解释也可以基于<code>从p-1个元素中加入1个新元素</code>来进行。解释方式是对称的。</p>
</blockquote>
<h4 id="Theorem-3"><a href="#Theorem-3" class="headerlink" title="Theorem 3"></a>Theorem 3</h4><h5 id="Content-4"><a href="#Content-4" class="headerlink" title="Content"></a>Content</h5><p>求将<code>p个元素集合划分到k个可区分的盒子中且没有空盒子的划分个数</code> S^\#(p, k)。</p>
<p>对此而言，可以理解为<code>这k个可区分的盒子</code>是由<code>k种颜色涂色的盒子</code>。</p>
<p>而 S^\#(p, k) &#x3D; k! \times S(p, k) &#x3D; c(p, k)</p>
<blockquote>
<p>见前面对第二类Stirling数的定义</p>
</blockquote>
<h4 id="Theorem-4"><a href="#Theorem-4" class="headerlink" title="Theorem 4"></a>Theorem 4</h4><h5 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h5><p>求将<code>p个元素集合划分到k个可区分的盒子中，且可能存在空盒子的划分个数</code></p>
<h5 id="Content-5"><a href="#Content-5" class="headerlink" title="Content"></a>Content</h5><p>对每一个满足0 \le k \le p的整数k，都有</p>
<p>因而</p>
<h5 id="Proof-4"><a href="#Proof-4" class="headerlink" title="Proof"></a>Proof</h5><p>运用<code>容斥原理</code>，设U表示<code>将p个元素集合划分到k个可区分的盒子中的划分个数</code> &#x3D; k^p</p>
<p>定义<code>k个性质</code>P_1, P_2, \dots, P_k，其中P_i是第i个盒子B_i是空盒的性质</p>
<p>设A_i表示盒子B_i是空盒的那些划分组成的子集。</p>
<p>故</p>
<p>且</p>
<p>设t是一个满足1 \le t \le k的整数，使得B_1, B_2, \dots, B_t中<code>共t个盒子</code>是<code>空盒子</code>，而<code>剩下的k-t个盒子可空可不空</code>：B_{t+1}, B_{t+2}, \dots, B_k</p>
<p>故\overline{A_1} \cap \overline{A_2} \cap \dots \cap \overline{A_t}计数的是<code>将p个元素结合划分到k-t个可区分盒子的个数（这些k-t个盒子可空可不空）</code>=(k-t)^p</p>
<p>无论假设的是哪t个盒子是空的，所得的结果都相同。</p>
<p>即：对于\{1,2,3,\dots,k\}的每个t子集\{i_1,i_2,i_3,\dots,i_t\}而言</p>
<p>综上，</p>
<blockquote>
<p>t满足1 \le t \le k时会将<code>箱子</code>分成<code>两部分不同性质的箱子且两部分箱子均至少有1个箱子</code>。而当t &#x3D; 0时，即为 全集U，此时<code>两部分箱子中的一部分没有分到任何的箱子</code></p>
</blockquote>
<h4 id="Theorem-5"><a href="#Theorem-5" class="headerlink" title="Theorem 5"></a>Theorem 5</h4><h5 id="Background-1"><a href="#Background-1" class="headerlink" title="Background"></a>Background</h5><p><code>Bell数</code>指的是<code>将p个元素集合</code>划分到<code>非空且不可区分的集合的划分个数</code>。即</p>
<blockquote>
<p>注意这里将 S(p, 0)即没有任何盒子的这一种特殊情况也算入</p>
</blockquote>
<h5 id="Content-6"><a href="#Content-6" class="headerlink" title="Content"></a>Content</h5><p>若p \ge 1，则</p>
<h5 id="Proof-5"><a href="#Proof-5" class="headerlink" title="Proof"></a>Proof</h5><p>考虑<code>包含p元素的这个盒子</code>，<code>该盒子除了包含p元素之外</code>，还包含\{1, 2, ,3, \dots, p-1\}中的子集X。</p>
<p>所以对于<code>包含p元素的这个盒子</code>，它的元素由<code>2部分构成</code></p>
<ol>
<li>p元素</li>
<li>包含\{1,2,3,\dots,p-1\}中的子集X （子集X可能是空集，也就是说此时p元素独自占有这个盒子）</li>
</ol>
<p>为了<code>确定这个盒子的元素</code>，我们需要从\{1,2,3,\dots,p-1\}中选择子集X。</p>
<p>设t满足0 \le t \le p-1，则我们可以从\{1,2,3,\dots,p-1\}中选出<code>t个元素</code>来和<code>p元素</code>作伴，同时将<code>剩余的p - 1 - t个元素划分到非空且不可区分的集合</code>中</p>
<p>即</p>
<p>Q.E.D</p>
<h2 id="The-First-Stirling-Number"><a href="#The-First-Stirling-Number" class="headerlink" title="The First Stirling Number"></a>The First Stirling Number</h2><h3 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h3><p>将\left[n\right]_p完全展开后得到形如下式的含有n的幂的多项式：</p>
<p>其中，定义<code>第一类Stirling数</code>即为上列多项式的<code>系数</code>s(p,k) \quad (0 \le k \le p)</p>
<p>其中s(p,0) &#x3D; 0 \quad (p \ge 1) 和 s(p,p) &#x3D; 1 \quad (p \ge 0)</p>
<h3 id="Theorem-2"><a href="#Theorem-2" class="headerlink" title="Theorem"></a>Theorem</h3><h4 id="Theorem-1-2"><a href="#Theorem-1-2" class="headerlink" title="Theorem 1"></a>Theorem 1</h4><h5 id="Content-7"><a href="#Content-7" class="headerlink" title="Content"></a>Content</h5><p>如果1 \le k \le p-1，则</p>
<h5 id="Proof-6"><a href="#Proof-6" class="headerlink" title="Proof"></a>Proof</h5><p>尝试采用<code>数学归纳法</code>证明结论。</p>
<p>对s(p,k)使用<code>p-1</code>代替<code>p</code>得</p>
<p>观察得出</p>
<blockquote>
<p>这个观察并不会简单</p>
</blockquote>
<p>通过<code>比较</code>n^k<code>的相应系数可得出</code></p>
<p>Q.E.D</p>
<h4 id="Theorem-2-2"><a href="#Theorem-2-2" class="headerlink" title="Theorem 2"></a>Theorem 2</h4><h5 id="Content-8"><a href="#Content-8" class="headerlink" title="Content"></a>Content</h5><p><code>第一类Stirling数</code>s(p,k)计数的是把<code>p个对象</code>排列成<code>k个非空循环排列</code>的方案数。</p>
<h5 id="Proof-7"><a href="#Proof-7" class="headerlink" title="Proof"></a>Proof</h5><p>考虑<code>第p个对象的选择方案</code></p>
<ol>
<li>让<code>第p个对象</code>独自成为1个队列</li>
<li>让<code>第p个对象</code>插入到<code>已存在队列</code>的<code>总共p-1个人</code>的<code>前面</code>（或者说<code>后面</code>也行）</li>
</ol>
<p>故</p>
<blockquote>
<p>在这个递推分析中，我们只关注<code>第p个对象</code>和<code>前面p-1个对象</code>之间的关系，而不关注具体的循环排列是如何计算的。通过考虑<code>第p个对象的处置方案数</code>从而得出递推关系。</p>
</blockquote>
<p>Q.E.D</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/27/stirling-number-set-partition-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/27/stirling-number-set-partition-problem/" class="post-title-link" itemprop="url">Stirling-Number-  Set Partition Problem</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-27 03:01:25" itemprop="dateCreated datePublished" datetime="2022-03-27T03:01:25+00:00">2022-03-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Set-Partition-Problem"><a href="#Set-Partition-Problem" class="headerlink" title="Set Partition Problem"></a>Set Partition Problem</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>n 个元素的集合{1,2, … , <em>n</em> }可以划分为若干个非空子集。</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>由文件 input.txt 提供输入数据。文件的第 1 行是元素个数 n。</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>程序运行结束时，将计算出的不同的非空子集数输出到文件 output.txt 中。</p>
<h2 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h2><p><strong>输入文件示例</strong></p>
<p>input.txt</p>
<p>5</p>
<p><strong>输出文件示例</strong></p>
<p>output.txt</p>
<p>52</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="Solution-1-Stirling"><a href="#Solution-1-Stirling" class="headerlink" title="Solution 1 (Stirling)"></a>Solution 1 (Stirling)</h3><h4 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h4><p><code>由n个元素组成的集合</code>的<code>划分非空子集方案数</code>可以被看作是：</p>
<p><code>n个不同的小球（即n个不同的数字，或者理解为n个带不同颜色的小球）</code>放入<code>无限多个不可区分的箱子</code>的方案数。</p>
<blockquote>
<p>箱子是不可区分 (Indistinguishable) 的，指箱子本身不可区分。但是箱子的内容（即箱子里所放的小球）是可区分的。</p>
</blockquote>
<p>由于要求<code>不能有空集</code>（即我们可以简单地忽略掉<code>那些没有放入任何小球的箱子</code>）</p>
<p>因此，如果我们有<code>n个不同的小球</code>，那么<code>非空集合的个数 m</code>应满足</p>
<p>当m &#x3D; 0时，这意味着<code>没有任何箱子中放有小球</code>，这不满足<code>我们要将小球划分到箱子中的要求</code>，故方案数为0</p>
<p>当m &#x3D; 1时，即<code>所有的n个小球</code>全部都放入<code>同一个箱子</code></p>
<p>……</p>
<p>当m&#x3D;n时，即<code>所有的n个小球</code>都<code>独自占有1个箱子</code></p>
<p>当m \gt n时，意味着<code>我们要让m个箱子都非空</code>，但是由于<code>我们所拥有的小球数量n &lt; m</code>，故根据<code>鸽巢原理</code>（即使我们让<code>n个箱子都各自只装入1个小球</code>，也仍然有<code>m-n个箱子中没有小球可以装入</code>），这是不可能的。所以这种情况下方案数也为0.</p>
<hr>
<p>假设A_n为<code>n个元素的集合</code>划分为<code>非空子集</code>的方案数。</p>
<p>S(n, m)为将<code>n个元素的集合</code>划分为<code>m个非空集合</code>的方案数。</p>
<p>故</p>
<p>为了得到A_n的递推关系，我们尝试从<code>集合划分的最后一步</code> 来考虑。</p>
<p>即：S_n的数值可以认为是，在S_{n-1}的情况上，我们<code>额外地获得了一个小球</code>后所形成的方案数。</p>
<p>我们对于<code>这个新获得的小球</code>，有两种<code>选择</code></p>
<ol>
<li>让这个小球<code>独自占有1个新的箱子</code></li>
<li>把这个小球<code>放入到已有的m-1个非空箱子中的任意一个</code></li>
</ol>
<p>据此得出递推关系</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">S</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (m == <span class="number">0</span>  n &lt; m) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (m == <span class="number">1</span>  n == m) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> S(n - <span class="number">1</span>, m - <span class="number">1</span>) + m * S(n - <span class="number">1</span>, m);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">A</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">1</span>; m &lt;= n; m++) &#123;</span><br><span class="line">        sum += S(n, m);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Benchmark"><a href="#Benchmark" class="headerlink" title="Benchmark"></a>Benchmark</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL0.in</span> <span class="string">&amp;</span> <span class="string">BELL0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">5</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">52</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">52</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.643300</span> <span class="string">ms</span> <span class="string">(1643300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL1.in</span> <span class="string">&amp;</span> <span class="string">BELL1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">15</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1382958545</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1382958545</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.033600</span> <span class="string">ms</span> <span class="string">(1033600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL2.in</span> <span class="string">&amp;</span> <span class="string">BELL2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">16</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1890207555</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1890207555</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.819100</span> <span class="string">ms</span> <span class="string">(819100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL3.in</span> <span class="string">&amp;</span> <span class="string">BELL3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">17</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1260491180</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1260491180</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.877300</span> <span class="string">ms</span> <span class="string">(877300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL4.in</span> <span class="string">&amp;</span> <span class="string">BELL4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">14</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">190899322</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">190899322</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.726000</span> <span class="string">ms</span> <span class="string">(726000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL5.in</span> <span class="string">&amp;</span> <span class="string">BELL5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">13</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">27644437</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">27644437</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.634700</span> <span class="string">ms</span> <span class="string">(634700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL6.in</span> <span class="string">&amp;</span> <span class="string">BELL6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">6</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">203</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">203</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.676200</span> <span class="string">ms</span> <span class="string">(676200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL7.in</span> <span class="string">&amp;</span> <span class="string">BELL7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">7</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">877</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">877</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.712700</span> <span class="string">ms</span> <span class="string">(712700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h3 id="Solution-2-Simulation"><a href="#Solution-2-Simulation" class="headerlink" title="Solution 2 (Simulation)"></a>Solution 2 (Simulation)</h3><h4 id="Analysis-1"><a href="#Analysis-1" class="headerlink" title="Analysis"></a>Analysis</h4><p>这种方法通过观察n&#x3D;1,2,3 \dots等<code>前几个比较简单的案例</code>，得到从<code>前一种案例</code>中<code>生成</code> <code>下一种案例的方法</code>。</p>
<p>即该种方法<code>完全地模拟了实际的集合划分情况</code>，对<code>时间和空间</code>的消耗都比较大。</p>
<blockquote>
<p>可以使用<code>备忘录机制</code>，<code>滚动数组</code>，<code>更优的数据结构表示</code>等手段来进行优化。</p>
</blockquote>
<h4 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Integer&gt; M = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(<span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Integer&gt; <span class="title function_">generateSimulateList</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Initialize simulate list */</span></span><br><span class="line">    ArrayList&lt;Integer&gt; simulateList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> simulateList;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Construct simulate list */</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">2</span>; k &lt; n; k++) &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; tempList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> t : simulateList) &#123;</span><br><span class="line">            <span class="comment">// add a (self + 1)</span></span><br><span class="line">            tempList.add(t + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// add self amount of self</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t; i++) tempList.add(t);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// calc sum</span></span><br><span class="line">            sum += (t + <span class="number">1</span>) + (t * t);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (k == M.size()) &#123;</span><br><span class="line">            M.add(sum);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        simulateList = tempList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> simulateList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Generate M[] */</span></span><br><span class="line">    generateSimulateList(n);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Accumulate plans */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">        sum += M.get(k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Benchmark-1"><a href="#Benchmark-1" class="headerlink" title="Benchmark"></a>Benchmark</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL0.in</span> <span class="string">&amp;</span> <span class="string">BELL0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">5</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">52</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">52</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.638300</span> <span class="string">ms</span> <span class="string">(1638300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL1.in</span> <span class="string">&amp;</span> <span class="string">BELL1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">15</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1382958545</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1382958545</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">5871.995300 </span><span class="string">ms</span> <span class="string">(5871995300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL2.in</span> <span class="string">&amp;</span> <span class="string">BELL2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">16</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1890207555</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> []</span><br><span class="line"><span class="string">Skipped.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL3.in</span> <span class="string">&amp;</span> <span class="string">BELL3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">17</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1260491180</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> []</span><br><span class="line"><span class="string">Skipped.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL4.in</span> <span class="string">&amp;</span> <span class="string">BELL4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">14</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">190899322</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">190899322</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">5377.599300 </span><span class="string">ms</span> <span class="string">(5377599300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL5.in</span> <span class="string">&amp;</span> <span class="string">BELL5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">13</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">27644437</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">27644437</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">45.983500</span> <span class="string">ms</span> <span class="string">(45983500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL6.in</span> <span class="string">&amp;</span> <span class="string">BELL6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">6</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">203</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">203</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.636100</span> <span class="string">ms</span> <span class="string">(636100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">BELL7.in</span> <span class="string">&amp;</span> <span class="string">BELL7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">7</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">877</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">877</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.658200</span> <span class="string">ms</span> <span class="string">(658200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">→</span> <span class="string">→</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/26/temp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/26/temp/" class="post-title-link" itemprop="url">Combinatorics -  Catalan Number</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-26 11:49:06" itemprop="dateCreated datePublished" datetime="2022-03-26T11:49:06+00:00">2022-03-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Counting-Catalan-Number"><a href="#Counting-Catalan-Number" class="headerlink" title="[Counting] Catalan Number"></a>[Counting] Catalan Number</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>Catalan数是定义如下的数列</p>
<p>其中将 n 替换为 <code>n - 1</code>可得到</p>
<p>该式 C_{n-1} 的含义是: <code>具有 n + 1 条边的凸多边形</code>被其<code>内部不相交的对角线</code>所<code>划分出的三角形区域的方法数</code> h_n</p>
<p>其中</p>
<h2 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h2><h3 id="Theorem-1-The-Number-of-Acceptable-Sequence"><a href="#Theorem-1-The-Number-of-Acceptable-Sequence" class="headerlink" title="Theorem 1 (The Number of Acceptable Sequence)"></a>Theorem 1 (The Number of Acceptable Sequence)</h3><h4 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h4><p>考虑由<code>n个+1</code>和<code>n个-1</code>构成的<code>2n项序列</code>a_n</p>
<p>则<code>该序列的部分和满足下列条件</code></p>
<p><code>的序列的个数</code>等于<code>第n个Catalan数</code></p>
<h4 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h4><p>定义满足下列条件的序列为<code>可接受序列 (Acceptable Sequence)</code></p>
<p>否则，将序列称为<code>不可接受序列 (Unacceptable Sequence)</code></p>
<hr>
<p>由<code>n个+1</code>和<code>n个-1</code> <code>所构成的2n项序列</code>a_n 的个数 T_n 满足</p>
<p>设：由<code>n个+1</code>和<code>n个-1</code> <code>所构成的2n项序列</code>a_n 中的<code>可接受序列</code>的个数为A_n</p>
<p>同样地，设<code>其中的不可接受序列</code>的个数为U_n</p>
<p>故</p>
<p>因此，只需求出 U_n 即可求出 A_n</p>
<hr>
<p>假设 a_k 是<code>序列中第一个导致形成不可接受序列的元素</code>，即</p>
<p>则我们可以知道<code>前k-1个元素</code>中，<code>-1元素</code>和<code>+1元素</code>的个数相等。即</p>
<p>因此，我们可以得到<code>不可接受序列的结构</code>：<code>前k-1个元素中有相等数量的-1元素和+1元素</code>，而<code>第k个元素是-1元素</code>。</p>
<hr>
<p>现在，我们将<code>前k项中的每一项的符号进行反转</code>：即对 i &#x3D; 1, 2, 3, … , k 我们使用 -a_i 来代替 a_i</p>
<p>得到变化后的序列</p>
<p>我们得到的<code>新序列</code>包含<code>n+1个+1</code>和<code>n-1个-1</code>共<code>2n项</code>，</p>
<p>该<code>数列</code>是通过对<code>原数列</code>的<code>前k个元素进行符号反转</code>而得到的，而由于<code>该序列</code>的<code>+1元素</code>比<code>-1元素</code>多<code>1个</code>（在<code>反转符号</code>之前，<code>原序列</code>的<code>+1元素</code>和<code>-1元素</code>的个数相等均为n），所以该序列必定是<code>不可接受序列</code>。</p>
<p>为了得到<code>不可接受序列</code>的个数，我们需要做的仅仅是<code>考虑如何排列</code>这<code>n+1个+1元素</code>和<code>n-1个-1元素</code></p>
<p>因此我们得到，<code>不可接受序列</code>的个数等同于：由<code>n+1个+1元素</code>和<code>n-1个-1元素</code>所组成的<code>2n项的数列</code>的个数。即</p>
<blockquote>
<p>注：我们并不关心k究竟取什么值，而仅仅是关心这样一个结构：前k-1个元素中+1元素和-1元素的个数相等，且第k个元素的值为-1</p>
</blockquote>
<blockquote>
<p>注：我们对于k的定义为：a_k 是使得 数列的部分和S_k ＜0的第一个元素。</p>
<p>在U_n 的计算公式中，我们也并不关心k究竟在哪里。而仅仅关心如何排列 n+1个+1元素和n-1个-1元素，这是因为，我们可以通过所形成的排列，再根据k的定义，倒推出k所应处的位置。</p>
</blockquote>
<hr>
<p>综上，</p>
<p>Q.E.D</p>
<h4 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h4><h5 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h5><h6 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h6><p>一位律师在他所<code>居住</code>的所有<code>以北n个街区</code>和<code>以东n个街区</code>的地方<code>工作</code>。每天他要走<code>2n个街区</code>去<code>工作</code>。</p>
<p>如果他从来<code>不穿越（但可以接触）</code> <code>从家到工作场所的对角线</code>，则<code>有多少条可能的路线</code>？</p>
<p><img src="https://s2.loli.net/2022/03/26/tWw1VcEi4aBkUmx.png" alt="image-20220326163649380"></p>
<blockquote>
<p>注：上图中n&#x3D;4，律师从src到dst总共走2n个街区</p>
</blockquote>
<h6 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h6><p><code>律师</code>从<code>起点</code>出发到达<code>终点</code>总共需要走<code>n个水平步</code>和<code>n个垂直步</code>。</p>
<p>所以，<code>从src到dst的总路线数量</code> T_n 应为</p>
<p>但是，这并不是该问题的最终解。因为该问题还需要满足约束：不能<code>越过对角线</code>。</p>
<hr>
<p>我们设<code>向北走为+1元素</code>，<code>向东走为-1元素</code>。于是<code>每一条路线</code>都可以构成<code>一个序列</code> a_n</p>
<p><code>一条合法的路线</code>应满足</p>
<p>该模型符合<code>Catanlan数</code>，即<code>合法路线的数量</code>=<code>可接受序列的数量</code></p>
<p>因此，<code>位于对角线上方的路线的数量</code> &#x3D; <code>位于对角线下方的路线的数量</code> &#x3D; Catalan(n)</p>
<p>综上，<code>所有合法的路线的数量</code> &#x3D; 2 * Catalan(n)</p>
<h2 id="Extension"><a href="#Extension" class="headerlink" title="Extension"></a>Extension</h2><h3 id="Pseudo-Catalan-Number"><a href="#Pseudo-Catalan-Number" class="headerlink" title="Pseudo-Catalan Number"></a>Pseudo-Catalan Number</h3><h4 id="Definiton"><a href="#Definiton" class="headerlink" title="Definiton"></a>Definiton</h4><p>在Catalan数的基础上，我们定义Pseudo-Catalan如下：</p>
<h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h4><h5 id="Example-1-1"><a href="#Example-1-1" class="headerlink" title="Example 1"></a>Example 1</h5><h6 id="Description-1"><a href="#Description-1" class="headerlink" title="Description"></a>Description</h6><p>设a_1, a_2, \dots, a_n为n个数。<code>运算方案</code>是指按照a_1, a_2, \dots, a_n的顺序进行<code>抽象运算</code>的方案。</p>
<p>设 h_n 表示<code>n个数的抽象运算方案的数目</code>。</p>
<blockquote>
<p>注：该抽象运算为二元运算，且不支持交换律。</p>
</blockquote>
<p>例：h_2 &#x3D; 2即或(a_1 * a_2) 或 (a_2 * a_1)</p>
<h6 id="Analysis-1"><a href="#Analysis-1" class="headerlink" title="Analysis"></a>Analysis</h6><p>尝试对h_n采用归纳法得出递推关系。</p>
<p>首先考虑简单情况，h_1&#x3D;1，h_2 &#x3D; 2。</p>
<p>接下来，考虑h_3</p>
<p>h_3的情况可以<code>视为</code>在h_2的基础上，<code>再将一个元素插入到合适的位置进行抽象运算</code></p>
<p>可知：的所有抽象运算方案和h_2的所有抽象运算方案: (a_1 * a_2) 和 (a_2 * a_1)</p>
<p>不妨考虑在<code>h_2的其中1个抽象运算方案</code> (a_1 * a_2)的基础上，<code>插入元素</code>a_3</p>
<p>a_3可以<code>与a1括起来</code>或者<code>与a2括起来</code>，所以a_3可以<code>选择与2个元素中的其中1个先进行运算</code>。</p>
<p>而在<code>选定好先进行运算的元素后</code>，a_3还可以<code>选择是与该元素左运算或右运算</code>。</p>
<p>因此，我们可以列出总共的2 * 2 &#x3D; 4 种抽象运算方案：</p>
<p>((a_3 * a_1) * a_2)</p>
<p>((a_1 * a_3) * a_2)</p>
<p>(a_1 * (a_3 * a_2))</p>
<p>(a_1 * (a_2 * a_3))</p>
<p>但以上的方案并没有考虑完全，a_3也可以<code>选择独自参与运算</code>，即还有2种方案应当被考虑：</p>
<p>a_3 * (a_1 * a_2)</p>
<p>(a_1 * a_2) * a_3</p>
<p>综上，h_3 &#x3D; 2*2 * (3-2) + 2 &#x3D; 6</p>
<blockquote>
<p>注：因为我们计算的是a_3，而a_3是基于a_2的基础的。对于a_2来说，总共2个元素，共有2-1&#x3D;1次抽象运算（同理2-1&#x3D;1个括号）</p>
</blockquote>
<blockquote>
<p>对于h_n，可以理解为先选择n个数的排列方式，然后再插入(n-1)对括号。</p>
</blockquote>
<p>综上</p>
<p>由于h_{n-1}的<code>每一种乘法方案</code>均可以给出4n-6个<code>新的方案</code></p>
<p>故，我们将h_n拓展为</p>
<p>Q.E.D</p>
<h5 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h5><h6 id="Description-2"><a href="#Description-2" class="headerlink" title="Description"></a>Description</h6><p>如果在Example 2的例子中，我们只计数按照a_1, a_2, a_3, …, a_n的顺序排列的<code>抽象运算方案数</code> g_n</p>
<h6 id="Analysis-2"><a href="#Analysis-2" class="headerlink" title="Analysis"></a>Analysis</h6><p>也就是说，对于比Example 1中<code>计数所有的排列顺序的抽象运算方案数</code>，在这里我们<code>仅计算这1种排列顺序的抽象运算方案数</code>。</p>
<p>即可知</p>
<p>也就是说：<code>n个元素按固定顺序排列的抽象运算的方案数</code>g_n &#x3D; C_{n-1}</p>
<p>Q.E.D</p>
<hr>
<p>此外，我们也可以根据g_n的<code>定义</code>来导出它的<code>递推关系</code>。</p>
<p>在a_1,a_2,a_3,\dots,a_n的<code>每一个抽象运算方案中</code>，总是存在<code>最后一次的抽象运算运算</code>，它<code>对应着最外面的括号</code>。</p>
<p>即：</p>
<p>的抽象运算方案的抽象运算方案</p>
<p>故，我们有g_k种方案来选择a_1,a_2,\dots,a_k的抽象运算方案，有g_{n-k}种方案来选择a_{k+1}, a_{k+2},\dots,a_n的抽象运算方案。并且，我们有1 \le k \le n-1</p>
<p>综上：</p>
<p>又有</p>
<p>即</p>
<p>我们使用n+1来代替n</p>
<p>结论：</p>
<p>g_n的含义：</p>
<ol>
<li>将<code>有n+1条边的凸多边形</code>利用<code>插入在不相交的对角线</code>来<code>划分为三角形区域</code>的<code>方案数</code></li>
<li>给定<code>某个顺序的抽象运算的方案数</code></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/25/divide-and-conquer-majority-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/25/divide-and-conquer-majority-problem/" class="post-title-link" itemprop="url">Divide and Conquer - Majority Problem</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-25 19:27:42" itemprop="dateCreated datePublished" datetime="2022-03-25T19:27:42+00:00">2022-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Majority-Problem"><a href="#Majority-Problem" class="headerlink" title="Majority Problem"></a>Majority Problem</h1><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>给定含有 n 个元素的多重集合 S，每个元素在 S 中出现的次数称为该元素的重数。多重</p>
<p>集 S 中重数最大的元素称为众数。</p>
<p>例如，S&#x3D;{1，2，2，2，3，5}。</p>
<p>多重集 S 的众数是 2，其重数为 3。</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>输入数据由文件名为 input.txt 的文本文件提供。</p>
<p>文件的第 1 行多重集 S 中元素个数 n；接下来的 n 行中，每行有一个自然数。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>程序运行结束时，将计算结果输出到文件 output.txt 中。输出文件有 2 行，第 1 行给</p>
<p>出众数，第 2 行是重数</p>
<h3 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h3><p>input.txt</p>
<p>6</p>
<p>1</p>
<p>2</p>
<p>2</p>
<p>2</p>
<p>3</p>
<p>5</p>
<p>output.txt</p>
<p>2</p>
<p>3</p>
<h2 id="Solution-1-（HashMap）"><a href="#Solution-1-（HashMap）" class="headerlink" title="Solution 1 （HashMap）"></a>Solution 1 （HashMap）</h2><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>对于给定多重集合S，可以通过一个O(n)的线性扫描，将集合的所有元素进行计次。</p>
<p>使用HashMap实现的解法容易编写，也容易处理答案具有多个众数的情况。</p>
<p>总体需要一次O(n)的线性扫描，以及在完成计数后再一次O(n)的取最大值。</p>
<h3 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Pair&lt;Integer, Integer&gt; <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R)</span> &#123;</span><br><span class="line"></span><br><span class="line">    HashMap&lt;Integer, Integer&gt; counter = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">        counter.put(num, counter.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">majorityKey</span> <span class="operator">=</span> <span class="number">0xdead</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">majorityValue</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> key : counter.keySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (counter.get(key) &gt; majorityValue) &#123;</span><br><span class="line">            majorityKey = key;</span><br><span class="line">            majorityValue = counter.get(key);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(majorityKey, majorityValue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark"><a href="#Benchmark" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.335700</span> <span class="string">ms</span> <span class="string">(335700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">84.643900</span> <span class="string">ms</span> <span class="string">(84643900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.025400</span> <span class="string">ms</span> <span class="string">(25400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.013600</span> <span class="string">ms</span> <span class="string">(13600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.011000</span> <span class="string">ms</span> <span class="string">(11000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.010100</span> <span class="string">ms</span> <span class="string">(10100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.010300</span> <span class="string">ms</span> <span class="string">(10300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.026100</span> <span class="string">ms</span> <span class="string">(26100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.035500</span> <span class="string">ms</span> <span class="string">(35500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.128000</span> <span class="string">ms</span> <span class="string">(128000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.114500</span> <span class="string">ms</span> <span class="string">(3114500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">9.872700</span> <span class="string">ms</span> <span class="string">(9872700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">26.197800</span> <span class="string">ms</span> <span class="string">(26197800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">47.612200</span> <span class="string">ms</span> <span class="string">(47612200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">46.967400</span> <span class="string">ms</span> <span class="string">(46967400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h2 id="Solution-2-（Sort-Two-Way-Divided）"><a href="#Solution-2-（Sort-Two-Way-Divided）" class="headerlink" title="Solution 2 （Sort + Two-Way Divided）"></a>Solution 2 （Sort + Two-Way Divided）</h2><h3 id="Analysis-1"><a href="#Analysis-1" class="headerlink" title="Analysis"></a>Analysis</h3><p>从直观来看，众数是整个数组里<code>出现次数最多的元素</code>，因此众数元素应当占据原始数组的<code>绝大部分位置</code>。更重要地，如果我们对<code>原始数组</code>进行<code>排序</code>，那么所有的众数很显然应当被<code>连续地排列在一起</code>。</p>
<p>所以，我们可以得到众数在<code>已排序的原始数组</code>中的<code>存在结构</code>。</p>
<p>假设使用分治法，我们猜测，可以<code>已排序数组中的众数</code>总是可以从<code>前一半已排序数组中的众数</code>和<code>后一半已排序数组中的众数</code>来得到。换句话说，我们希望使用分治法，并且利用<code>前一半已排序数组的众数</code> 和<code>后一半已排序数组中的众数</code>这两个<code>子问题的解</code>来获得<code>原问题的解</code></p>
<p>为了证明<code>分治法</code>对于<code>已排序数组的求众数问题</code>是有效的，我们尝试归纳所有可能的情况：</p>
<h4 id="Cases"><a href="#Cases" class="headerlink" title="Cases"></a>Cases</h4><h5 id="Case1-最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）"><a href="#Case1-最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）" class="headerlink" title="Case1: 最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）"></a>Case1: 最终解的众数仅从某一半已排序数组之中产生（该众数没有越过分割点）</h5><p>如 (1 1 1 1 1) (2 2 2 2 3) -&gt; majority &#x3D; 1, count &#x3D; 5</p>
<p><code>最终解众数1</code>只分布仅仅在<code>前一半的已排序数组</code>。</p>
<p>对于这种情况，很显然<code>后一半的已排序数组</code>中<code>产生的众数</code>不可能<code>战胜``前一半已排序数组</code>所<code>产生的众数</code>（当然，<code>后一半数组</code>的<code>最优情况</code>至多只是和<code>前一半已排序数组</code>打成<code>平手</code>）</p>
<p><code>前一半已排序数组</code>和<code>后一半已排序数组</code>打成<code>平手</code>的特殊情况：</p>
<p>(1 1 1 1 1) (2 2 2 2 2) 对于这种情况，我们可以<code>任意</code>取<code>其中一半的已排序数组</code>作为<code>胜出</code>（因为这题我们只要得出1个众数即可，即使输入数据存在多个众数）</p>
<blockquote>
<p>如果 前一半已排序数组中产生的众数 &#x3D; 后一半已排序数组中产生的众数，那么很明显没有任何其他数可以打败这个众数，因此这个众数就是 整个已排序数组的众数。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Pair&lt;Integer, Integer&gt; majority1 = getMajority(nums, L, M);</span><br><span class="line">Pair&lt;Integer, Integer&gt; majority2 = getMajority(nums, M, R);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (Objects.equals(majority1.key, majority2.key))</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(majority1.key, majority1.value + majority2.value);</span><br></pre></td></tr></table></figure>

<h5 id="Case2-最终解的众数来自某一半已排序数组（且该众数越过分割点）"><a href="#Case2-最终解的众数来自某一半已排序数组（且该众数越过分割点）" class="headerlink" title="Case2: 最终解的众数来自某一半已排序数组（且该众数越过分割点）"></a>Case2: 最终解的众数来自某一半已排序数组（且该众数越过分割点）</h5><p>如 (1 1 1 1 1) (1 2 2 2 3) -&gt; majority &#x3D; 1, count &#x3D; 6</p>
<p>和 (1 1 1 1 2) (2 2 2 2 3) -&gt; majority &#x3D; 2, count &#x3D; 5</p>
<p>这两种情况是<code>对称的</code>，我们这里仅从考虑第前一种情况。</p>
<p>在这一种情况中，由于<code>最终解的众数从两个已排序数组的并集</code>之中产生。</p>
<p>而且，我们知道在这种情况下，<code>最终解的众数的分布</code>必然要<code>越过两个已排序数组数组的边界</code>。</p>
<p>也就是说，这种情况的成立条件是：<code>前一半已排序数组的最后一个元素</code>=<code>后一半已排序数组的第一个元素</code>。对此，我们需要从<code>中点</code>开始，从<code>中点</code>统计<code>前后两个已排序数组</code>中<code>众数最远可以分布到多远</code>。</p>
<p>也就是说，我们<code>从中点开始</code>对<code>整个已排序数组</code>做<code>二分查找</code>，试图找出<code>lowerBound</code>和<code>upperBound</code>。</p>
<p>这样，即可算出<code>该候选数的出现的次数</code>=<code>upperBound</code>-<code>lowerBound</code></p>
<blockquote>
<p>请注意，对于这种情况，我们仅仅是通过upperBound-lowerBound来算出处于中点附近的那个数（我们称为候选数）的出现次数。但是有可能这个 候选数 并不是 整个已排序数组的众数。</p>
<p>你可以想象到，这个数只是恰好出现在 中点附近，被分割开。所以我们需要合并它出现的次数，已获得它在整个已排序数组中正确的出现次数。（但这不意味着这个数就是整个已排序数组的众数）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">            <span class="keyword">if</span> (majority1.key == nums[M]) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> upperBound(nums, M, R, majority1.key) - M;</span><br><span class="line">                majority1.value += extra;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (majority2.key == nums[M - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> M - lowerBound(nums, L, M, majority2.key) - <span class="number">1</span>;</span><br><span class="line">                majority2.value += extra;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Case3-最终解的众数来自两个已排序数组（很显然该众数越过分割点）"><a href="#Case3-最终解的众数来自两个已排序数组（很显然该众数越过分割点）" class="headerlink" title="Case3: 最终解的众数来自两个已排序数组（很显然该众数越过分割点）"></a>Case3: 最终解的众数来自两个已排序数组（很显然该众数越过分割点）</h5><p>如：(1 1 1 3 3) (3 3 2 2 2) -&gt; majority &#x3D; 3, count &#x3D; 4</p>
<p>对于这种情况，<code>这整个已排序数组的众数</code>并不是<code>前半个已排序数组所产生的众数</code> majority1，也不是<code>后半个已排序数组所产生的众数</code> majority2。</p>
<p>而是，我们在发现<code>中点两侧的元素值相同时</code>（很显然，如果中点两侧的元素值不同，那么这个元素就不可能通过<code>联合</code>来<code>打败</code> <code>majority1</code> 和 <code>majority2</code>），则<code>尝试检查</code>这个<code>元素</code>是否能<code>通过合并前后两半已排序数组中自己的出现次数</code>来分别<code>打败</code> <code>前一半已排序数组所产生的众数 majority1</code>和<code>后一半已排序数组所产生的众数 majority2</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (nums[M - <span class="number">1</span>] == nums[M]) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">lower</span> <span class="operator">=</span> lowerBound(nums, L, M, nums[M]);</span><br><span class="line">    <span class="type">int</span> <span class="variable">upper</span> <span class="operator">=</span> upperBound(nums, M, R, nums[M]);</span><br><span class="line">    <span class="type">int</span> <span class="variable">amount</span> <span class="operator">=</span> upper - lower - <span class="number">1</span>;</span><br><span class="line">    Pair&lt;Integer, Integer&gt; majority3 = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[M], amount);</span><br><span class="line">    <span class="keyword">if</span> (majority3.value &gt; majority1.value &amp;&amp; majority3.value &gt; majority2.value) &#123;</span><br><span class="line">        <span class="keyword">return</span> majority3;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Source-1"><a href="#Source-1" class="headerlink" title="Source"></a>Source</h3><p>Auxiliary Functions</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return the first element that greater than the bound in [L, R)</span></span><br><span class="line"><span class="comment"> * if not found, return array.length</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// (1 1 2) -&gt; (1) (1 2) -&gt; lower = 0, upper = 1</span></span><br><span class="line"><span class="comment">// 1 1 2 2 2 2 3</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">upperBound</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R, <span class="type">int</span> bound)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[R - <span class="number">1</span>] == bound) <span class="keyword">return</span> R;</span><br><span class="line">    <span class="keyword">while</span> (R - L &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[M] &lt;= bound) L = M;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[M] &gt; bound) R = M;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> R;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * if not found, return -1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">lowerBound</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R, <span class="type">int</span> bound)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[L] == bound) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (R - L &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[M] &lt; bound) L = M;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[M] &gt;= bound) R = M;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Core</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Pair&lt;Integer, Integer&gt; <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R)</span> &#123;</span><br><span class="line">        <span class="comment">// Case1: (1 1 1 1 1) (2 2 2 2 3) -&gt; majority = 1, count = 5</span></span><br><span class="line">        <span class="comment">// Case2: (1 1 1 1 1) (1 2 2 2 3) -&gt; majority = 1, count = 6</span></span><br><span class="line">        <span class="comment">// Case3: (1 1 1 1 2) (2 2 2 2 3) -&gt; majority = 2, count = 5</span></span><br><span class="line">        <span class="comment">// Case4: (1 1 1 3 3) (3 3 2 2 2) -&gt; majority = 3, count = 4</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Base Case */</span></span><br><span class="line">        <span class="keyword">if</span> (L == R) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(<span class="number">0xdead</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (R - L == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[L], <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Recursive Case */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">        Pair&lt;Integer, Integer&gt; majority1 = getMajority(nums, L, M);</span><br><span class="line">        Pair&lt;Integer, Integer&gt; majority2 = getMajority(nums, M, R);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Case1: the majority number of 2 parts are the same. */</span></span><br><span class="line">        <span class="keyword">if</span> (Objects.equals(majority1.key, majority2.key))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(majority1.key, majority1.value + majority2.value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">/* Case2, Case3, Case4 */</span></span><br><span class="line">            <span class="keyword">if</span> (majority1.key == nums[M]) &#123;</span><br><span class="line">                <span class="comment">// Case2</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> upperBound(nums, M, R, majority1.key) - M;</span><br><span class="line">                majority1.value += extra;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (majority2.key == nums[M - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// Case3</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">extra</span> <span class="operator">=</span> M - lowerBound(nums, L, M, majority2.key) - <span class="number">1</span>;</span><br><span class="line">                majority2.value += extra;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[M - <span class="number">1</span>] == nums[M]) &#123;</span><br><span class="line">                <span class="comment">// Case4</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">lower</span> <span class="operator">=</span> lowerBound(nums, L, M, nums[M]);</span><br><span class="line">                <span class="type">int</span> <span class="variable">upper</span> <span class="operator">=</span> upperBound(nums, M, R, nums[M]);</span><br><span class="line">                <span class="type">int</span> <span class="variable">amount</span> <span class="operator">=</span> upper - lower - <span class="number">1</span>;</span><br><span class="line"><span class="comment">//                System.out.println(&quot;num = &quot; + nums[M] + &quot; amount = &quot; + amount);</span></span><br><span class="line">                Pair&lt;Integer, Integer&gt; majority3 = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[M], amount);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Can we just union and beat majority1 and majority2 ?</span></span><br><span class="line">                <span class="comment">// Be careful, if majority1 or majority2 equals to majority3, we&#x27;ll choose the latter one.</span></span><br><span class="line">                <span class="comment">// (1 1 2 2) (2 3 3 3 3) -&gt; majority = 3, count = 4</span></span><br><span class="line">                <span class="comment">// (1 1 2 2 2) (2 3 3 3 3) -&gt; majority = 3, count = 4 (majority = 2, count = 4 is also correct)</span></span><br><span class="line">                <span class="keyword">if</span> (majority3.value &gt; majority1.value &amp;&amp; majority3.value &gt; majority2.value) &#123;</span><br><span class="line">                    <span class="keyword">return</span> majority3;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// Just need to compare the majority1 and majority2</span></span><br><span class="line">            <span class="keyword">return</span> majority1.value &gt; majority2.value ? majority1 : majority2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark-1"><a href="#Benchmark-1" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.290600</span> <span class="string">ms</span> <span class="string">(290600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">49879</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">169.661600</span> <span class="string">ms</span> <span class="string">(169661600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003900</span> <span class="string">ms</span> <span class="string">(3900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003500</span> <span class="string">ms</span> <span class="string">(3500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003400</span> <span class="string">ms</span> <span class="string">(3400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002500</span> <span class="string">ms</span> <span class="string">(2500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.040600</span> <span class="string">ms</span> <span class="string">(40600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.021600</span> <span class="string">ms</span> <span class="string">(21600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.037600</span> <span class="string">ms</span> <span class="string">(37600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">29</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.329700</span> <span class="string">ms</span> <span class="string">(329700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.173000</span> <span class="string">ms</span> <span class="string">(1173000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">13432</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">6.893800</span> <span class="string">ms</span> <span class="string">(6893800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">46.909500</span> <span class="string">ms</span> <span class="string">(46909500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">103.301900</span> <span class="string">ms</span> <span class="string">(103301900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">108.699100</span> <span class="string">ms</span> <span class="string">(108699100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<blockquote>
<p>注: 部分案例出现Wrong Answer是由于解法仅要求找出1个众数，所以对重数相同的众数的选择是任意的。</p>
</blockquote>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>由于该解法需要对<code>原始数组</code>进行<code>预处理: 排序</code>后再进行<code>分治法</code>，其效率可能会比较低。（而且递归过程中创建对象所消耗的代价较大）</p>
<h2 id="Solution-3-Sort-Three-Way-Divided"><a href="#Solution-3-Sort-Three-Way-Divided" class="headerlink" title="Solution 3 (Sort + Three-Way Divided)"></a>Solution 3 (Sort + Three-Way Divided)</h2><h3 id="Analysis-2"><a href="#Analysis-2" class="headerlink" title="Analysis"></a>Analysis</h3><p>采用类似QuickSort的方法，但将<code>原始数组</code> 先进行<code>排序</code>，然后从<code>中间</code>进行<code>划分</code>为3个部分：</p>
<ol>
<li>Part1 &#x3D; {x x &lt; pivot}</li>
<li>Part2 &#x3D; {x x &#x3D; pivot}</li>
<li>Part3 &#x3D; {x x &gt; pivot}</li>
</ol>
<p>首先考虑<code>完整的已排序数组</code>，取<code>该数组的中间元素</code>作为<code>pivot</code>，然后分别用<code>线性扫描</code>的方式，求出<code>该pivot元素</code>的<code>lowerBound</code>和<code>upperBound</code>，进而求得<code>该pivot元素的数量</code>（即Part2，Part2的所有元素均由<code>同一个元素</code>，即<code>pivot元素</code>组成)</p>
<p>很显然，如果Part2.size() &gt; Part1.size() &amp;&amp; Part2.size() &gt; Part3.size()，那么<code>pivot的值就是整个已排序数组所产生的众数</code></p>
<p>否则，众数有可能<code>产生自Part1</code>，也可能<code>产生自Part2</code>。因此，我们<code>分别都</code>需要<code>检查Part1和Part2</code>，即<code>递归地对这两部分进行处理</code></p>
<ul>
<li><p>此处采用递归的基本原理是：</p>
<ul>
<li><p>该问题存在一个平凡问题（即基本问题）：基本问题很简单，我们可以很容易直观地解出来。也就是 子问题的整个已排序数组 仅包含1个元素，那么 该已排序数组所产生的众数 就只能是这个元素。</p>
</li>
<li><p>我们可以通过合并2个子问题的解来得到原问题的解：这也很容易，我们可以简单地<code>检查</code>这<code>Part1, Part2, Part3 三者中哪一个部分</code>产生的<code>众数的重数</code>是<code>最大的</code></p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>注：此算法也不考虑处理存在多个重数相等的众数的情况。如果重数相等，则任取一个。</p>
</blockquote>
<blockquote>
<p>注：该解法和Solution2非常类似，均需要先应排序进行预处理。然后使用分治法划分子问题，区别在于对子问题的划分方式不同。Solution2总是采用固定区间大小的二分法进行划分，而Solution3的划分区间的大小则更加动态，并且是3划分的。</p>
</blockquote>
<h3 id="Source-2"><a href="#Source-2" class="headerlink" title="Source"></a>Source</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Pair&lt;Integer, Integer&gt; <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> L, <span class="type">int</span> R)</span> &#123;</span><br><span class="line">    <span class="comment">/* Base Case */</span></span><br><span class="line">    <span class="comment">// R - L = &#123;0, 1&#125;</span></span><br><span class="line">    <span class="keyword">if</span> (R - L &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(nums[L], <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Recursive Case */</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">M</span> <span class="operator">=</span> L + (R - L) / <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">M_Value</span> <span class="operator">=</span> nums[M];</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">lowerBound</span> <span class="operator">=</span> M, upperBound = M;</span><br><span class="line">    <span class="keyword">while</span> (lowerBound &gt;= <span class="number">0</span> &amp;&amp; nums[lowerBound] == M_Value) lowerBound--;</span><br><span class="line">    <span class="keyword">while</span> (upperBound &lt; nums.length &amp;&amp; nums[upperBound] == M_Value) upperBound++;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">M_Count</span> <span class="operator">=</span> upperBound - lowerBound - <span class="number">1</span>;</span><br><span class="line">    Pair&lt;Integer, Integer&gt; majorityMiddle = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(M_Value, M_Count);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Anyway, Part2 will always win !</span></span><br><span class="line">    <span class="keyword">if</span> (M_Count &gt;= (lowerBound - L + <span class="number">1</span>) &amp;&amp; M_Count &gt;= (R - upperBound)) <span class="keyword">return</span> majorityMiddle;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Ok, we should choose the largest one among Part1, Part2 and Part3.</span></span><br><span class="line">    Pair&lt;Integer, Integer&gt; majorityLeft = getMajority(nums, L, lowerBound + <span class="number">1</span>);</span><br><span class="line">    Pair&lt;Integer, Integer&gt; majorityRight = getMajority(nums, upperBound, R);</span><br><span class="line">    <span class="keyword">if</span> (M_Count &gt;= majorityLeft.value &amp;&amp; M_Count &gt;= majorityRight.value) <span class="keyword">return</span> majorityMiddle;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> majorityLeft.value &gt; majorityRight.value ? majorityLeft : majorityRight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark-2"><a href="#Benchmark-2" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.226700</span> <span class="string">ms</span> <span class="string">(226700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">49879</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">165.034000</span> <span class="string">ms</span> <span class="string">(165034000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003500</span> <span class="string">ms</span> <span class="string">(3500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002500</span> <span class="string">ms</span> <span class="string">(2500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.003200</span> <span class="string">ms</span> <span class="string">(3200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002800</span> <span class="string">ms</span> <span class="string">(2800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.042700</span> <span class="string">ms</span> <span class="string">(42700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.024600</span> <span class="string">ms</span> <span class="string">(24600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.026300</span> <span class="string">ms</span> <span class="string">(26300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">29</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.174600</span> <span class="string">ms</span> <span class="string">(174600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">4.243100</span> <span class="string">ms</span> <span class="string">(4243100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">13432</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">6.618700</span> <span class="string">ms</span> <span class="string">(6618700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">38.010200</span> <span class="string">ms</span> <span class="string">(38010200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">73.012900</span> <span class="string">ms</span> <span class="string">(73012900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">lines...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">86.186500</span> <span class="string">ms</span> <span class="string">(86186500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h2 id="Solution-4-Three-Way-QuickSort"><a href="#Solution-4-Three-Way-QuickSort" class="headerlink" title="Solution 4 (Three-Way QuickSort)"></a>Solution 4 (Three-Way QuickSort)</h2><h3 id="Analysis-3"><a href="#Analysis-3" class="headerlink" title="Analysis"></a>Analysis</h3><p>在前面所提到的 <code>分治法</code> 中，都需要对 <code>原始数组</code> 进行 <code>排序</code> 。</p>
<p>但实际上，我们可以将 <code>排序</code> 和 <code>寻找众数</code> 的过程 <code>同时进行</code>。</p>
<p>我们之前所提的 <code>需要预排序的二分法</code> 和 <code>需要预排序的三分法</code> 之所以需要 <code>排序</code>，</p>
<p>是因为我们 <code>某个数字</code> 可能 <code>零散地分布</code> 在 <code>原始数组</code> 的 <code>各个角落</code>，这将使得 <code>我们的分治方法</code> 必须 <code>把相同的数字</code> 都 <code>聚集</code>在一起，否则将无法 <code>统计</code> <code>该数字的出现次数</code>。</p>
<blockquote>
<p>实际上，如果仅仅是为了 <code>寻找众数</code>，我们并不需要使得 <code>原始数组</code> 是 <code>完全地有序的</code>。</p>
<blockquote>
<p>当我们发现，<code>在对某个区间的某个元素</code> 进行 <code>3向划分</code>之后，<code>该元素的出现次数</code> <code>大于</code> <code>该区间的长度的一半</code>，</p>
<p>那么显然，<code>该元素</code> 必定就是 <code>该区间</code> 的 <code>众数</code>。我们就没有必要再对 <code>该区间的其余部分</code> 继续进行 <code>划分</code>。</p>
</blockquote>
</blockquote>
<p>设想，如果对于 <code>任意给定的数组</code>，我们可以 <code>使得该数组中某个数字</code> 进行 <code>聚集</code>，然后求得 <code>该数字的出现次数</code>。</p>
<p>那么，我们可以采用 <code>摩尔投票法 (Moore Voting Method)</code> 的思想：</p>
<ul>
<li><p>如果我们发现，<code>该数字的出现次数</code> <code>大于</code> <code>其余部分的长度</code>，则显然 <code>该数字</code> 就是 <code>众数</code></p>
<blockquote>
<p><code>摩尔投票法</code> 将 <code>序列</code> 分成 <code>2部分</code>： <code>等于指定元素</code> 和 <code>不等于指定元素</code></p>
</blockquote>
</li>
<li><p>否则，我们可以对 <code>剩余的部分</code> 继续进行 <code>聚集数字的操作</code></p>
<blockquote>
<p>由于我们使用的是 <code>三向快速排序 (Three-Way QuickSort)</code>，所以我们的 <code>划分函数 (Partition Function)</code> 会将 <code>给定的数组</code> 划分为3个部分，使得在部分中的任何元素满足：<code>x &lt; pivot</code>，<code>x = pivot</code> 和 <code>x &gt; pivot</code></p>
</blockquote>
</li>
</ul>
<p>在对 <code>指定的数字</code> 进行 <code>划分</code> 之后，我们可以获得以下 <code>信息</code> ：</p>
<ul>
<li><p><code>该数字的出现次数</code>：count &#x3D; upper\_bound - lower\_bound + 1</p>
</li>
<li><p>比 <code>该数字的出现次数</code> 少的 <code>部分</code>之中，不可能产生 <code>众数</code>。</p>
<blockquote>
<p>n.b. 在 <code>Moore Voting Method</code>中，我们要求 <code>寻找多数</code>。</p>
<blockquote>
<p><code>多数</code>：在 <code>序列</code>中，<code>出现次数</code> <code>超过</code> <code>序列的长度的一半</code> 的 <code>元素</code></p>
</blockquote>
<p><code>摩尔投票法</code> 并不要求 <code>原始数组</code> 是有序的，因为根据 <code>多数</code> 的定义，<code>多数的出现次数</code> 大于 <code>其他所有元素出现的次数</code>，所以我们可以 <code>确定</code>。</p>
<p><code>序列中某个元素的出现次数</code>如果超过 <code>序列的长度的一半</code>，则 <code>该元素</code> 必定是 <code>多数</code>。</p>
<blockquote>
<p>其实，有另一种求 <code>多数</code> 的 <code>简单策略</code>：直接将 <code>原始序列</code> 进行 <code>排序</code>，然后 <code>位于序列中间的元素</code> 就是 <code>多数</code></p>
</blockquote>
<blockquote>
<p><code>Moree Voting Method</code> 最多需要进行 \roundup{\frac{3n}{2}} - 2 次 <code>比较操作</code>。</p>
<p>而 <code>Three-Way Quicksort Method</code> 在处理 <code>相等元素</code> 非常多且选定 <code>该元素</code>作为 <code>基准元素 (pivot)</code> 的情况下，可以达到 <code>趋近于线性的复杂度</code>。</p>
<blockquote>
<p>可以通过 <code>随机化技术</code> 来 <code>透明地</code> 改变 <code>基准元素的选取</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// randomize pivot</span></span><br><span class="line">swap(nums, left_index, random.nextInt(right_index - left_index + <span class="number">1</span>) + left_index);</span><br></pre></td></tr></table></figure>

<p>但根据实际测试，这并不会对本题 <code>有较好的改善</code>。</p>
<p>由于 <code>众数的出现次数较多</code>，相应地 <code>在指定位置的元素是众数的概率</code> 也 <code>自然</code> 应当较大。而此时 <code>随机化技术</code> 并没有 <code>提高</code> <code>选取到众数的概率</code>，反而我们还需要付出 <code>较为昂贵的随机数生成的代价</code>。</p>
<p>然而，对于 <code>普通的2向快速排序</code> 和 <code>普通的3向快速排序</code>来说，可以认为 <code>原始数组的元素</code> 是 <code>随机的</code>，但我们可以用 <code>随机化技术</code> 来避免在 <code>某些特殊情况下</code>，选取到 <code>坏的基准元素</code>。</p>
</blockquote>
</blockquote>
</blockquote>
</li>
</ul>
<h3 id="Source-3"><a href="#Source-3" class="headerlink" title="Source"></a>Source</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Lab3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> util.Judger;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Teeth</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 3/12/2022 07:48</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MajoritySolver_QuickSort</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> majority;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> count;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> left_index;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> right_index;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> lower_bound;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> upper_bound;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> majority, <span class="type">int</span> count, <span class="type">int</span> left_index, <span class="type">int</span> right_index, <span class="type">int</span> lower_bound, <span class="type">int</span> upper_bound)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.majority = majority;</span><br><span class="line">            <span class="built_in">this</span>.count = count;</span><br><span class="line">            <span class="built_in">this</span>.left_index = left_index;</span><br><span class="line">            <span class="built_in">this</span>.right_index = right_index;</span><br><span class="line">            <span class="built_in">this</span>.lower_bound = lower_bound;</span><br><span class="line">            <span class="built_in">this</span>.upper_bound = upper_bound;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> left_index, <span class="type">int</span> right_index)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.left_index = left_index;</span><br><span class="line">            <span class="built_in">this</span>.right_index = right_index;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Judger</span> <span class="variable">judger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Judger</span>(<span class="string">&quot;.\\Cases\\Lab3\\MAJORITY&quot;</span>).disablePrettyFormat().redirectErrorToErrorFile().setMaxExpectInputLines(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    [left_index..left_bound-1] &lt; majority</span></span><br><span class="line"><span class="comment">    [left_bound..right_bound] = majority</span></span><br><span class="line"><span class="comment">    [right_bound+1..right_index] &gt; majority</span></span><br><span class="line"><span class="comment">    array = 2 2 3 5 3 5 1 2 3 4</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left_index, <span class="type">int</span> right_index)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lower_bound</span> <span class="operator">=</span> left_index;</span><br><span class="line">        <span class="type">int</span> <span class="variable">upper_bound</span> <span class="operator">=</span> right_index;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> left_index + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= upper_bound) &#123;</span><br><span class="line">            <span class="comment">// n.b. we use [lower_bound..upper_bound] to present x = majority</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; nums[lower_bound]) &#123;</span><br><span class="line">                swap(nums, lower_bound++, i++);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[i] &gt; nums[lower_bound]) &#123;</span><br><span class="line">                <span class="comment">// n.b. index i should not be incremented</span></span><br><span class="line">                swap(nums, upper_bound--, i);</span><br><span class="line">            &#125; <span class="keyword">else</span> i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct node */</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(nums[lower_bound], upper_bound - lower_bound + <span class="number">1</span>, left_index, right_index, lower_bound, upper_bound);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> left_index, <span class="type">int</span> right_index)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (left_index &lt; right_index) &#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">split</span> <span class="operator">=</span> partition(nums, left_index, right_index);</span><br><span class="line">            <span class="type">int</span> <span class="variable">majority_nums_count</span> <span class="operator">=</span> split.upper_bound - split.lower_bound + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">left_nums_count</span> <span class="operator">=</span> split.lower_bound - split.left_index;</span><br><span class="line">            <span class="type">int</span> <span class="variable">right_nums_count</span> <span class="operator">=</span> split.right_index - split.upper_bound;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// n.b. select strategy: non-strict partial order</span></span><br><span class="line">            <span class="comment">// n.b. use MOORE VOTING METHOD here!</span></span><br><span class="line">            <span class="keyword">if</span> ((majority_nums_count &gt;= left_nums_count &amp;&amp; majority_nums_count &gt;= right_nums_count)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(nums[split.lower_bound], majority_nums_count, split.left_index, split.right_index, split.lower_bound, split.upper_bound);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">Node</span> <span class="variable">left_nums_node</span> <span class="operator">=</span> quickSort(nums, left_index, split.lower_bound - <span class="number">1</span>);</span><br><span class="line">                <span class="type">Node</span> <span class="variable">right_nums_node</span> <span class="operator">=</span> quickSort(nums, split.upper_bound + <span class="number">1</span>, right_index);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// n.b. select strategy: non-strict partial order</span></span><br><span class="line">                <span class="type">Node</span> <span class="variable">winner</span> <span class="operator">=</span> left_nums_node.count &gt;= right_nums_node.count ? left_nums_node : right_nums_node;</span><br><span class="line">                winner = winner.count &gt;= split.count ? winner : split;</span><br><span class="line">                <span class="keyword">return</span> winner;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// empty node</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(left_index, right_index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title function_">getMajority</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> begin, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quickSort(nums, begin, end - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Scanner scanner : judger) &#123;</span><br><span class="line">            <span class="comment">// Skip the first line.</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Read the numbers.</span></span><br><span class="line">            <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[capacity];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; scanner.hasNextInt(); i++) &#123;</span><br><span class="line">                nums[i] = scanner.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// call the algorithm</span></span><br><span class="line">            judger.manuallyStartTimer();</span><br><span class="line">            <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> getMajority(nums, <span class="number">0</span>, nums.length);</span><br><span class="line">            judger.manuallyStopTimer();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Output</span></span><br><span class="line">            System.out.println(node.majority);</span><br><span class="line">            System.out.println(node.count);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Benchmark-3"><a href="#Benchmark-3" class="headerlink" title="Benchmark"></a>Benchmark</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE1.in</span> <span class="string">&amp;</span> <span class="string">MODE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.045200</span> <span class="string">ms</span> <span class="string">(45200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE10.in</span> <span class="string">&amp;</span> <span class="string">MODE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">47527</span>, <span class="number">38</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">104.330000</span> <span class="string">ms</span> <span class="string">(104330000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE11.in</span> <span class="string">&amp;</span> <span class="string">MODE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001100</span> <span class="string">ms</span> <span class="string">(1100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE12.in</span> <span class="string">&amp;</span> <span class="string">MODE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001000</span> <span class="string">ms</span> <span class="string">(1000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE13.in</span> <span class="string">&amp;</span> <span class="string">MODE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.000901</span> <span class="string">ms</span> <span class="string">(901</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE14.in</span> <span class="string">&amp;</span> <span class="string">MODE14.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001200</span> <span class="string">ms</span> <span class="string">(1200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE15.in</span> <span class="string">&amp;</span> <span class="string">MODE15.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">9</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.001101</span> <span class="string">ms</span> <span class="string">(1101</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE2.in</span> <span class="string">&amp;</span> <span class="string">MODE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.002099</span> <span class="string">ms</span> <span class="string">(2099</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE3.in</span> <span class="string">&amp;</span> <span class="string">MODE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">100</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">100</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">28</span>, <span class="number">9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.004400</span> <span class="string">ms</span> <span class="string">(4400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE4.in</span> <span class="string">&amp;</span> <span class="string">MODE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">17</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">29</span>, <span class="number">8</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.029600</span> <span class="string">ms</span> <span class="string">(29600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE5.in</span> <span class="string">&amp;</span> <span class="string">MODE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">10000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">152</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.564300</span> <span class="string">ms</span> <span class="string">(564300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE6.in</span> <span class="string">&amp;</span> <span class="string">MODE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">50000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1507</span>, <span class="number">11</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.741200</span> <span class="string">ms</span> <span class="string">(3741200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE7.in</span> <span class="string">&amp;</span> <span class="string">MODE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">500000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">500000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">62872</span>, <span class="number">23</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">37.026301</span> <span class="string">ms</span> <span class="string">(37026301</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE8.in</span> <span class="string">&amp;</span> <span class="string">MODE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1000000</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1000000</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">15875</span>, <span class="number">34</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">71.459100</span> <span class="string">ms</span> <span class="string">(71459100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">MODE9.in</span> <span class="string">&amp;</span> <span class="string">MODE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1234567</span>, <span class="string">Omit</span> <span class="string">the</span> <span class="string">remaining</span> <span class="number">1234567</span> <span class="string">line(s)...</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">44678</span>, <span class="number">42</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">83.852201</span> <span class="string">ms</span> <span class="string">(83852201</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/23/wp-global-styles-boxstyle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/23/wp-global-styles-boxstyle/" class="post-title-link" itemprop="url">Custom Styles</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-23 14:09:21" itemprop="dateCreated datePublished" datetime="2022-03-23T14:09:21+00:00">2022-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>{“version”: 2, “isGlobalStylesUserThemeJSON”: true }</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/23/test-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/23/test-3/" class="post-title-link" itemprop="url">Test</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-23 13:21:49" itemprop="dateCreated datePublished" datetime="2022-03-23T13:21:49+00:00">2022-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Markdown-Builder"><a href="#Markdown-Builder" class="headerlink" title="Markdown Builder"></a>Markdown Builder</h1><h2 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MarkdownBuilder</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">buildMatrix</span><span class="params">(Object origin, Object[] rows, Object[] cols, Object[][] data)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Default value */</span></span><br><span class="line">        <span class="keyword">if</span> (origin == <span class="literal">null</span>) &#123;</span><br><span class="line">            origin = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rows == <span class="literal">null</span>) &#123;</span><br><span class="line">            rows = <span class="keyword">new</span> <span class="title class_">String</span>[data.length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                rows[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cols == <span class="literal">null</span>) &#123;</span><br><span class="line">            cols = <span class="keyword">new</span> <span class="title class_">String</span>[data[<span class="number">0</span>].length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">                cols[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct */</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        result.append(<span class="string">&quot;\\begin&#123;bmatrix&#125;\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">            <span class="comment">// first row</span></span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                    <span class="comment">// origin cell</span></span><br><span class="line">                    <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                        result.append(origin);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(<span class="string">&quot;&amp;&quot;</span>).append(cols[j]);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;\\\\\n&quot;</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// first column</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; data[i].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                    result.append(rows[i]);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;&amp;&quot;</span>).append(data[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">            result.append(<span class="string">&quot;\\\\&quot;</span>).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        result.append(<span class="string">&quot;\\end&#123;bmatrix&#125;\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">buildTable</span><span class="params">(Object origin, Object[] rows, Object[] cols, Object[][] data)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Default value */</span></span><br><span class="line">        <span class="keyword">if</span> (origin == <span class="literal">null</span>) &#123;</span><br><span class="line">            origin = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rows == <span class="literal">null</span>) &#123;</span><br><span class="line">            rows = <span class="keyword">new</span> <span class="title class_">String</span>[data.length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                rows[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cols == <span class="literal">null</span>) &#123;</span><br><span class="line">            cols = <span class="keyword">new</span> <span class="title class_">String</span>[data[<span class="number">0</span>].length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">                cols[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct */</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>().append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">            <span class="comment">// first row</span></span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                    <span class="comment">// origin cell</span></span><br><span class="line">                    <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                        result.append(<span class="string">&quot;&quot;</span>).append(origin).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(cols[j]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// second row -&gt; table properties</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                    result.append(<span class="string">&quot; :-: &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;&quot;</span>).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; data[i].length; j++) &#123;</span><br><span class="line">                <span class="comment">// first column</span></span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                    result.append(<span class="string">&quot;&quot;</span>).append(rows[i]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(data[i][j]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            result.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.append(<span class="string">&quot;\n&quot;</span>).toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">markdownBuilder</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">origin</span> <span class="operator">=</span> <span class="string">&quot;item\\property&quot;</span>;</span><br><span class="line">    String[] rows = &#123;<span class="string">&quot;item1&quot;</span>, <span class="string">&quot;item2&quot;</span>, <span class="string">&quot;item3&quot;</span>&#125;;</span><br><span class="line">    String[] cols = &#123;<span class="string">&quot;value&quot;</span>, <span class="string">&quot;weight&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    String[][] data = &#123;</span><br><span class="line">            &#123;<span class="string">&quot;value1&quot;</span>, <span class="string">&quot;weight1&quot;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;value2&quot;</span>, <span class="string">&quot;weight2&quot;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;value3&quot;</span>, <span class="string">&quot;weight3&quot;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    System.out.println(Judger.MarkdownBuilder.buildMatrix(origin, rows, cols, data));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Preview"><a href="#Preview" class="headerlink" title="Preview"></a>Preview</h3><p>item\property</p>
<p>value</p>
<p>weight</p>
<p>item1</p>
<p>value1</p>
<p>weight1</p>
<p>item2</p>
<p>value2</p>
<p>weight2</p>
<p>item3</p>
<p>value3</p>
<p>weight3</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/03/23/test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/23/test/" class="post-title-link" itemprop="url">Test</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-23 13:21:49" itemprop="dateCreated datePublished" datetime="2022-03-23T13:21:49+00:00">2022-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Markdown-Builder"><a href="#Markdown-Builder" class="headerlink" title="Markdown Builder"></a>Markdown Builder</h1><h2 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MarkdownBuilder</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">buildMatrix</span><span class="params">(Object origin, Object[] rows, Object[] cols, Object[][] data)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Default value */</span></span><br><span class="line">        <span class="keyword">if</span> (origin == <span class="literal">null</span>) &#123;</span><br><span class="line">            origin = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rows == <span class="literal">null</span>) &#123;</span><br><span class="line">            rows = <span class="keyword">new</span> <span class="title class_">String</span>[data.length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                rows[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cols == <span class="literal">null</span>) &#123;</span><br><span class="line">            cols = <span class="keyword">new</span> <span class="title class_">String</span>[data[<span class="number">0</span>].length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">                cols[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct */</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        result.append(<span class="string">&quot;\\begin&#123;bmatrix&#125;\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">            <span class="comment">// first row</span></span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                    <span class="comment">// origin cell</span></span><br><span class="line">                    <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                        result.append(origin);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(<span class="string">&quot;&amp;&quot;</span>).append(cols[j]);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;\\\\\n&quot;</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// first column</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; data[i].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                    result.append(rows[i]);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;&amp;&quot;</span>).append(data[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">            result.append(<span class="string">&quot;\\\\&quot;</span>).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        result.append(<span class="string">&quot;\\end&#123;bmatrix&#125;\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">buildTable</span><span class="params">(Object origin, Object[] rows, Object[] cols, Object[][] data)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Default value */</span></span><br><span class="line">        <span class="keyword">if</span> (origin == <span class="literal">null</span>) &#123;</span><br><span class="line">            origin = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rows == <span class="literal">null</span>) &#123;</span><br><span class="line">            rows = <span class="keyword">new</span> <span class="title class_">String</span>[data.length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                rows[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cols == <span class="literal">null</span>) &#123;</span><br><span class="line">            cols = <span class="keyword">new</span> <span class="title class_">String</span>[data[<span class="number">0</span>].length];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">                cols[i] = String.valueOf(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct */</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>().append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">            <span class="comment">// first row</span></span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                    <span class="comment">// origin cell</span></span><br><span class="line">                    <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                        result.append(<span class="string">&quot;&quot;</span>).append(origin).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(cols[j]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// second row -&gt; table properties</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                    result.append(<span class="string">&quot; :-: &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;&quot;</span>).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; data[i].length; j++) &#123;</span><br><span class="line">                <span class="comment">// first column</span></span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                    result.append(<span class="string">&quot;&quot;</span>).append(rows[i]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(data[i][j]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            result.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.append(<span class="string">&quot;\n&quot;</span>).toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">markdownBuilder</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">origin</span> <span class="operator">=</span> <span class="string">&quot;item\\property&quot;</span>;</span><br><span class="line">    String[] rows = &#123;<span class="string">&quot;item1&quot;</span>, <span class="string">&quot;item2&quot;</span>, <span class="string">&quot;item3&quot;</span>&#125;;</span><br><span class="line">    String[] cols = &#123;<span class="string">&quot;value&quot;</span>, <span class="string">&quot;weight&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    String[][] data = &#123;</span><br><span class="line">            &#123;<span class="string">&quot;value1&quot;</span>, <span class="string">&quot;weight1&quot;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;value2&quot;</span>, <span class="string">&quot;weight2&quot;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&quot;value3&quot;</span>, <span class="string">&quot;weight3&quot;</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    System.out.println(Judger.MarkdownBuilder.buildMatrix(origin, rows, cols, data));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Preview"><a href="#Preview" class="headerlink" title="Preview"></a>Preview</h3><p>item\property</p>
<p>value</p>
<p>weight</p>
<p>item1</p>
<p>value1</p>
<p>weight1</p>
<p>item2</p>
<p>value2</p>
<p>weight2</p>
<p>item3</p>
<p>value3</p>
<p>weight3</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2021/09/13/noj-ds0307-%E5%A4%8D%E6%9D%82%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC-%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E9%80%92%E5%BD%92%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/13/noj-ds0307-%E5%A4%8D%E6%9D%82%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC-%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E9%80%92%E5%BD%92%E8%A7%A3/" class="post-title-link" itemprop="url">Iterative & Recursive - Expression Evaluation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-13 08:53:52" itemprop="dateCreated datePublished" datetime="2021-09-13T08:53:52+00:00">2021-09-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/oj/" itemprop="url" rel="index"><span itemprop="name">oj</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/oj/NOJ/" itemprop="url" rel="index"><span itemprop="name">NOJ</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/oj/NOJ/SOJ/" itemprop="url" rel="index"><span itemprop="name">SOJ</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Expression-Evaluation"><a href="#Expression-Evaluation" class="headerlink" title="Expression Evaluation"></a>Expression Evaluation</h1><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><ol>
<li>给定输入表达式字符串：包含 + - * &#x2F; ^ ()</li>
<li>表达式的运算使用整数运算, 小数部分向下取整.</li>
</ol>
<p>eg: <code>2*((11+3)*(2+3)^2)+2</code> &#x3D; <code>702</code></p>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>表达式求值问题: 需要处理好 <code>操作数栈</code> 和 <code>操作符栈</code>, 其中 <code>操作数栈</code>只需要按照字符串的高位优先顺序逐个扫描入栈即可，而 <code>操作符栈</code> 需要正确处理 <code>操作符的优先级</code>，未来扫描到的 <code>操作符</code> 有可能对之前的 <code>操作符</code> 产生影响。（因此，递归解法思路是清晰的。）</p>
<p>逆波兰表达式的递归解法: 利用 <code>隐含的函数调用栈</code> 来处理 <code>操作符优先级</code> ，将表达式的各个部分均视为大大小小的 <code>token</code> , 如 <code>(3+6/2)</code> 和 <code>100</code> 均可以视为1个 <code>token</code> .</p>
<p>关于 <code>操作符的优先级</code> , 在处理 <code>4*3^2</code> 时, 我们仍按照 <code>字符串的高位优先</code> 规则来进行扫描。</p>
<p>每一个 <code>token_value()函数调用栈</code> 包含 <code>1个 操作符或操作数</code></p>
<p>在 <code>递归的自顶向下过程完成时</code> , 我们扫描读入了 <code>整个表达式</code></p>
<p><img src="https://i.loli.net/2021/09/13/THBhFCmW4A71xPn.png" alt="image-20210913083454343"></p>
<p><img src="https://i.loli.net/2021/09/13/FdPWAXRiE2uL1Cz.png" alt="image-20210913083434355"></p>
<p><img src="https://i.loli.net/2021/09/13/6sl2WQHaRnGP15U.png" alt="image-20210913083422195"></p>
<p><img src="https://i.loli.net/2021/09/13/8NS5EViyFOWm1B4.png" alt="image-20210913083413587"></p>
<p>紧接着, 在 <code>递归的自低向上过程中</code>, 我们会逐个计算 <code>表达式的各个部分</code>, 并且把 <code>表达式部分的计算结果</code> 重新代入 <code>表达式中</code></p>
<p><img src="https://i.loli.net/2021/09/13/YGOD9oj5P7bmdqg.png" alt="image-20210913084005455"></p>
<p>根据 <code>递归时隐含的函数调用栈 所对应的 运算符优先级</code>, 我们成功让 <code>操作数3</code> 正确地与 <code>操作数2</code> 进行 <code>^运算</code>,</p>
<p>而不是错误地与 <code>操作数4</code> 进行 <code>*运算</code> (尽管我们先扫描到 <code>操作数4</code> 和 <code>运算符*</code>)</p>
<p>接下来，只需要逐步地完成 <code>递归的自底向上过程</code>即可完成 <code>整个表达式的计算</code></p>
<p><img src="https://i.loli.net/2021/09/13/KlFJ5nTN9WGojUi.png" alt="image-20210913084252456"></p>
<p><img src="https://i.loli.net/2021/09/13/Fy4JgoXcjQY39Sd.png" alt="image-20210913084327047"></p>
<p><img src="https://i.loli.net/2021/09/13/N1QEUAYj9FJVcgR.png" alt="image-20210913084336970"></p>
<p><img src="https://i.loli.net/2021/09/13/1qQDaogbGJ9pUzt.png" alt="image-20210913084349590"></p>
<p><img src="https://i.loli.net/2021/09/13/CMZlIF1ye5KhAJo.png" alt="image-20210913084412029"></p>
<p><img src="https://i.loli.net/2021/09/13/YVxtuRySEjDakMK.png" alt="image-20210913084506107"></p>
<p>最终完成 <code>整个表达式的计算</code></p>
<p><img src="https://i.loli.net/2021/09/13/5LAwqlvFEMGtZpd.png" alt="image-20210913084552868"></p>
<h2 id="Solution-Recursive"><a href="#Solution-Recursive" class="headerlink" title="Solution: Recursive"></a>Solution: Recursive</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> number;</span><br><span class="line"><span class="function">number <span class="title">token_value</span><span class="params">(<span class="type">int</span> priority)</span> </span>&#123;</span><br><span class="line">    number res;</span><br><span class="line">    <span class="keyword">if</span> (priority == <span class="number">0</span>) &#123;</span><br><span class="line">        res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span> c = cin.<span class="built_in">peek</span>();</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            cin.<span class="built_in">get</span>(); <span class="comment">// get (</span></span><br><span class="line">            res = <span class="built_in">token_value</span>(<span class="number">3</span>); <span class="comment">// as a new expression</span></span><br><span class="line">            cin.<span class="built_in">get</span>();  <span class="comment">// get )</span></span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(c)) &#123; <span class="comment">// read a num</span></span><br><span class="line">            res = (<span class="number">10</span> * res) + (c % <span class="number">48</span>); <span class="comment">// Nice Try.</span></span><br><span class="line">            cin.<span class="built_in">get</span>(); <span class="comment">// get digit</span></span><br><span class="line">            c = cin.<span class="built_in">peek</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        res = <span class="built_in">token_value</span>(priority - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="type">char</span> op = cin.<span class="built_in">peek</span>();</span><br><span class="line">            <span class="keyword">if</span> (priority == <span class="number">1</span> &amp;&amp; op == <span class="string">&#x27;^&#x27;</span>) &#123;</span><br><span class="line">                cin.<span class="built_in">get</span>(); <span class="comment">// get ^</span></span><br><span class="line">                number val = <span class="built_in">token_value</span>(priority - <span class="number">1</span>);</span><br><span class="line">                res = <span class="built_in">round</span>(<span class="built_in">pow</span>(res, val));</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (priority == <span class="number">2</span> &amp;&amp; (op == <span class="string">&#x27;*&#x27;</span>  op == <span class="string">&#x27;/&#x27;</span>)) &#123;</span><br><span class="line">                cin.<span class="built_in">get</span>(); <span class="comment">// get * or /</span></span><br><span class="line">                number val = <span class="built_in">token_value</span>(priority - <span class="number">1</span>);</span><br><span class="line">                op == <span class="string">&#x27;*&#x27;</span> ? res *= val : res /= val;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (priority == <span class="number">3</span> &amp;&amp; (op == <span class="string">&#x27;+&#x27;</span>  op == <span class="string">&#x27;-&#x27;</span>)) &#123;</span><br><span class="line">                cin.<span class="built_in">get</span>(); <span class="comment">// get + or -</span></span><br><span class="line">                number val = <span class="built_in">token_value</span>(priority - <span class="number">1</span>);</span><br><span class="line">                op == <span class="string">&#x27;+&#x27;</span> ? res += val : res -= val;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">token_value</span>(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Solution-Iterative"><a href="#Solution-Iterative" class="headerlink" title="Solution: Iterative"></a>Solution: Iterative</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; priority_map&#123;&#123;<span class="string">&#x27;+&#x27;</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                            &#123;<span class="string">&#x27;-&#x27;</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                            &#123;<span class="string">&#x27;*&#x27;</span>, <span class="number">2</span>&#125;,</span><br><span class="line">                            &#123;<span class="string">&#x27;/&#x27;</span>, <span class="number">2</span>&#125;,</span><br><span class="line">                            &#123;<span class="string">&#x27;^&#x27;</span>, <span class="number">3</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> number;</span><br><span class="line">stack&lt;number&gt; nums;</span><br><span class="line">stack&lt;<span class="type">char</span>&gt; ops;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eval</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  number num2 = nums.<span class="built_in">top</span>(); nums.<span class="built_in">pop</span>();</span><br><span class="line">  number num1 = nums.<span class="built_in">top</span>(); nums.<span class="built_in">pop</span>();</span><br><span class="line">  <span class="type">char</span> op = ops.<span class="built_in">top</span>(); ops.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (op == <span class="string">&#x27;+&#x27;</span>) nums.<span class="built_in">push</span>(num1 + num2);</span><br><span class="line">  <span class="keyword">if</span> (op == <span class="string">&#x27;-&#x27;</span>) nums.<span class="built_in">push</span>(num1 - num2);</span><br><span class="line">  <span class="keyword">if</span> (op == <span class="string">&#x27;*&#x27;</span>) nums.<span class="built_in">push</span>(num1 * num2);</span><br><span class="line">  <span class="keyword">if</span> (op == <span class="string">&#x27;/&#x27;</span>) nums.<span class="built_in">push</span>(num1 / num2);</span><br><span class="line">  <span class="keyword">if</span> (op == <span class="string">&#x27;^&#x27;</span>) nums.<span class="built_in">push</span>(<span class="built_in">round</span>(<span class="built_in">pow</span>(num1, num2)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">/* Trans InOrderExpr to PostOrderExpr */</span></span><br><span class="line">  <span class="keyword">while</span> (cin.<span class="built_in">peek</span>() != <span class="string">&#x27;\n&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// get digit.</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isdigit</span>(cin.<span class="built_in">peek</span>())) &#123;</span><br><span class="line">      number num = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> (<span class="built_in">isdigit</span>(cin.<span class="built_in">peek</span>())) &#123;</span><br><span class="line">        num = (num * <span class="number">10</span>) + cin.<span class="built_in">peek</span>() % <span class="number">48</span>;</span><br><span class="line">        cin.<span class="built_in">get</span>();</span><br><span class="line">      &#125;</span><br><span class="line">      nums.<span class="built_in">push</span>(num);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// get operators.</span></span><br><span class="line">      <span class="keyword">if</span> (cin.<span class="built_in">peek</span>() == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">        ops.<span class="built_in">push</span>(cin.<span class="built_in">peek</span>()); <span class="comment">// push (</span></span><br><span class="line">        cin.<span class="built_in">get</span>(); <span class="comment">// get (</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cin.<span class="built_in">peek</span>() == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (ops.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) <span class="built_in">eval</span>();</span><br><span class="line">        ops.<span class="built_in">pop</span>(); <span class="comment">// pop (</span></span><br><span class="line">        cin.<span class="built_in">get</span>(); <span class="comment">// get )</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (!ops.<span class="built_in">empty</span>() &amp;&amp; priority_map[ops.<span class="built_in">top</span>()] &gt;= priority_map[cin.<span class="built_in">peek</span>()]) <span class="built_in">eval</span>();</span><br><span class="line">        ops.<span class="built_in">push</span>(cin.<span class="built_in">peek</span>());</span><br><span class="line">        cin.<span class="built_in">get</span>(); <span class="comment">// get operator</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Calc PostorderExpr */</span></span><br><span class="line">  <span class="keyword">while</span> (!ops.<span class="built_in">empty</span>()) <span class="built_in">eval</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Output */</span></span><br><span class="line">  cout &lt;&lt; nums.<span class="built_in">top</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2021/09/02/ruby-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/02/ruby-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">Ruby - 学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-02 12:58:05" itemprop="dateCreated datePublished" datetime="2021-09-02T12:58:05+00:00">2021-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Ruby-Study-Note"><a href="#Ruby-Study-Note" class="headerlink" title="Ruby Study Note"></a>Ruby Study Note</h1><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/ruby</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 简介</span></span><br><span class="line"><span class="comment"># Ruby是一种纯粹的面向对象编程的脚本语言,</span></span><br><span class="line">puts <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"></span><br><span class="line">puts <span class="string">&quot;你好&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Here Document</span></span><br><span class="line"><span class="comment"># Ruby支持多行字符串</span></span><br><span class="line">print <span class="string">&lt;&lt;EOF</span></span><br><span class="line"><span class="string">Hi, First Line</span></span><br><span class="line"><span class="string">Hi, Second Line</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># BEGIN 和 END</span></span><br><span class="line"><span class="comment"># BEGIN块: 在程序运行之前被执行</span></span><br><span class="line"><span class="comment"># END块: 在程序的结尾被执行</span></span><br><span class="line"><span class="variable constant_">BEGIN</span> &#123;</span><br><span class="line">  print <span class="string">&quot;This Program runs\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">END</span> &#123;</span><br><span class="line">  print <span class="string">&quot;This Program stops.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据类型</span></span><br><span class="line"><span class="comment"># Ruby支持的数据类型包括: Number, String, Ranges, Symbols, true, false, nil, Array, Hash.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模板字符串</span></span><br><span class="line"><span class="comment"># Ruby支持使用 #&#123;expr&#125; 的方式来代替字符串的值</span></span><br><span class="line">print <span class="string">&quot;The result is: <span class="subst">#&#123;<span class="number">1</span> + <span class="number">3</span>&#125;</span>\n&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 范围</span></span><br><span class="line"><span class="comment"># Ruby支持 范围 Range , 使用 ..符号(闭区间) 和 ...符号(左闭右开区间) 来构造 Range</span></span><br><span class="line">(<span class="number">10</span>..<span class="number">15</span>).each <span class="keyword">do</span> n</span><br><span class="line">  print n, <span class="string">&#x27; &#x27;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 面向对象</span></span><br><span class="line"><span class="comment"># Ruby是一门纯面向对象的语言, Ruby中的一切都是对象.</span></span><br><span class="line"><span class="comment"># Ruby的类中有4种类型的变量: 局部变量, 实例变量, 类变量, 全局变量</span></span><br><span class="line"><span class="comment"># 局部变量: 在类的方法中定义的变量. 以 小写字母 或 _开头</span></span><br><span class="line"><span class="comment"># 实例变量: 在可跨任何特定的实例或对象中的方法使用. 以@开头</span></span><br><span class="line"><span class="comment"># 类变量 (类似static变量): 类变量不可以跨不同的对象使用, 属于类的属性. 以@@开头</span></span><br><span class="line"><span class="comment"># 全局变量: 可以跨类使用的类变量. 以$开头</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span></span><br><span class="line">  <span class="variable">@name</span> = <span class="string">&quot;Alice&quot;</span></span><br><span class="line">  <span class="variable">@age</span> = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Ruby中使用  def 来定义成员函数</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">sayHi</span></span><br><span class="line">    puts <span class="string">&quot;Hi, I&#x27;m <span class="subst">#&#123;<span class="variable">@name</span>&#125;</span>&quot;</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Ruby支持构造函数, 使用initialize方法来实现.</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">initialize</span>(<span class="params">name, age</span>)</span><br><span class="line">    <span class="variable">@name</span> = name</span><br><span class="line">    <span class="variable">@age</span> = age</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ruby中使用new方法来创建对象</span></span><br><span class="line">cust1 = <span class="title class_">Customer</span>.new(<span class="string">&quot;Tom&quot;</span>, <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Ruby中的 访问权限修饰符有3种: public, private, protected</span></span><br><span class="line"><span class="comment"># Ruby支持 运算符重载, 本质为对象的方法重载</span></span><br><span class="line"><span class="comment"># Ruby支持 冻结对象, 使用Object.freeze()即可</span></span><br><span class="line"><span class="comment"># 除了使用 new方法(会通过initialize对象构造器)来创建对象, 还可以使用allocate方法创建对象(对象的所有属性处于未初始化状态).</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 变量</span></span><br><span class="line"><span class="comment"># Ruby支持5种类型的变量: 普通变量, 全局变量, 实例变量, 类变量, 常数</span></span><br><span class="line"><span class="comment"># 普通变量 Variable: 小写字母 或 _开头</span></span><br><span class="line"><span class="comment"># 全局变量 Global Variable: $开头</span></span><br><span class="line"><span class="comment"># 实例变量 Instance Variable: @开头</span></span><br><span class="line"><span class="comment"># 类变量 Class Variable: @@开头</span></span><br><span class="line"><span class="comment"># 常数 Constant: 大写字母开头</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 伪变量 (魔术常量)</span></span><br><span class="line"><span class="comment"># Ruby中支持的魔术常量: self, true, false, nil, __FILE__, __LINE__</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运算符</span></span><br><span class="line"><span class="comment"># Ruby的 运算符 实质上进行的是 函数调用: a + b 等价于 a.+(b)</span></span><br><span class="line"><span class="comment"># Ruby支持算术运算符, 比较运算符, 赋值运算符, 位运算符, 逻辑运算符等常见运算符类型.</span></span><br><span class="line"><span class="comment"># 此外, Ruby支持使用 defined? 运算符来判断 表达式是否已被定义.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 条件语句</span></span><br><span class="line"><span class="comment"># Ruby支持 if语句, 也支持使用 if修饰符 的写法.</span></span><br><span class="line"><span class="variable">$debug</span>=<span class="number">1</span></span><br><span class="line">print <span class="string">&quot;debug\n&quot;</span> <span class="keyword">if</span> <span class="variable">$debug</span></span><br><span class="line"><span class="comment"># Ruby支持 unless语句, 租用效果与 if语句相反</span></span><br><span class="line"><span class="comment"># Ruby支持case语句 (类似switch语句)</span></span><br><span class="line"><span class="variable">$age</span> =  <span class="number">5</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$age</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">0</span> .. <span class="number">2</span></span><br><span class="line">    puts <span class="string">&quot;婴儿&quot;</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">3</span> .. <span class="number">6</span></span><br><span class="line">    puts <span class="string">&quot;小孩&quot;</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">7</span> .. <span class="number">12</span></span><br><span class="line">    puts <span class="string">&quot;child&quot;</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">13</span> .. <span class="number">18</span></span><br><span class="line">    puts <span class="string">&quot;少年&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    puts <span class="string">&quot;其他年龄段的&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环语句</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通的while语句</span></span><br><span class="line"><span class="variable">$i</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="variable">$i</span> &lt; <span class="number">10</span>  <span class="keyword">do</span></span><br><span class="line">  puts(<span class="string">&quot;循环 i = #$i&quot;</span> )</span><br><span class="line">  <span class="variable">$i</span> +=<span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用while修饰符</span></span><br><span class="line"><span class="comment"># begin</span></span><br><span class="line"><span class="comment">#   code</span></span><br><span class="line"><span class="comment"># end while conditional</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ruby支持until语句, 作用效果与while相反</span></span><br><span class="line"><span class="comment"># 此外, Ruby也支持for in语句</span></span><br><span class="line">(<span class="number">0</span>..<span class="number">5</span>).each <span class="keyword">do</span> i</span><br><span class="line">  puts <span class="string">&quot;局部变量的值为 <span class="subst">#&#123;i&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法</span></span><br><span class="line"><span class="comment"># Ruby支持 默认参数, 可变参数</span></span><br><span class="line"><span class="comment"># 调用Ruby中的方法时, 不需要使用小括号, 直接使用 方法名 即可</span></span><br><span class="line"><span class="comment"># Ruby支持 多返回值, 以数组形式返回</span></span><br><span class="line"><span class="comment"># 当方法定义在类外部时, 默认private. 类内部的方法默认为public</span></span><br><span class="line"><span class="comment"># Ruby支持使用 alias语句 为 方法 和 全局变量 起别名。即使方法被重写，方法的别名也会保持方法的当前定义.</span></span><br><span class="line"><span class="comment"># Ruby支持使用 undef语句 取消方法的定义.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 代码块</span></span><br><span class="line"><span class="comment"># Ruby支持 代码块, 你可以使用 yield语句来调用 代码块</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span></span><br><span class="line">   puts <span class="string">&quot;在 test 方法内&quot;</span></span><br><span class="line">   <span class="keyword">yield</span></span><br><span class="line">   puts <span class="string">&quot;你又回到了 test 方法内&quot;</span></span><br><span class="line">   <span class="keyword">yield</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">test &#123;puts <span class="string">&quot;你在块内&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过 yield语句 调用代码块</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">myBlock</span></span><br><span class="line">  <span class="keyword">yield</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">myBlock&#123; puts <span class="string">&quot;Hello world&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模块</span></span><br><span class="line"><span class="comment"># Ruby中的模块定义了一个命名空间, 可以使用require语句来引入</span></span><br><span class="line"><span class="comment"># 此外, 可以通过 include语句 来在类中嵌入模块</span></span><br><span class="line"><span class="comment"># Ruby不支持多继承, 但可以通过 mixins 来模拟多继承.</span></span><br><span class="line"><span class="keyword">module</span> A</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">a1</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">a2</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> B</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">b1</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">b2</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sample</span></span><br><span class="line"><span class="keyword">include</span> A</span><br><span class="line"><span class="keyword">include</span> B</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">s1</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">samp=<span class="title class_">Sample</span>.new</span><br><span class="line">samp.a1</span><br><span class="line">samp.a2</span><br><span class="line">samp.b1</span><br><span class="line">samp.b2</span><br><span class="line">samp.s1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串</span></span><br><span class="line"><span class="comment"># Ruby的 默认字符集 是ASCII, 字符可以使用单个字节表示.</span></span><br><span class="line"><span class="comment"># 如果使用UTF-8编码, 则1个字符需要1-4个字节表示.</span></span><br><span class="line"><span class="comment"># Ruby对字符串提供了大量强大的内建函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组 Array 和 哈希 Hash</span></span><br><span class="line"><span class="comment"># 类似Php</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 迭代器</span></span><br><span class="line"><span class="comment"># Ruby支持foreach语法, 通过迭代器实现</span></span><br><span class="line"><span class="comment"># 此外, Ruby对 Map有直接的 迭代支持.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 异常</span></span><br><span class="line"><span class="comment"># Ruby中采用 begin-rescue-end机制来进行异常处理.</span></span><br><span class="line"><span class="comment"># 使用 raise语句 来抛出异常</span></span><br><span class="line"><span class="comment"># 使用 retry语句 来重新执行begin块.</span></span><br><span class="line"><span class="comment"># 完整的流程: begin-rescue-else-ensure-end</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  puts <span class="string">&#x27;I am before the raise.&#x27;</span></span><br><span class="line">  <span class="keyword">raise</span> <span class="string">&#x27;An error has occurred.&#x27;</span></span><br><span class="line">  puts <span class="string">&#x27;I am after the raise.&#x27;</span></span><br><span class="line"><span class="keyword">rescue</span></span><br><span class="line">  puts <span class="string">&#x27;I am rescued.&#x27;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">puts <span class="string">&#x27;I am after the begin block.&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 此外, Ruby也支持使用 throw-catch机制来处理异常</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CGI编程</span></span><br><span class="line"><span class="comment"># Ruby支持便捷的CGI编程, 引入cgi库即可. 写法类似Kotlin</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多线程</span></span><br><span class="line"><span class="comment"># 见thread类, 与传统多线程模型类似.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JSON</span></span><br><span class="line"><span class="comment"># 使用方式与Php类似, 将JSON映射为Ruby对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 包管理器</span></span><br><span class="line"><span class="comment"># RubyGem</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2021/09/01/php-study-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/01/php-study-note/" class="post-title-link" itemprop="url">Php - 学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-01 22:24:12" itemprop="dateCreated datePublished" datetime="2021-09-01T22:24:12+00:00">2021-09-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://i.loli.net/2021/09/01/6rf4xhC1KEJp9Iz.png" alt="image.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">103</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
