<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sakurawald.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="SakuraWald">
<meta property="og:url" content="https://sakurawald.github.io/page/3/index.html">
<meta property="og:site_name" content="SakuraWald">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://sakurawald.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>SakuraWald</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">SakuraWald</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/18/stl-simple-use-of-stl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/18/stl-simple-use-of-stl/" class="post-title-link" itemprop="url">STL -  Simple Use of STL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-18 22:44:19" itemprop="dateCreated datePublished" datetime="2022-04-18T22:44:19+00:00">2022-04-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Code-Snippet"><a href="#Code-Snippet" class="headerlink" title="Code Snippet"></a>Code Snippet</h1><h2 id="Standard-C-Libraries"><a href="#Standard-C-Libraries" class="headerlink" title="Standard C Libraries"></a>Standard C Libraries</h2><h3 id="Template-Header-Files"><a href="#Template-Header-Files" class="headerlink" title="Template Header Files"></a>Template Header Files</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Template Begin */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;tuple&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;limits.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">/* Template End */</span></span><br></pre></td></tr></table></figure>

<h3 id="ctype-h"><a href="#ctype-h" class="headerlink" title="ctype.h"></a>ctype.h</h3><p>Function</p>
<p>Note</p>
<p>\t{isalpha()}</p>
<p> </p>
<p>\t{isdigit()}</p>
<p> </p>
<p>\t{islower()}</p>
<p> </p>
<p>\t{isupper()}</p>
<p> </p>
<p>\t{ispunct()}</p>
<p> </p>
<p>\t{isblank()}</p>
<p><code>C标准库</code> 只为 <code>\t</code> 和 <code>space</code> 返回 <code>非0值</code></p>
<p>Function</p>
<p>Note</p>
<p>\t{tolower()}</p>
<p> </p>
<p>\t{toupper()}</p>
<p> </p>
<h3 id="limits-h"><a href="#limits-h" class="headerlink" title="limits.h"></a>limits.h</h3><p>Marco Constant</p>
<p>Note</p>
<p>\t{INT\_MIN}</p>
<p> </p>
<p>\t{INT\_MAX}</p>
<p> </p>
<p>\t{LONG\_MIN}</p>
<p> </p>
<p>\t{LONG\_MAX}</p>
<p> </p>
<p>\t{LLONG\_MIN}</p>
<p> </p>
<p>\t{LLONG\_MAX}</p>
<p> </p>
<p>\t{UINT\_MIN}</p>
<p> </p>
<p>\t{UINT\_MAX}</p>
<p> </p>
<p>\t{ULLONG\_MIN}</p>
<p> </p>
<p>\t{ULLONG\_MAX}</p>
<p> </p>
<h3 id="math-h"><a href="#math-h" class="headerlink" title="math.h"></a>math.h</h3><h4 id="Trigonometric-Functions"><a href="#Trigonometric-Functions" class="headerlink" title="Trigonometric Functions"></a>Trigonometric Functions</h4><p>Function</p>
<p>Note</p>
<p>\t{sin(), cos(), tan()}</p>
<p> </p>
<p>\t{asin(), acos(), atan()}</p>
<p> </p>
<p>\t{atan2()}</p>
<p>返回 <code>给定坐标</code>的 <code>角度</code></p>
<blockquote>
<p>注：这些 <code>三角函数</code> 输入均为 <code>浮点数</code>，默认使用 <code>弧度</code>作为单位。</p>
</blockquote>
<h4 id="Hyperbolic-Functions"><a href="#Hyperbolic-Functions" class="headerlink" title="Hyperbolic Functions"></a>Hyperbolic Functions</h4><p>Function</p>
<p>Note</p>
<p>\t{sinh(), cosh(), tanh()}</p>
<p> </p>
<p>\t{asinh(),acosh(),atanh()}</p>
<p> </p>
<h4 id="Exponential-and-Logarithmic-Functions"><a href="#Exponential-and-Logarithmic-Functions" class="headerlink" title="Exponential and Logarithmic Functions"></a>Exponential and Logarithmic Functions</h4><p>Function</p>
<p>Note</p>
<p>\t{exp()}</p>
<p>返回 <code>自然常数</code>的指定 <code>指数值</code></p>
<p>\t{log()}</p>
<p>返回以 <code>自然常数</code>为底的 <code>对数</code></p>
<p>\t{log10()}</p>
<p>返回以 <code>10</code> 为底的 <code>对数</code></p>
<p>\t{log2()}</p>
<p>返回以 <code>2</code>为底的 <code>对数</code></p>
<h4 id="Power-Functions"><a href="#Power-Functions" class="headerlink" title="Power Functions"></a>Power Functions</h4><p>Function</p>
<p>Note</p>
<p>\t{pow()}</p>
<p>该函数底层通过 <code>浮点数</code> 进行计算，<br>存在 <code>精度损失问题</code>，若确实需要使用，请配合 <code>round()</code></p>
<p>\t{sqrt()}</p>
<p>返回 <code>平方根</code></p>
<p>\t{bqrt()}</p>
<p>返回 <code>立方根</code></p>
<p>\t{hypot}()</p>
<p>返回 <code>直角三角形的斜边</code></p>
<h4 id="Rounding-and-Remainder-Functions"><a href="#Rounding-and-Remainder-Functions" class="headerlink" title="Rounding and Remainder Functions"></a>Rounding and Remainder Functions</h4><p>Function</p>
<p>Note</p>
<p>\t{floor()}</p>
<p>向下取整</p>
<p>\t{ceil()}</p>
<p>向上取整</p>
<h4 id="Other-Functions"><a href="#Other-Functions" class="headerlink" title="Other Functions"></a>Other Functions</h4><p>Function</p>
<p>Note</p>
<p>\t{abs()}</p>
<p>用于 <code>求整数的绝对值</code><br>对于 <code>浮点数</code>存在 <code>精度问题</code></p>
<p>\t{fabs()}</p>
<p>用于 <code>求浮点数的绝对值</code></p>
<h4 id="Classification-Macro-x2F-Functions"><a href="#Classification-Macro-x2F-Functions" class="headerlink" title="Classification Macro&#x2F;Functions"></a>Classification Macro&#x2F;Functions</h4><p>Macro&#x2F;Functions</p>
<p>Note</p>
<p>\t{isinf()}</p>
<p>判断 <code>浮点数</code>是否 <code>无穷大</code></p>
<p>\t{isnan()}</p>
<p>判断 <code>浮点数</code>是否为 <code>实数</code></p>
<blockquote>
<p>注：<code>除0错误</code>是针对 <code>整数</code>而言的。如果对 <code>浮点数</code>进行 <code>除0操作</code>，将得到一个 <code>特殊的浮点数值</code>，</p>
<p>它用于表示 <code>无穷大</code>。同理，也有 <code>另一个特殊的浮点数值</code>用于表示 <code>非数字 (Not-A-Number)</code></p>
</blockquote>
<h4 id="Comparison-Macro-x2F-Functions"><a href="#Comparison-Macro-x2F-Functions" class="headerlink" title="Comparison Macro&#x2F;Functions"></a>Comparison Macro&#x2F;Functions</h4><p>Macro&#x2F;Function</p>
<p>Note</p>
<p>\t{isgreater()}</p>
<p> </p>
<p>\t{isgreaterequal()}</p>
<p> </p>
<h3 id="stdio-h"><a href="#stdio-h" class="headerlink" title="stdio.h"></a>stdio.h</h3><h4 id="Formatted-Input-x2F-Output"><a href="#Formatted-Input-x2F-Output" class="headerlink" title="Formatted Input&#x2F;Output"></a>Formatted Input&#x2F;Output</h4><p>Function</p>
<p>Note</p>
<p>\t{scanf()}</p>
<p>格式化输入</p>
<p>\t{printf()}</p>
<p>格式化输出</p>
<p>\t{sscanf()}</p>
<p>格式化输入到 <code>字符串</code></p>
<p>\t{sprintf()}</p>
<p>格式化输出到 <code>字符串</code></p>
<p>\t{getchar()}</p>
<p>该方法 <code>不会跳过</code> <code>空白字符</code> (回车，换行，空格)</p>
<p>\t{gets()}</p>
<p>输入<code>1行 (以\n作为分隔符)字符串</code></p>
<p>\t{puts()}</p>
<p>输出 <code>1行字符串</code><br>注：该方法会在末尾自动加 <code>\n</code></p>
<h4 id="Macros"><a href="#Macros" class="headerlink" title="Macros"></a>Macros</h4><p>Macro</p>
<p>Note</p>
<p>EOF</p>
<p><code>值为-1的整数</code>，作为 <code>文件流的末尾标识字符</code><br>注：<code>EOF</code>并不属于 <code>文件内容</code>的一部分。它只是一个 <code>流状态标识符</code></p>
<p>NULL</p>
<p><code>整数值为0的字符</code>，作为 <code>字符串的末尾标识字符</code><br>注：<code>NULL字符</code>确实属于 <code>C语言风格式的字符串</code>的 <code>一部分</code></p>
<p>\t{size\_t}</p>
<p><code>无符号类型整数</code>。</p>
<h3 id="stdlib-h"><a href="#stdlib-h" class="headerlink" title="stdlib.h"></a>stdlib.h</h3><h4 id="String-Conversion"><a href="#String-Conversion" class="headerlink" title="String Conversion"></a>String Conversion</h4><p>Function</p>
<p>Note</p>
<p>\t{atoi(), atof(), atol(), atoll()}</p>
<p>转换 <code>string</code>到 <code>int</code>，<code>double</code>，<code>long</code>，<code>longlong</code></p>
<p>\t{strtod(), strtoll(), strtoul(), strtoull()}</p>
<p>转换 <code>string</code> (解释为以 <code>base</code>为基)到 <code>long</code> <code>longlong</code> <code>unsigned long</code> <code>unsign long long</code>，所 <code>返回的整数</code> 为 <code>计量用的权重</code></p>
<h4 id="Pseudo-Random-Sequence-Generation"><a href="#Pseudo-Random-Sequence-Generation" class="headerlink" title="Pseudo-Random Sequence Generation"></a>Pseudo-Random Sequence Generation</h4><p>Function</p>
<p>Note</p>
<p>\t{srand()}</p>
<p><code>初始化</code> <code>随机数种子</code></p>
<p>\t{rand()}</p>
<p><code>生成</code> <code>下一个随机数</code></p>
<h4 id="Dynamic-Memory-Management"><a href="#Dynamic-Memory-Management" class="headerlink" title="Dynamic Memory Management"></a>Dynamic Memory Management</h4><p>Function</p>
<p>Note</p>
<p>\t{malloc()}</p>
<p> </p>
<p>\t{calloc()}</p>
<p>该方法会自动进行 <code>填0初始化</code></p>
<p>\t{realloc()}</p>
<p> </p>
<p>\t{free()}</p>
<p><code>释放动态申请的内存</code></p>
<h4 id="Searching-and-Sorting"><a href="#Searching-and-Sorting" class="headerlink" title="Searching and Sorting"></a>Searching and Sorting</h4><p>Function</p>
<p>Note</p>
<p>\t{qsort()}</p>
<p><code>快速排序</code></p>
<p>\t{bsearch()}</p>
<p><code>二分查找</code></p>
<h3 id="string-h"><a href="#string-h" class="headerlink" title="string.h"></a>string.h</h3><h4 id="Copying"><a href="#Copying" class="headerlink" title="Copying"></a>Copying</h4><p>Function</p>
<p>Note</p>
<p>\t{memcpy()}</p>
<p> </p>
<p>\t{memmove()}</p>
<p> </p>
<p>\t{strcpy()}</p>
<p> </p>
<h4 id="Concatenation"><a href="#Concatenation" class="headerlink" title="Concatenation"></a>Concatenation</h4><p>Function</p>
<p>Note</p>
<p>\t{strcat()}</p>
<p> </p>
<h4 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h4><p>Function</p>
<p>Note</p>
<p>\t{memcmp()}</p>
<p> </p>
<p>\t{strcmp()}</p>
<p> </p>
<h4 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h4><p>Function</p>
<p>Note</p>
<p>\t{memchr()}</p>
<p> </p>
<p>\t{strchr()}</p>
<p> </p>
<p>\t{strrchr()}</p>
<p> </p>
<p>\t{strpbrk()}</p>
<p> </p>
<p>\t{strcspn()}</p>
<p> </p>
<p>\t{strspn()}</p>
<p> </p>
<p>\t{strstr()}</p>
<p> </p>
<p>\t{strtok()}</p>
<p> </p>
<h4 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h4><p>Function</p>
<p>Note</p>
<p>\t{memset()}</p>
<p>该方法本质是 <code>填充字符串</code>，如果要填充 <code>整数</code>，<br>则下列 <code>整数</code>是可行的： <code>0</code>， <code>-1</code></p>
<p>\t{strlen()}</p>
<p>该方法 <code>不计入</code> <code>字符串末尾的结束字符</code></p>
<h3 id="time-h"><a href="#time-h" class="headerlink" title="time.h"></a>time.h</h3><h4 id="Time-Manipulation"><a href="#Time-Manipulation" class="headerlink" title="Time Manipulation"></a>Time Manipulation</h4><p>Function</p>
<p>Note</p>
<p>\t{clock()}</p>
<p> </p>
<p>\t{difftime()}</p>
<p> </p>
<p>\t{mktime()}</p>
<p> </p>
<p>\t{time()}</p>
<p> </p>
<h4 id="Conversion"><a href="#Conversion" class="headerlink" title="Conversion"></a>Conversion</h4><p>Function</p>
<p>Note</p>
<p>\t{asctime()}</p>
<p> </p>
<p>\t{ctime()}</p>
<p> </p>
<p>\t{gmtime()}</p>
<p> </p>
<p>\t{localtime()}</p>
<p> </p>
<p>\t{strftime}</p>
<p> </p>
<h2 id="Containers"><a href="#Containers" class="headerlink" title="Containers"></a>Containers</h2><h3 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h3><h3 id="queue"><a href="#queue" class="headerlink" title="queue"></a>queue</h3><h3 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h3><h3 id="stack"><a href="#stack" class="headerlink" title="stack"></a>stack</h3><h3 id="list"><a href="#list" class="headerlink" title="list"></a>list</h3><h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><h3 id="unordered-map"><a href="#unordered-map" class="headerlink" title="unordered_map"></a>unordered_map</h3><h3 id="unordered-set"><a href="#unordered-set" class="headerlink" title="unordered_set"></a>unordered_set</h3><h2 id="Other-Libraries"><a href="#Other-Libraries" class="headerlink" title="Other Libraries"></a>Other Libraries</h2><p>Library</p>
<p>Note</p>
<p>\t{algorithm}</p>
<p> </p>
<p>\t{bitset}</p>
<p> </p>
<p>\t{chrono}</p>
<p> </p>
<p>\t{codecvt}</p>
<p> </p>
<p>\t{complex}</p>
<p> </p>
<p>\t{exception}</p>
<p> </p>
<p>\t{functional}</p>
<p> </p>
<p>\t{initializer\_list}</p>
<p> </p>
<p>\t{iterator}</p>
<p> </p>
<p>\t{limits}</p>
<p> </p>
<p>\t{locale}</p>
<p> </p>
<p>\t{memory}</p>
<p> </p>
<p>\t{new}</p>
<p> </p>
<p>\t{numeric}</p>
<p> </p>
<p>\t{random}</p>
<p> </p>
<p>\t{ratio}</p>
<p> </p>
<p>\t{regex}</p>
<p> </p>
<p>\t{stdexcept}</p>
<p> </p>
<p>\t{string}</p>
<p> </p>
<p>\t{system\_error}</p>
<p> </p>
<p>\t{tuple}</p>
<p> </p>
<p>\t{typeindex}</p>
<p> </p>
<p>\t{typeinfo}</p>
<p> </p>
<p>\t{type\_traits}</p>
<p> </p>
<p>\t{utility}</p>
<p> </p>
<p>\t{valarray}</p>
<p> </p>
<h2 id="Code-Snippets"><a href="#Code-Snippets" class="headerlink" title="Code Snippets"></a>Code Snippets</h2><h3 id="Initialize-the-Array-with-Fixed-Element"><a href="#Initialize-the-Array-with-Fixed-Element" class="headerlink" title="Initialize the Array with Fixed-Element"></a>Initialize the Array with Fixed-Element</h3><ul>
<li><code>定义时</code> 使用 <code>列表初始化</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>列表初始化</code> 会 <code>列表的元素</code>填充到 <code>数组的前几个元素</code>，<code>数组的剩余元素</code>一律 <code>填0</code></p>
</blockquote>
<ul>
<li>使用 <code>memset</code>进行 <code>内存字符填充</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">memset</span>(arr, <span class="number">0</span>, <span class="built_in">sizeof</span>(array));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：该种方法只能用于填充 <code>0</code>和 <code>-1</code></p>
</blockquote>
<ul>
<li>利用 <code>全局变量</code>自动 <code>初始化填0</code>的特性</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, arr[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用 <code>fill()</code> 填充函数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">fill</span>(arr, arr + <span class="number">10</span>, <span class="number">2022</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span> <span class="number">2022</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>fill_n()</code> 只用 <code>指定值</code> 填充 <code>前n个元素</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">fill_n</span>(arr, <span class="number">3</span>, <span class="number">2020</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2020</span> <span class="number">2020</span> <span class="number">2020</span> <span class="number">0</span> <span class="number">8</span> <span class="number">0</span> <span class="number">75</span> <span class="number">0</span> <span class="number">16875376</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Initialize-the-Array-with-Generated-Element"><a href="#Initialize-the-Array-with-Generated-Element" class="headerlink" title="Initialize the Array with Generated-Element"></a>Initialize the Array with Generated-Element</h3><ul>
<li>使用 <code>generate()</code> 生成函数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">generate</span>(arr, arr + <span class="number">10</span>, []() &#123; <span class="keyword">return</span> <span class="built_in">rand</span>() % <span class="number">5</span>; &#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">0</span> <span class="number">4</span> <span class="number">4</span> <span class="number">3</span> <span class="number">3</span> <span class="number">2</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果需要让 <code>generate()</code> 保存 <code>状态</code>，则可以利用 <code>静态局部变量</code>来实现。</p>
<blockquote>
<p>用 <code>全局变量</code>也可以，但 <code>静态局部变量</code>使得 <code>代码结构</code>更加 <code>紧凑</code></p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">generate</span>(arr, arr + <span class="number">10</span>, []() &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> i *= <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 4 8 16 32 64 128 256 512 1024</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Generate-Lexicographical-Permutation"><a href="#Generate-Lexicographical-Permutation" class="headerlink" title="Generate Lexicographical-Permutation"></a>Generate Lexicographical-Permutation</h3><ul>
<li>使用 <code>next_permutation()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string words = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  cout &lt;&lt; words &lt;&lt; endl;</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="built_in">next_permutation</span>(words.<span class="built_in">begin</span>(), words.<span class="built_in">end</span>()));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">abc</span><br><span class="line">acb</span><br><span class="line">bac</span><br><span class="line">bca</span><br><span class="line">cab</span><br><span class="line">cba</span><br></pre></td></tr></table></figure>

<blockquote>
<p>同理，<code>prev_permutation()</code>则是 <code>生成上一个排列</code></p>
</blockquote>
<p>相关辅助函数：<code>is_permutation()</code></p>
<h3 id="Hash-Function"><a href="#Hash-Function" class="headerlink" title="Hash Function"></a>Hash Function</h3><ul>
<li>使用 <code>hash结构体模板</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hash&lt;string&gt; string_hash;</span><br><span class="line">string first_words = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">string second_words = <span class="string">&quot;cba&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hash(first_words) = %lld&quot;</span>, <span class="built_in">string_hash</span>(first_words));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hash(second_words) = %lld&quot;</span>, <span class="built_in">string_hash</span>(second_words));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">hash</span>(first_words) = <span class="number">3663726644998027833</span></span><br><span class="line"><span class="built_in">hash</span>(second_words) = <span class="number">-4830583261295167161</span></span><br></pre></td></tr></table></figure>

<h3 id="Find-the-Index-of-A-Specific-Element"><a href="#Find-the-Index-of-A-Specific-Element" class="headerlink" title="Find the Index of A Specific Element"></a>Find the Index of A Specific Element</h3><ul>
<li>使用 <code>find()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">90</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">find</span>(arr, arr + <span class="number">10</span>, <span class="number">70</span>) - arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;index = %d&quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">7</span></span><br></pre></td></tr></table></figure>

<ul>
<li>使用 <code>find_if()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">90</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">find_if</span>(arr, arr + <span class="number">10</span>, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;obj) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj != <span class="number">0</span> &amp;&amp; obj % <span class="number">15</span> == <span class="number">0</span>;</span><br><span class="line">&#125;) - arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;index = %d&quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="Find-the-Index-of-A-Subsequence"><a href="#Find-the-Index-of-A-Subsequence" class="headerlink" title="Find the Index of A Subsequence"></a>Find the Index of A Subsequence</h3><ul>
<li>使用 <code>find_first()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">90</span>&#125;;</span><br><span class="line"><span class="type">int</span> needle[] = &#123;<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">find_first_of</span>(arr, arr + <span class="number">13</span>, needle, needle + <span class="number">3</span>) - arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;index = %d&quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>find_first_of()</code> ：返回 <code>第一个相等的子序列</code>的 <code>首元素下标</code></p>
<p><code>find_end()</code>：返回 <code>最后一个相等的子序列</code>的 <code>首元素下标</code></p>
</blockquote>
<ul>
<li>使用 <code>search()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">90</span>&#125;;</span><br><span class="line"><span class="type">int</span> needle[] = &#123;<span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">search</span>(arr, arr + <span class="number">10</span>, needle, needle + <span class="number">3</span>) - arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;index = %d&quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>search</code>返回的是 <code>第一个满足条件的元素</code></p>
</blockquote>
<blockquote>
<p>默认的 <code>search()</code>使用的是 <code>相等谓词</code>，我们也可以自定义 <code>二元相等谓词</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line"><span class="type">int</span> needle[] = &#123;<span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">search</span>(arr, arr + <span class="number">10</span>, needle, needle + <span class="number">3</span>, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1, <span class="type">const</span> <span class="keyword">auto</span> &amp;o2) &#123;</span><br><span class="line"> <span class="keyword">return</span> o1  * o1 == o2;</span><br><span class="line">&#125;) - arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;index = %d&quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">3</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>此外，如果我们的 <code>子序列</code>是 <code>相同元素组成的指定长度的子序列</code>，则可以直接使用 <code>search_n()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">search_n</span>(arr, arr + <span class="number">10</span>, <span class="number">2</span>, <span class="number">9</span>) - arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;index = %d&quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">3</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Find-in-Two-Consecutive-Elements"><a href="#Find-in-Two-Consecutive-Elements" class="headerlink" title="Find in Two-Consecutive Elements"></a>Find in Two-Consecutive Elements</h3><ul>
<li>使用 <code>find_adjacent()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">90</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">adjacent_find</span>(arr, arr + <span class="number">10</span>, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1, <span class="type">const</span> <span class="keyword">auto</span> &amp;o2)&#123;</span><br><span class="line">  <span class="keyword">return</span> o1 == o2;</span><br><span class="line">&#125;) - arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;index = %d&quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Count-the-number-of-elements-for-which-predicate-is-true"><a href="#Count-the-number-of-elements-for-which-predicate-is-true" class="headerlink" title="Count the number of elements for which predicate is true"></a>Count the number of elements for which predicate is true</h3><ul>
<li>使用 <code>count_if()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">int</span> cnt = <span class="built_in">count_if</span>(arr, arr + <span class="number">10</span>, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1) &#123;</span><br><span class="line">    <span class="keyword">return</span> o1 % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;cnt = %d&quot;</span>, cnt);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnt = <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h3 id="Return-the-First-Position-where-Two-Ranges-differs"><a href="#Return-the-First-Position-where-Two-Ranges-differs" class="headerlink" title="Return the First Position where Two Ranges differs"></a>Return the First Position where Two Ranges differs</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">30</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">int</span> needle[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">pair&lt;<span class="type">int</span> *, <span class="type">int</span> *&gt; ret = <span class="built_in">mismatch</span>(arr, arr + <span class="number">10</span>, needle);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ret-&gt;first = %d&quot;</span>, ret.first - arr);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;ret-&gt;second = %d&quot;</span>, ret.second - needle);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ret-&gt;first = <span class="number">3</span></span><br><span class="line">ret-&gt;second = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>mismatch()</code> 默认使用的 <code>二元相等谓词</code> 就是 <code>operator=</code>。</p>
<p>如果需要，可以自定义 <code>二元相等谓词</code></p>
</blockquote>
<blockquote>
<p><code>equal()</code> 与 <code>mismatch()</code>类似，但它只返回 <code>是否相等</code></p>
</blockquote>
<h3 id="Test-For-All-and-Exist"><a href="#Test-For-All-and-Exist" class="headerlink" title="Test For-All and Exist"></a>Test For-All and Exist</h3><ul>
<li>使用 <code>all_of()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>&#125;;</span><br><span class="line"><span class="type">bool</span> flag = <span class="built_in">all_of</span>(arr, arr + <span class="number">6</span>, [](<span class="type">const</span> <span class="keyword">auto</span>&amp;o1)&#123;</span><br><span class="line">  <span class="keyword">return</span> o1 % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br><span class="line">cout &lt;&lt; flag;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>any_of()</code>同理，它可以测试是否有 <code>任何一个元素</code>满足 <code>条件</code>。</p>
<p><code>none_of()</code> 可以用 <code>all_of()</code> 取反来实现。</p>
</blockquote>
<h3 id="Apply-function-to-range"><a href="#Apply-function-to-range" class="headerlink" title="Apply function to range"></a>Apply function to range</h3><ul>
<li>使用 <code>for_each()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">for_each(arr, arr + <span class="number">10</span>, [](<span class="type">const</span> <span class="keyword">auto</span> &amp; o1)&#123;</span><br><span class="line">  cout &lt;&lt; o1 * o1 &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">4</span> <span class="number">9</span> <span class="number">16</span> <span class="number">25</span> <span class="number">36</span> <span class="number">49</span> <span class="number">64</span> <span class="number">81</span></span><br></pre></td></tr></table></figure>

<h3 id="Remove-Duplicates"><a href="#Remove-Duplicates" class="headerlink" title="Remove Duplicates"></a>Remove Duplicates</h3><ul>
<li>使用 <code>sort()</code> 配合 <code>unique()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">10</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">10</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">80</span>&#125;;</span><br><span class="line"><span class="built_in">unique</span>(arr, arr + <span class="number">10</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> <span class="number">20</span> <span class="number">30</span> <span class="number">40</span> <span class="number">50</span> <span class="number">10</span> <span class="number">60</span> <span class="number">70</span> <span class="number">80</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. <code>unique()</code> 的 <code>语义</code>并不是 <code>去除序列的重复元素</code>，而是 <code>去除序列的连续的重复元素 (只保留一个相同元素)</code>。</p>
<p>上述例子中只有 <code>连续的10</code>被去除。</p>
<p>如果确实要去除 <code>序列中所有的重复元素</code>，则应当先 <code>sort()</code>使得 <code>所有的相同元素</code>是 <code>连续排列的</code>，再使用 <code>unique()</code></p>
</blockquote>
<blockquote>
<p>该函数也有 <code>可复制到指定输出流的版本</code> <code>unique_copy()</code></p>
</blockquote>
<h3 id="Print-Range"><a href="#Print-Range" class="headerlink" title="Print Range"></a>Print Range</h3><ul>
<li>使用 <code>for_each()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">for_each(arr, arr + <span class="number">10</span>, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;item) &#123;</span><br><span class="line">    cout &lt;&lt; item &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>使用 <code>copy()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span>(arr, arr + <span class="number">10</span>, <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Copy-range-of-elements"><a href="#Copy-range-of-elements" class="headerlink" title="Copy range of elements"></a>Copy range of elements</h3><ul>
<li>使用 <code>copy()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">int</span> dest[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">copy</span>(arr, arr + <span class="number">10</span>, dest);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以使用 <code>带谓词的版本</code> <code>copy_if()</code></p>
<p>如果需要 <code>反向遍历</code>，可以使用 <code>copy_backward()</code></p>
</blockquote>
<h3 id="Move-range-of-elements"><a href="#Move-range-of-elements" class="headerlink" title="Move range of elements"></a>Move range of elements</h3><ul>
<li>使用 <code>move()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">move</span>(arr, arr + <span class="number">2</span>, arr + <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>move()</code>方法允许 <code>目标内存区域</code>和 <code>来源内存区域</code>发生 <code>重叠</code>。</p>
<p>但是，<code>move()</code>不保证 <code>来源内存区域</code>的 <code>内容</code>仍 <code>保持原样</code></p>
</blockquote>
<h3 id="Transform-Range"><a href="#Transform-Range" class="headerlink" title="Transform Range"></a>Transform Range</h3><ul>
<li>使用 <code>transform()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">transform</span>(arr, arr + <span class="number">10</span>, arr, [](<span class="type">const</span> <span class="keyword">auto</span> &amp; o1)&#123;</span><br><span class="line">  <span class="keyword">return</span> o1 * o1;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">copy</span>(arr, arr + <span class="number">10</span>, <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">4</span> <span class="number">9</span> <span class="number">16</span> <span class="number">25</span> <span class="number">36</span> <span class="number">49</span> <span class="number">64</span> <span class="number">81</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>transform()</code>可以指定 <code>输出目标流</code>，并且允许 <code>输出目标流</code>和 <code>输入流</code>发生 <code>重叠</code>。</p>
<p>有点类似 <code>for_each()</code>，但 <code>for_each()</code>经常用于 <code>非修改性操作</code>，而 <code>transform()</code> 用于 <code>修改性操作</code></p>
</blockquote>
<h3 id="Replace-Values-in-Range"><a href="#Replace-Values-in-Range" class="headerlink" title="Replace Values in Range"></a>Replace Values in Range</h3><ul>
<li>使用 <code>replace()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">replace</span>(arr, arr + <span class="number">10</span>, <span class="number">3</span>, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3000</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以使用 <code>带谓词版本的</code> <code>replace_if()</code>来替代 <code>replace()</code>：只有当 <code>谓词</code> <code>测试通过</code>时，才会用 <code>新值</code> 替换 <code>当前元素</code></p>
</blockquote>
<ul>
<li>使用 <code>replace_copy()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">int</span> dest[<span class="number">10</span>];</span><br><span class="line"><span class="built_in">replace_copy</span>(arr, arr + <span class="number">10</span>, dest, <span class="number">3</span>, <span class="number">3000</span>);</span><br><span class="line"><span class="built_in">copy</span>(arr, arr + <span class="number">10</span>, <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="built_in">copy</span>(dest, dest + <span class="number">10</span>, <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3000</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>相比于 <code>replace()</code>而言，<code>replace_copy()</code>可以指定 <code>修改结果的输出流</code>。</p>
<blockquote>
<p>特别地，<code>replace_copy()</code>可以重新将 <code>输出流</code>指定为 <code>输入流</code></p>
<p>在这个情况下，<code>replace_copy()</code>等价于 <code>replace()</code></p>
</blockquote>
</blockquote>
<blockquote>
<p>此外，还有一个 <code>带谓词版本的</code> <code>repalce_copy_if()</code></p>
<p>我们称它是<code>万能的替换函数</code>，因为它可以取代：<code>repalce()</code>，<code>replace_if()</code>，<code>replace_copy()</code></p>
</blockquote>
<h3 id="Reverse-Range"><a href="#Reverse-Range" class="headerlink" title="Reverse Range"></a>Reverse Range</h3><ul>
<li>使用 <code>reverse()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">reverse</span>(arr, arr + <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span> <span class="number">8</span> <span class="number">7</span> <span class="number">6</span> <span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>可复制到指定输出流的版本</code> <code>reverse_copy()</code></p>
</blockquote>
<h3 id="Rotate-left-the-elements-in-range"><a href="#Rotate-left-the-elements-in-range" class="headerlink" title="Rotate left the elements in range"></a>Rotate left the elements in range</h3><ul>
<li>使用 <code>rotate()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">rotate</span>(arr, arr + <span class="number">3</span>, arr + <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Rearrange-elements-in-range"><a href="#Rearrange-elements-in-range" class="headerlink" title="Rearrange elements in range"></a>Rearrange elements in range</h3><ul>
<li>使用 <code>random_shuffle()</code> 随机生成函数</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">random_shuffle</span>(arr, arr + <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8</span> <span class="number">1</span> <span class="number">9</span> <span class="number">2</span> <span class="number">0</span> <span class="number">5</span> <span class="number">7</span> <span class="number">3</span> <span class="number">4</span> <span class="number">6</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>该方法可用于 <code>洗牌算法</code></p>
</blockquote>
<h3 id="Merge-Operating-on-Sorted-Ranges"><a href="#Merge-Operating-on-Sorted-Ranges" class="headerlink" title="Merge (Operating on Sorted Ranges)"></a>Merge (Operating on Sorted Ranges)</h3><ul>
<li>使用 <code>set_intersection()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; A = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; B = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line"><span class="built_in">sort</span>(A.<span class="built_in">begin</span>(), A.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">sort</span>(B.<span class="built_in">begin</span>(), B.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">result</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="keyword">auto</span> it = <span class="built_in">set_intersection</span>(A.<span class="built_in">begin</span>(), A.<span class="built_in">end</span>(), B.<span class="built_in">begin</span>(), B.<span class="built_in">end</span>(), result.<span class="built_in">begin</span>());</span><br><span class="line"><span class="built_in">copy</span>(result.<span class="built_in">begin</span>(), it, <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>集合交\implies <code>set_union()</code></p>
</li>
<li><p>集合差 \implies<code>set_difference()</code></p>
</li>
<li><p>集合对称差 \implies <code>set_symmetric_difference()</code></p>
</li>
<li><p>归并 \implies <code>merge()</code>：<code>归并操作</code></p>
<blockquote>
<p>相比于 <code>set_union()</code>而言，<code>merge()</code>会 <code>保留多个相同的元素</code></p>
</blockquote>
</li>
<li><p>原址性归并 \implies <code>inplace_merge()</code>：<code>原址性的归并操作</code></p>
<blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;;</span><br><span class="line"><span class="built_in">inplace_merge</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">begin</span>() + <span class="number">5</span>, arr.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">3</span> <span class="number">3</span> <span class="number">4</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>测试包含关系 \implies<code>includes()</code></p>
<blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; A = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; B = &#123;<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">cout &lt;&lt; <span class="built_in">includes</span>(A.<span class="built_in">begin</span>(), A.<span class="built_in">end</span>(), B.<span class="built_in">begin</span>(), B.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">cout &lt;&lt; <span class="built_in">includes</span>(B.<span class="built_in">begin</span>(), B.<span class="built_in">end</span>(), A.<span class="built_in">begin</span>(), A.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
<blockquote>
<p>n.b. 上述的 <code>所有的归并操作</code>在使用之前，都需要用 <code>sort()</code> 对 <code>集合A</code> 和 <code>集合B</code> 进行 <code>预处理</code>。</p>
<p>否则将导致输出结果的错误。</p>
</blockquote>
<h3 id="Min-x2F-Max"><a href="#Min-x2F-Max" class="headerlink" title="Min&#x2F;Max"></a>Min&#x2F;Max</h3><ul>
<li><p>最小元素&#x2F;最大元素 \implies <code>min_element()</code> 和 <code>max_element()</code></p>
<blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="type">int</span> index = <span class="built_in">min_element</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()) - v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, index);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>minmax_element()</code>返回一个 <code>(最小值迭代器，最大值迭代器)</code>的 <code>二元组</code></p>
</blockquote>
</blockquote>
</li>
</ul>
<h3 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a>Heap</h3><p><code>堆操作函数</code>将一个 <code>数组</code>维护 <code>堆结构</code>，但除此之外，我们还需要一个 <code>表示堆大小的整数</code>。</p>
<blockquote>
<p>n.b. <code>数组的大小</code> 不一定等于 <code>堆的大小</code>，我们有可能 <code>只使用数组中的一部分连续区域</code> 来构成 <code>堆</code></p>
<p>n.b. 使用 <code>数组</code>时需要 <code>额外维护一个表示堆大小的整数</code>。但如果使用的是 <code>vector</code>，则可以 <code>在每次堆操作后</code>手动地 <code>维护vector</code>，使得 <code>vector的大小</code>始终与 <code>heap的大小</code> 相等。</p>
</blockquote>
<blockquote>
<p>与 <code>Java</code>的是，<code>C++</code>的 <code>Heap</code>默认是 <code>最大堆</code>，同理，<code>基于Heap的PriorityQueue</code>也默认是 <code>最大优先队列</code></p>
</blockquote>
<ul>
<li><p><code>make_heap()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">make_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">6</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>pop_heap()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">make_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line"><span class="built_in">pop_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">v.<span class="built_in">pop_back</span>();</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">6</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span></span><br><span class="line"><span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">6</span> <span class="number">4</span> <span class="number">3</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>push_heap()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">make_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">push_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">6</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span></span><br><span class="line"><span class="number">10</span> <span class="number">9</span> <span class="number">8</span> <span class="number">6</span> <span class="number">7</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span> <span class="number">4</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>除此之外，还有一些 <code>辅助操作</code>。</p>
<ul>
<li><p><code>sort_heap()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">make_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line"><span class="built_in">sort_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">6</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>is_heap()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">make_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">cout &lt;&lt; <span class="built_in">is_heap</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">6</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>大部分情况下，如果需要使用 <code>优先队列</code>可以首先考虑 <code>priority_queue</code>。</p>
<p>但如果需要一些更底层的操作，可以使用 <code>heap functions</code></p>
<h3 id="Binary-Search"><a href="#Binary-Search" class="headerlink" title="Binary Search"></a>Binary Search</h3><ul>
<li><p>下界函数&#x2F;上界函数</p>
<ul>
<li>\ge val \implies \t{lower\_bound()}</li>
<li>\gt val \implies \t{upper\_bound()}</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">int</span> ret1 = <span class="built_in">lower_bound</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>) - v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="type">int</span> ret2 = <span class="built_in">upper_bound</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>) - v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;lower_bound = %d &quot;</span>, ret1);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;upper_bound = %d &quot;</span>, ret2);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lower_bound = <span class="number">3</span></span><br><span class="line">upper_bound = <span class="number">4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. <code>lower_bound()</code>和 <code>upper_bound()</code>的 <code>语义</code> 可能直观上和 <code>名称</code>不同。</p>
<p>但实际上， <code>lower_bound()</code>指的是 <code>not less than</code></p>
<p>而 <code>upper_bound()</code> 指的是 <code>greater than</code></p>
</blockquote>
<ul>
<li><code>binary_search()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">bool</span> found = <span class="built_in">binary_search</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;found = %d&quot;</span>, found);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">found = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果 <code>已知序列是有序的</code>，则可以用 <code>binary search</code>代替 <code>linear search</code>来获得更高的效率。</p>
<p>但是，如果需要获取 <code>下标</code>，则需要使用 <code>lower_bound()</code>来进行 <code>二分查找</code></p>
<blockquote>
<p>尽管C标准库确实有一个 <code>bsearch()</code>函数，但该函数原型对于C++的很多数据结构来说，并不适合。</p>
</blockquote>
</blockquote>
<ul>
<li><p><code>equal_range()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="keyword">auto</span> ret = <span class="built_in">equal_range</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;first = %d\n&quot;</span>, ret.first - v.<span class="built_in">begin</span>());</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;second = %d\n&quot;</span>, ret.second - v.<span class="built_in">begin</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">first = <span class="number">3</span></span><br><span class="line">second = <span class="number">5</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>需要在 <code>有序序列</code>中查找 <code>一段连续的相同的元素</code>的 <code>下标范围</code>，则可以使用 <code>equal_range()</code></p>
</blockquote>
</li>
</ul>
<h3 id="Sorting"><a href="#Sorting" class="headerlink" title="Sorting"></a>Sorting</h3><ul>
<li><p><code>sort()</code>：<code>快速排序</code>，<code>非稳定性的</code></p>
</li>
<li><p><code>stable_sort()</code>：<code>稳定性的排序</code></p>
</li>
<li><p><code>partial_sort()</code>：<code>划分排序</code>，可以按照 <code>基准元素</code>将 <code>序列</code> 进行 <code>划分</code>为 <code>两个部分</code></p>
</li>
<li><p><code>is_sorted()</code>：判断 <code>序列</code>是否所有元素满足 <code>偏序关系</code></p>
<blockquote>
<p>通常情况下，我们定义的 <code>偏序关系</code>也就是 <code>operator &lt;</code>。</p>
<p>在这个意义上，<code>is_sorted()</code> 默认是 <code>判断序列是否升序</code>，</p>
<p>如果希望判断 <code>序列是否是降序的</code>，可以利用 <code>反向迭代器</code>来实现。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; increase = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; decrease = &#123;<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line">cout &lt;&lt; <span class="built_in">is_sorted</span>(increase.<span class="built_in">begin</span>(), increase.<span class="built_in">end</span>()) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">is_sorted</span>(decrease.<span class="built_in">begin</span>(), decrease.<span class="built_in">end</span>()) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">is_sorted</span>(decrease.<span class="built_in">rbegin</span>(), decrease.<span class="built_in">rend</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p><code>nth_element()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">4</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="built_in">nth_element</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">begin</span>() + <span class="number">1</span>, v.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">3</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">9</span> <span class="number">8</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>nth_element()</code>可以使得 <code>序列中指定位置的值</code>为 <code>排序该序列后该位置放置的元素</code>。</p>
<p>但除了让 <code>指定位置为排序后的序列应放置的元素</code>之外， <code>其他位置的元素</code>可能会受到 <code>位置改变的副作用</code></p>
</blockquote>
</li>
</ul>
<h3 id="Partitions"><a href="#Partitions" class="headerlink" title="Partitions"></a>Partitions</h3><ul>
<li><p><code>partition()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">int</span> ret = <span class="built_in">partition</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="type">const</span> <span class="keyword">auto</span>&amp;o1)&#123;</span><br><span class="line">  <span class="keyword">return</span> o1 &lt; <span class="number">4</span>;</span><br><span class="line">&#125;) - v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nthe index of the first element in the second group: %d&quot;</span>, ret);</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">0</span> <span class="number">2</span> <span class="number">4</span> <span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">5</span></span><br><span class="line">the index of the first element in the second group: <span class="number">4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>partition()</code> 划分函数 将 <code>序列</code>按照 <code>一元谓词</code>划分为 <code>2个部分</code>：</p>
<ul>
<li>第1部分：满足谓词的元素</li>
<li>第2部分：不满足谓词的元素</li>
</ul>
<p>它的返回值是 <code>第2部分的第一个元素的下标</code></p>
<blockquote>
<p>n.b. 我们可以发现，STL中很多关于 <code>2划分</code> 所返回的下标，均遵循 <code>the index of the first element in the second group</code>的原则。</p>
<p>同样地，类似的规律有 <code>取头不取尾的区间表示方法 [begin, end)</code></p>
</blockquote>
<blockquote>
<p>变种版本：<code>partition_copy()</code>，<code>stable_partition()</code></p>
</blockquote>
</blockquote>
</li>
<li><p><code>is_partitioned()</code></p>
</li>
<li><p><code>partition_point()</code></p>
<blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">int</span> ret = <span class="built_in">partition</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1) &#123;</span><br><span class="line">   <span class="keyword">return</span> o1 &lt; <span class="number">4</span>;</span><br><span class="line">&#125;) - v.<span class="built_in">begin</span>();</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nthe index of the first element in the second group: %d&quot;</span>, ret);</span><br><span class="line"><span class="comment">// partition_point()</span></span><br><span class="line"><span class="keyword">auto</span> point = <span class="built_in">partition_point</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1) &#123;</span><br><span class="line">   <span class="keyword">return</span> o1 &lt; <span class="number">4</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> iter = v.<span class="built_in">begin</span>(); iter != point; iter++) &#123;</span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *iter);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">0</span> <span class="number">2</span> <span class="number">4</span> <span class="number">9</span> <span class="number">7</span> <span class="number">8</span> <span class="number">5</span></span><br><span class="line">the index of the first element in the second group: <span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">0</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>可用于 <code>反求</code> <code>划分的分割点的迭代器</code></p>
</blockquote>
</li>
</ul>
<h3 id="Bitset"><a href="#Bitset" class="headerlink" title="Bitset"></a>Bitset</h3><p><code>位图 (bitset)</code> 是C++ 容器库之外的一个数据结构，它用 <code>1个二进制位</code>表示 <code>1个逻辑型变量</code>。</p>
<p>相比于 <code>char (8-bit)</code>而言，更 <code>节约空间</code>。</p>
<p>更重要的是，<code>bitset</code>提供了一些方便的 <code>数据操作函数</code>和 <code>数据查询函数</code>，以及对 <code>字符串输出</code>的支持。</p>
<ul>
<li><p>数据操作函数</p>
<ul>
<li><code>置位 (set)</code>：将 <code>指定下标的位</code>设置为 <code>1</code></li>
<li><code>复位 (reset)</code>：将 <code>指定下标的位</code>设置为 <code>0</code></li>
<li><code>翻转 (flip)</code>：将 <code>指定下标的位</code>进行 <code>翻转</code></li>
</ul>
</li>
<li><p>数据查询函数</p>
<ul>
<li><p><code>测试 (test)</code>：返回 <code>指定下标的位</code></p>
</li>
<li><p><code>计数 (count)</code>：返回 <code>被置位的位数</code></p>
<ul>
<li><code>全部已置位 (all)</code>：是否 <code>所有的位</code>都被 <code>置位</code></li>
<li><code>任何已置位 (any)</code>：是否 <code>任何一个位</code>被 <code>置位</code></li>
<li><code>没有已置位 (none)</code>：是否 <code>没有任何一个位</code>被 <code>置位</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bitset&lt;32&gt; bits;</span><br><span class="line">bits.<span class="built_in">set</span>(<span class="number">0</span>,<span class="literal">true</span>);</span><br><span class="line">cout &lt;&lt; bits;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">00000000000000000000000000000001</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>在 <code>空间紧张</code>的情况下，<code>bitset&lt;size&gt;</code>可能会优于 <code>vector&lt;bool&gt;</code>。</p>
<blockquote>
<p>事实上，这并不一定。因为 <code>vector&lt;bool&gt;</code>和 <code>普通的泛化vector</code>不同，</p>
<p>它是 <code>vector模板的特例化</code>，具体库实现很有可能针对 <code>vector&lt;bool&gt;</code>做出特别的优化。</p>
</blockquote>
<p>但不同于 <code>vector</code>的 <code>动态伸缩</code>， <code>bitset</code>的大小是通过 <code>模板</code>固定的，在编译期确立和内存空间。</p>
</blockquote>
<h3 id="Complex"><a href="#Complex" class="headerlink" title="Complex"></a>Complex</h3><p>STL库提供的 <code>复数</code>实现，同时重载了 <code>运算符</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">complex&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">complex&lt;<span class="type">int</span>&gt; b = &#123;<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">cout &lt;&lt; a + b;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">4</span>,<span class="number">6</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Ratio"><a href="#Ratio" class="headerlink" title="Ratio"></a>Ratio</h3><p>由C++提供的 <code>比例 (Ratio)</code>库。可以直接作为 <code>分数</code>库使用。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> ratio&lt;<span class="number">1</span>, <span class="number">2</span>&gt; one_half;</span><br><span class="line"><span class="keyword">typedef</span> ratio&lt;<span class="number">2</span>, <span class="number">3</span>&gt; two_thirds;</span><br><span class="line">ratio_add&lt;one_half, two_thirds&gt; sum;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;fraction: %d/%d&quot;</span>, sum.num, sum.den);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fraction: <span class="number">7</span>/<span class="number">6</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>他们本质上是 <code>宏</code>，只能在 <code>编译期</code>确定数值。</p>
</blockquote>
<h3 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h3><p>当需要表示 <code>多种数据类型的有序序列</code>，则可以使用 <code>元组 (Tuple)</code>。</p>
<blockquote>
<p>比如如果需要返回 <code>2个返回值</code>时，比起 <code>structure</code>来说，<code>tuple</code>会更加方便</p>
<blockquote>
<p>实际上，有另一个东西叫 <code>make_pair()</code></p>
</blockquote>
</blockquote>
<ul>
<li>Construct Tuple and Get Elements</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">tuple&lt;string, <span class="type">int</span>&gt; <span class="title">t1</span><span class="params">(<span class="string">&quot;hello&quot;</span>, <span class="number">100</span>)</span></span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;get&lt;0&gt; = &quot;</span> &lt;&lt; <span class="built_in">get</span>&lt;<span class="number">0</span>&gt;(t1) &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;get&lt;1&gt; = &quot;</span> &lt;&lt; <span class="built_in">get</span>&lt;<span class="number">1</span>&gt;(t1);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">get&lt;<span class="number">0</span>&gt; = hello</span><br><span class="line">get&lt;<span class="number">1</span>&gt; = <span class="number">100</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>实际上，比起 <code>构造器</code>而言， 我们更经常使用 <code>make_tuple()</code> 来构造元组。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> t2 = <span class="built_in">make_tuple</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>Use <code>tie()</code> to Unpack Tuple</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> tuple = <span class="built_in">make_tuple</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">string str1;</span><br><span class="line">string str2;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="built_in">tie</span>(str1, str2, num) = tuple;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; str2 &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; num &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">world</span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果只需要 <code>unpack</code>其中 <code>某些元素</code>，则可以使用 <code>std::ignore</code>来进行 <code>占位</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> tuple = <span class="built_in">make_tuple</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">string str1;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="built_in">tie</span>(str1, std::ignore, num) = tuple;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; num &lt;&lt; endl;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Utility"><a href="#Utility" class="headerlink" title="Utility"></a>Utility</h3><ul>
<li><p><code>swap()</code></p>
</li>
<li><p><code>make_pair()</code></p>
<blockquote>
<p>如果只需要 <code>2元组</code>的情况下，用 <code>make_pair()</code>会比 <code>make_tuple()</code>方便非常多。后者的 <code>accessor</code>用起来比较麻烦。</p>
</blockquote>
</li>
</ul>
<h3 id="Accumulate-values-in-range"><a href="#Accumulate-values-in-range" class="headerlink" title="Accumulate values in range"></a>Accumulate values in range</h3><ul>
<li>使用 <code>accumulate()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">int</span> sum = <span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">cout &lt;&lt; sum;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">45</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>accumulate()</code> 不仅仅是用于 <code>累加</code>，它还支持 <code>带有二元谓词的版本</code>。</p>
<p>可以利用 <code>二元谓词</code>来实现 <code>累减</code>，<code>累乘</code>，<code>累除</code>等</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="type">int</span> sum = <span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">1</span>, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1, <span class="type">const</span> <span class="keyword">auto</span> &amp;o2) &#123;</span><br><span class="line">   <span class="keyword">return</span> o1 * o2;</span><br><span class="line">&#125;);</span><br><span class="line">cout &lt;&lt; sum;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">24</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Compute-adjacent-difference-of-range"><a href="#Compute-adjacent-difference-of-range" class="headerlink" title="Compute adjacent difference of range"></a>Compute adjacent difference of range</h3><ul>
<li>使用 <code>adjacent_difference()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">10</span>&#125;;</span><br><span class="line"><span class="built_in">adjacent_difference</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), v.<span class="built_in">begin</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">2</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>adjacent_difference()</code> 不但可以用于 <code>差分</code>，还可以进行 <code>和分</code>，<code>积分</code>，<code>商分</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">10</span>&#125;;</span><br><span class="line"><span class="built_in">adjacent_difference</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), v.<span class="built_in">begin</span>(), [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1, <span class="type">const</span> <span class="keyword">auto</span> &amp;o2) &#123;</span><br><span class="line"><span class="keyword">return</span> o1 * o2;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">4</span> <span class="number">24</span> <span class="number">60</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Compute-cumulative-inner-product-of-range"><a href="#Compute-cumulative-inner-product-of-range" class="headerlink" title="Compute cumulative inner product of range"></a>Compute cumulative inner product of range</h3><ul>
<li>使用 <code>inner_product()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> init = <span class="number">100</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; b = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="type">int</span> ret = <span class="built_in">inner_product</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), b.<span class="built_in">begin</span>(), init);</span><br><span class="line">cout &lt;&lt; ret;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">240</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. 使用 <code>inner_product()</code> 时需要保证 <code>矢量a</code>和 <code>矢量b</code>的 <code>长度相等</code>。</p>
<blockquote>
<p>在 <code>两个矢量的长度不等的情况下</code>，STL仍然会取 <code>较长的矢量</code>进行运算， 而<code>较短的矢量</code>的 <code>越界值</code>将是 <code>不可预测的</code></p>
</blockquote>
</blockquote>
<blockquote>
<p>可以使用 <code>带谓词版本的 inner_product()</code>来模拟 <code>inner_product()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> init = <span class="number">100</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; b = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="type">int</span> ret = <span class="built_in">inner_product</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), b.<span class="built_in">begin</span>(), init, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1, <span class="type">const</span> <span class="keyword">auto</span> &amp;o2) &#123;</span><br><span class="line"> <span class="keyword">return</span> o1 + o2;</span><br><span class="line">&#125;, [](<span class="type">const</span> <span class="keyword">auto</span> &amp;o1, <span class="type">const</span> <span class="keyword">auto</span> &amp;o2) &#123;</span><br><span class="line">   <span class="keyword">return</span> o1 * o2;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">240</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="Compute-partial-sums-of-range"><a href="#Compute-partial-sums-of-range" class="headerlink" title="Compute partial sums of range"></a>Compute partial sums of range</h3><ul>
<li>使用 <code>partial_sum()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="built_in">partial_sum</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), a.<span class="built_in">begin</span>());</span><br><span class="line"><span class="built_in">copy</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">6</span> <span class="number">10</span> <span class="number">15</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>同理，使用带二元谓词的版本，我们可以实现：<code>部分差</code>，<code>部分乘</code>，<code>部分商</code></p>
</blockquote>
<h3 id="Store-increasing-sequence"><a href="#Store-increasing-sequence" class="headerlink" title="Store increasing sequence"></a>Store increasing sequence</h3><ul>
<li>使用 <code>iota()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="built_in">iota</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">3</span>);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>iota()</code>底层使用 <code>operator++ 运算符</code>来实现 <code>递增</code></p>
</blockquote>
<h3 id="Function-Object"><a href="#Function-Object" class="headerlink" title="Function Object"></a>Function Object</h3><h4 id="Base-Classes"><a href="#Base-Classes" class="headerlink" title="Base Classes"></a>Base Classes</h4><p><code>函数对象</code>即利用 <code>结构体/对象</code>的 <code>operator()</code>运算符重载，完成类似 <code>普通函数</code>的 <code>函数调用</code>。</p>
<ul>
<li><code>unary_function()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">IsOdd</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(<span class="type">int</span> number)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> number % <span class="number">2</span> != <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  IsOdd function_object;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">function_object</span>(<span class="number">3</span>) &lt;&lt; endl;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">function_object</span>(<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>本质上来说，<code>函数对象</code>就是一个 <code>结构体</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">IsOdd</span> &#123;</span><br><span class="line">   <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(<span class="type">int</span> number)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> number % <span class="number">2</span> != <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125; function_object;</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><code>binary_function()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">Add</span> &#123;</span><br><span class="line">      <span class="function"><span class="type">int</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(<span class="type">int</span> o1, <span class="type">int</span> o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1 + o2;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125; function_object;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">function_object</span>(<span class="number">1</span>, <span class="number">2</span>) &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>函数对象</code>一般用于 <code>predicate function</code>和 <code>comparison function</code>。</p>
<p>在大部分的场景下，可以用 <code>lambda表达式</code> 代替 <code>函数对象</code> 作为 <code>callable</code>。</p>
</blockquote>
<h4 id="Operator-Classes"><a href="#Operator-Classes" class="headerlink" title="Operator Classes"></a>Operator Classes</h4><h5 id="Arithmetic-Operation"><a href="#Arithmetic-Operation" class="headerlink" title="Arithmetic Operation"></a>Arithmetic Operation</h5><ul>
<li><p><code>plus</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  plus&lt;<span class="type">int</span>&gt; function_object;</span><br><span class="line">  cout &lt;&lt; <span class="built_in">function_object</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>minus</code></p>
</li>
<li><p><code>multiplies</code></p>
</li>
<li><p><code>divides</code></p>
</li>
<li><p><code>modulus</code></p>
</li>
<li><p><code>negate</code></p>
</li>
</ul>
<blockquote>
<p>上述 <code>算术操作函数对象</code>可以非常方便地用于 <code>transform()</code></p>
</blockquote>
<h5 id="Comparison-Operation"><a href="#Comparison-Operation" class="headerlink" title="Comparison Operation"></a>Comparison Operation</h5><ul>
<li><code>equal_to</code></li>
<li><code>not_equal_to</code></li>
<li><code>greater</code></li>
<li><code>less</code></li>
<li><code>greater_equal</code></li>
<li><code>less_equal</code></li>
</ul>
<blockquote>
<p><code>greater</code>和 <code>less</code>经常用于 <code>UDT</code>的 <code>优先队列</code>定义。</p>
</blockquote>
<blockquote>
<p><code>比较器函数</code>的 <code>基本用法</code>可以依据 <code>传入参数</code>来进行 <code>测试</code>。</p>
<p>但我们也可以 <code>绑定某个 参数</code>为 <code>常数</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="type">int</span> cnt = <span class="built_in">count_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">bind2nd</span>(<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;(), <span class="number">3</span>));</span><br><span class="line">cout &lt;&lt; cnt;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="Logical-Operations"><a href="#Logical-Operations" class="headerlink" title="Logical Operations"></a>Logical Operations</h5><ul>
<li><code>logical_and</code></li>
<li><code>logical_or</code></li>
<li><code>logical_not</code></li>
</ul>
<h5 id="Adaptor-and-Conversion-Functions"><a href="#Adaptor-and-Conversion-Functions" class="headerlink" title="Adaptor and Conversion Functions"></a>Adaptor and Conversion Functions</h5><h6 id="Negators"><a href="#Negators" class="headerlink" title="Negators"></a>Negators</h6><ul>
<li><p><code>not1</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">IsOdd</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x)</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> x % <span class="number">2</span> != <span class="number">0</span>; &#125;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="type">int</span> argument_type;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>&#125;;</span><br><span class="line">  <span class="type">int</span> cnt = <span class="built_in">count_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">not1</span>(<span class="built_in">IsOdd</span>()));</span><br><span class="line">  cout &lt;&lt; cnt;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>not2</code></p>
</li>
</ul>
<blockquote>
<p><code>not1</code> 和 <code>not2</code> 可以对 <code>现有的谓词</code>进行 <code>取反</code>。</p>
<p>但他们仅支持 <code>函数对象</code>，并不适用于 <code>lambda表达式</code></p>
<blockquote>
<p><code>not1</code> 和 <code>not2</code> 实质上是 <code>基于结构体模板的</code>，而 <code>lambda</code>本质上属于 <code>函数</code>而不是 <code>结构体</code></p>
</blockquote>
</blockquote>
<blockquote>
<p>在用 <code>not1</code>和 <code>not2</code>进行 <code>取反</code>时还必须要求定义 <code>typedef int argument_type</code>，而且对于 <code>运算符函数</code>必须用 <code>const</code>作修饰。</p>
<p>使用并不方便。</p>
</blockquote>
<h6 id="Parameter-Binders"><a href="#Parameter-Binders" class="headerlink" title="Parameter Binders"></a>Parameter Binders</h6><ul>
<li><code>bind1st()</code></li>
<li><code>bind2nd()</code></li>
</ul>
<blockquote>
<p><code>bind1st()</code> 和 <code>bind2nd()</code> 适用于 <code>操作类的函数对象</code>。</p>
<p>一般与 <code>Comparison Functions</code>搭配使用。</p>
</blockquote>
<h6 id="Conversors"><a href="#Conversors" class="headerlink" title="Conversors"></a>Conversors</h6><ul>
<li><p><code>ptr_fun()</code>：\t{function pointer} \to \t{function object}</p>
</li>
<li><p><code>mem_fun()</code>：\t{member function} \to \t{function object (pointer version)}</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vector &lt;string*&gt; numbers;</span><br><span class="line">numbers.<span class="built_in">push_back</span> ( <span class="keyword">new</span> <span class="built_in">string</span> (<span class="string">&quot;one&quot;</span>) );</span><br><span class="line">numbers.<span class="built_in">push_back</span> ( <span class="keyword">new</span> <span class="built_in">string</span> (<span class="string">&quot;two&quot;</span>) );</span><br><span class="line">numbers.<span class="built_in">push_back</span> ( <span class="keyword">new</span> <span class="built_in">string</span> (<span class="string">&quot;three&quot;</span>) );</span><br><span class="line">numbers.<span class="built_in">push_back</span> ( <span class="keyword">new</span> <span class="built_in">string</span> (<span class="string">&quot;four&quot;</span>) );</span><br><span class="line">numbers.<span class="built_in">push_back</span> ( <span class="keyword">new</span> <span class="built_in">string</span> (<span class="string">&quot;five&quot;</span>) );</span><br><span class="line"></span><br><span class="line">vector &lt;<span class="type">int</span>&gt; <span class="built_in">lengths</span> ( numbers.<span class="built_in">size</span>() );</span><br><span class="line"><span class="built_in">transform</span> (numbers.<span class="built_in">begin</span>(), numbers.<span class="built_in">end</span>(), lengths.<span class="built_in">begin</span>(), <span class="built_in">mem_fun</span>(&amp;string::length));</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++) &#123;</span><br><span class="line">  cout &lt;&lt; *numbers[i] &lt;&lt; <span class="string">&quot; has &quot;</span> &lt;&lt; lengths[i] &lt;&lt; <span class="string">&quot; letters.\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">one has <span class="number">3</span> letters.</span><br><span class="line">two has <span class="number">3</span> letters.</span><br><span class="line">three has <span class="number">5</span> letters.</span><br><span class="line">four has <span class="number">4</span> letters.</span><br><span class="line">five has <span class="number">4</span> letters.</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>mem_fun_ref()</code>：\t{member function} \to \t{function object (reference version)}</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;string&gt; numbers;</span><br><span class="line">numbers.<span class="built_in">push_back</span>(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">numbers.<span class="built_in">push_back</span>(<span class="string">&quot;two&quot;</span>);</span><br><span class="line">numbers.<span class="built_in">push_back</span>(<span class="string">&quot;three&quot;</span>);</span><br><span class="line">numbers.<span class="built_in">push_back</span>(<span class="string">&quot;four&quot;</span>);</span><br><span class="line">numbers.<span class="built_in">push_back</span>(<span class="string">&quot;five&quot;</span>);</span><br><span class="line">    </span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">lengths</span><span class="params">(numbers.size())</span></span>;</span><br><span class="line"><span class="built_in">transform</span>(numbers.<span class="built_in">begin</span>(), numbers.<span class="built_in">end</span>(), lengths.<span class="built_in">begin</span>(), <span class="built_in">mem_fun_ref</span>(&amp;string::length));</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  cout &lt;&lt; numbers[i] &lt;&lt; <span class="string">&quot; has &quot;</span> &lt;&lt; lengths[i] &lt;&lt; <span class="string">&quot; letters.\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">one has <span class="number">3</span> letters.</span><br><span class="line">two has <span class="number">3</span> letters.</span><br><span class="line">three has <span class="number">5</span> letters.</span><br><span class="line">four has <span class="number">4</span> letters.</span><br><span class="line">five has <span class="number">4</span> letters.</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p><code>mem_fun()</code> 和 <code>mem_fun_ref()</code> 可以在 <code>流操作</code>时将 <code>成员函数</code> 转化为 <code>函数对象</code>，可以用于 <code>调用对象的getter函数</code>。</p>
<p><code>mem_fun()</code>：适用于 <code>指针版本</code>，如 <code>容器的元素</code> 是 <code>指针类型</code></p>
<p><code>mem_fun_ref()</code>：适用于 <code>引用版本</code>，如 <code>容器的元素</code> 是 <code>引用类型</code></p>
</blockquote>
<h4 id="Instrumental-Types"><a href="#Instrumental-Types" class="headerlink" title="Instrumental Types"></a>Instrumental Types</h4><ul>
<li><p><code>unary_negate()</code> 和 <code>binary_negate()</code>：和 <code>not1()</code> 和 <code>not2()</code> 一样 <code>鸡肋</code></p>
</li>
<li><p><code>binder1st()</code>和 <code>binder2nd()</code>：有点像 <code>编译版的bind1st()</code>和 <code>编译版的bind2nd()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binder1st&lt;greater&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">greater_than_10</span>(<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;(), <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>pointer_to_unary_function()</code> 和 <code>pointer_to_binary_function()</code></p>
</li>
<li><p><code>mem_fun_t()</code> ， <code>mem_fun1_t()</code>，<code>const_mem_fun_t()</code>，<code>const_mem_fun1_t()</code>，<code>mem_fun_ref_t()</code>，<code>mem_fun1_ref_t()</code>，<code>const_mem_fun_ref_t()</code>，<code>const_mem_fun1_ref_t()</code></p>
</li>
</ul>
<h3 id="Initializer-List"><a href="#Initializer-List" class="headerlink" title="Initializer List"></a>Initializer List</h3><p><code>initializer_list</code> 是一种 <code>数据类型</code>，存储 <code>某种类型的元素</code>的 <code>列表</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> a = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>&#125;;</span><br><span class="line"><span class="built_in">copy</span>(a.<span class="built_in">begin</span>(),a.<span class="built_in">end</span>(),<span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> <span class="number">20</span> <span class="number">30</span></span><br></pre></td></tr></table></figure>

<h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><p>数据结构 <code>矢量</code>，提供和 <code>数组</code>等效的功能。</p>
<h4 id="Constructor-amp-Destructor"><a href="#Constructor-amp-Destructor" class="headerlink" title="Constructor &amp; Destructor"></a>Constructor &amp; Destructor</h4><h5 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h5><ul>
<li><code>empty container constructor</code></li>
<li><code>initializer list constructor</code></li>
<li><code>fill constructor</code>: k elements with specific value</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">10</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>range constructor</code> copy from <code>ierator</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; src = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(src.begin() + <span class="number">1</span>, src.end())</span></span>;</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>copy constructor (and copying with allocator)</code>: copy from <code>another vector</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; src = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(src)</span></span>;</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>以下两种写法都是调用 <code>拷贝构造函数</code>。</p>
<blockquote>
<p><code>operator=</code> 赋值运算符 等价于 <code>copy constructor</code></p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">b</span><span class="params">(a)</span></span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; b = a;</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><code>move constructor (and moving with allocator)</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">b</span><span class="params">(a, a.get_allocator())</span></span>;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;a: &quot;</span>;</span><br><span class="line"><span class="built_in">copy</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;b: &quot;</span>;</span><br><span class="line"><span class="built_in">copy</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a: <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line">b: <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<h5 id="Destructor"><a href="#Destructor" class="headerlink" title="Destructor"></a>Destructor</h5><p><code>vector</code>会 <code>自动地</code> 释放 <code>元素所使用的内存</code></p>
<h4 id="Iterators"><a href="#Iterators" class="headerlink" title="Iterators"></a>Iterators</h4><ul>
<li><code>begin()</code> and <code>end()</code></li>
<li><code>rbegin()</code> and <code>rend()</code></li>
<li><code>cbegin()</code> and <code>cend()</code></li>
<li><code>crbegin()</code> and <code>crend()</code></li>
</ul>
<h4 id="Capacity"><a href="#Capacity" class="headerlink" title="Capacity"></a>Capacity</h4><ul>
<li><p><code>size()</code></p>
<blockquote>
<p><code>size</code>信息是作为 <code>vector的属性</code>而存在的。</p>
<p>可在 <code>常数时间</code>内获取到。</p>
<blockquote>
<p>但 <code>strlen()</code>不是，对于 <code>大字符串</code>，不要频繁地调用 <code>strlen()</code></p>
</blockquote>
</blockquote>
</li>
<li><p><code>resize()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">v.<span class="built_in">resize</span>(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>empty()</code></p>
</li>
<li><p><code>capacity()</code>：获取 <code>vector的底层数组</code>的 <code>大小</code></p>
</li>
<li><p><code>reserve()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;before reserve: capacity = %d\n&quot;</span>, v.<span class="built_in">capacity</span>());</span><br><span class="line">v.<span class="built_in">reserve</span>(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;after reserve: capacity = %d\n&quot;</span>, v.<span class="built_in">capacity</span>());</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">before reserve: <span class="number">3</span></span><br><span class="line">after reserve: <span class="number">10</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果 <code>事先知道</code>需要添加的 <code>元素的数量</code>，则可以先用 <code>reserve()</code>来 <code>一次性</code>完成 <code>预分配</code>。</p>
<blockquote>
<p><code>reserve(int n)</code> 只 <code>保证</code> <code>vector的底层数组</code>的 <code>大小</code>足够满足 <code>n元素</code>，如果 <code>vector的底层数组</code>已经大于n，则该语句会被简单地忽略。</p>
</blockquote>
<p>如果没有使用 <code>reserve()</code>，则在插入 <code>大量元素</code>时，<code>vector的底层数组</code>可能会经历 <code>多次的动态扩容</code>，浪费不必要的资源。</p>
</blockquote>
</li>
<li><p><code>shrink_to_fit()</code>：<code>动态缩容</code>使得 <code>capacity = size</code></p>
</li>
</ul>
<h4 id="Element-Access"><a href="#Element-Access" class="headerlink" title="Element Access"></a>Element Access</h4><ul>
<li><p>Return <code>reference</code></p>
<ul>
<li><code>operator []</code>，<code>at()</code></li>
<li><code>front()</code> ，<code>back()</code></li>
</ul>
<blockquote>
<p>尽管这些 <code>access function</code>返回的确实是 <code>引用</code>，</p>
<p>但还需要注意 <code>隐含的值拷贝</code>。</p>
<p>如果真的希望 <code>取到vector的元素的引用</code>，并且让 <code>数据修改</code>反映到 <code>vector内部的元素</code>中，需要设置 <code>refenence LHS</code>以避免 <code>值拷贝</code></p>
<ul>
<li><code>value copy</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line"><span class="type">int</span> num = v[<span class="number">0</span>];</span><br><span class="line">num = <span class="number">43</span>;</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>reference copy</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line"><span class="type">int</span> &amp; num = v[<span class="number">0</span>];</span><br><span class="line">num = <span class="number">43</span>;</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">43</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>Return <code>reference</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line"><span class="type">int</span> *num = v.<span class="built_in">data</span>();</span><br><span class="line"><span class="built_in">copy</span>(num, num + <span class="number">3</span>, <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>data()</code>返回的是 <code>vector的底层数组</code></p>
</blockquote>
</li>
</ul>
<h4 id="Modifiers"><a href="#Modifiers" class="headerlink" title="Modifiers"></a>Modifiers</h4><ul>
<li><code>assign</code>：assign n elements with specific values</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">v.<span class="built_in">assign</span>(<span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">5</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. <code>assign</code> 相当于 <code>重新初始化</code>vector，<code>vector中旧的数据</code>会被 <code>删除</code>！</p>
</blockquote>
<ul>
<li><p><code>push_back()</code> and <code>pop_back()</code></p>
</li>
<li><p><code>insert()</code> and <code>erase()</code></p>
<ul>
<li><code>insert()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">v.<span class="built_in">insert</span>(v.<span class="built_in">begin</span>() + <span class="number">1</span>, <span class="number">3</span>, <span class="number">9999</span>);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">9999</span> <span class="number">9999</span> <span class="number">9999</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. <code>insert</code>的 <code>position</code>的 <code>语义</code>是：<code>欲插入元素</code> 将插入在 <code>该position的元素之前</code>。</p>
<p>或者等价地说：<code>欲插入元素</code>在 <code>插入后</code> 应该 <code>位于position的位置</code></p>
</blockquote>
<ul>
<li><p><code>erase()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">v.<span class="built_in">erase</span>(v.<span class="built_in">begin</span>() + <span class="number">1</span>);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><code>clear()</code></p>
</li>
<li><p><code>swap()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">3</span>, <span class="number">100</span>)</span></span>;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">b</span><span class="params">(<span class="number">5</span>, <span class="number">200</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">a.<span class="built_in">swap</span>(b);</span><br><span class="line"><span class="type">int</span> &amp; the_value_from_a = a[<span class="number">0</span>];</span><br><span class="line">the_value_from_a = <span class="number">9999</span>;</span><br><span class="line">    </span><br><span class="line"><span class="built_in">copy</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="built_in">copy</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9999</span> <span class="number">200</span> <span class="number">200</span> <span class="number">200</span> <span class="number">200</span></span><br><span class="line"><span class="number">100</span> <span class="number">100</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>swap()</code>原理是直接 <code>交换</code> 两个 <code>vector的底层数组的指针</code></p>
</blockquote>
</li>
<li><p><code>emplace()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">v.<span class="built_in">emplace</span>(v.<span class="built_in">begin</span>() + <span class="number">1</span>, <span class="number">9999</span>);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">9999</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>相比于 <code>insert()</code>，<code>push_front()</code> 和 <code>push_back()</code> 将 <code>构造好的元素</code> 传递给 <code>Modifier</code>。</p>
<p><code>emplace()</code>并不传递 <code>已经构造好的元素</code>，而是传递 <code>用于构造这个元素的参数列表</code>：这样做有利于 <code>减少不必要的元素值拷贝</code>，而 <code>直接在vector的底层数组</code>上 <code>构造元素</code>。</p>
</blockquote>
<blockquote>
<p><code>emplace_back()</code> 同理。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">v.<span class="built_in">emplace_back</span>(<span class="number">9999</span>);</span><br><span class="line"><span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">9999</span></span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
<h4 id="vector-1"><a href="#vector-1" class="headerlink" title="vector"></a>vector<bool></h4><p><code>vector&lt;bool&gt;</code> 是 <code>vector</code>的 <code>模板特例化</code>，它和 <code>generic vector template</code>相比，有以下特点：</p>
<ul>
<li><code>vector&lt;bool&gt;</code>的 <code>底层存储</code>并不一定是用 <code>bool[]</code>的。<code>library</code>可能选择 <code>其他底层存储方式</code>，并且尽可能地保证 <code>仅使用1位来表示真值</code></li>
<li>不同于 <code>常规的vector</code>使用 <code>allocator</code> <code>分配对象</code>， <code>vector&lt;bool&gt;</code>的 <code>位数据</code>可以被 <code>直接地设置</code>在 <code>内部存储</code></li>
<li>多出一个 <code>flip()</code> 翻转函数</li>
<li><code>vector&lt;bool&gt;</code> 的 <code>accesstor</code>返回的是 用于指向单个为的 <code>reference类型</code> 而不是 <code>bool类型</code></li>
</ul>
<blockquote>
<p>也就是说，使用 <code>vector&lt;bool&gt;</code> 并不会比 <code>bitset&lt;&gt;</code> 占用 <code>更多空间</code>或 <code>更多时间</code>。</p>
<p>在正常情况下，无法创建 <code>真正的泛化的 vector&lt;bool&gt;</code>，而取而代之的是 <code>特例化的 vector&lt;bool&gt;</code></p>
</blockquote>
<h3 id="list-1"><a href="#list-1" class="headerlink" title="list"></a>list</h3><p>STL中的 <code>list</code> 是 <code>doubly_linked_list</code></p>
<p>如果需要 <code>singly_linked_list</code> 则需要使用 <code>forward_list</code>。</p>
<blockquote>
<p>n.b. <code>forward_list</code>的 <code>性能</code> 几乎和 <code>Handwritten C-style singly-linked-list</code>没有差别！</p>
<blockquote>
<p><code>forward_list</code>为了 <code>性能</code>甚至没有 <code>size()</code>。</p>
</blockquote>
</blockquote>
<h4 id="Operations"><a href="#Operations" class="headerlink" title="Operations"></a>Operations</h4><ul>
<li><p><code>splice()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">list&lt;<span class="type">int</span>&gt; list1 = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">list&lt;<span class="type">int</span>&gt; list2 = &#123;<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>&#125;;</span><br><span class="line">list1.<span class="built_in">splice</span>(list1.<span class="built_in">begin</span>(), list2);</span><br><span class="line">    </span><br><span class="line">cout &lt;&lt; <span class="string">&quot;list1: &quot;</span>;</span><br><span class="line"><span class="built_in">copy</span>(list1.<span class="built_in">begin</span>(), list1.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line">cout &lt;&lt; endl &lt;&lt; <span class="string">&quot;list2: &quot;</span>;</span><br><span class="line"><span class="built_in">copy</span>(list2.<span class="built_in">begin</span>(), list2.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list1: <span class="number">100</span> <span class="number">200</span> <span class="number">300</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">list2:</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>splice()</code> 可以 <code>非常方便</code>地对 <code>2个链表</code>进行 <code>衔接操作</code>。</p>
</blockquote>
</li>
<li><p><code>remove()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list&lt;<span class="type">int</span>&gt; list1 = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>&#125;;</span><br><span class="line">list1.<span class="built_in">remove</span>(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">copy</span>(list1.<span class="built_in">begin</span>(), list1.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">3</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. <code>remove()</code>的 <code>语义</code>是 <code>移除所有的符合条件的相等元素</code>，而不是 <code>移除第一个符合条件的相等元素</code></p>
<blockquote>
<p>带谓词的版本 <code>remove_if()</code></p>
</blockquote>
</blockquote>
</li>
<li><p><code>unique()</code> and <code>merge()</code></p>
<blockquote>
<p>n.b. <code>unique()</code>的 <code>语义</code> 和之前所提到的 <code>std::unique()</code>是相同的，都是指 <code>remove consecutive equivalent elements</code>，如果需要确保 <code>移除整个容器中的相等元素</code>，需要进行预处理 <code>sort()</code></p>
</blockquote>
</li>
</ul>
<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><p>STL的<code>array</code>数据结构仅仅是 <code>ordinary array</code> 的 <code>包装类</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array&lt;<span class="type">int</span>, 10&gt; num = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">copy</span>(num.<span class="built_in">begin</span>(), num.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>array</code>提供了比 <code>ordinal array</code>更加方便的 <code>辅助函数</code>，但又没有 <code>vector</code>的 <code>复杂性</code>。</p>
<p>如果你期望保持 <code>ordinal array</code>的众多 <code>特性</code>，同时不期望使用 <code>auto extendend/extracted</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array&lt;<span class="type">int</span>, 10&gt; num = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">num.<span class="built_in">fill</span>(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;size = %d\n&quot;</span>, num.<span class="built_in">size</span>());</span><br><span class="line"><span class="built_in">copy</span>(num.<span class="built_in">begin</span>(), num.<span class="built_in">end</span>(), <span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(cout, <span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">size = <span class="number">10</span></span><br><span class="line"><span class="number">100</span> <span class="number">100</span> <span class="number">100</span> <span class="number">100</span> <span class="number">100</span> <span class="number">100</span> <span class="number">100</span> <span class="number">100</span> <span class="number">100</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>size()</code></li>
</ul>
<p>传统的<code>C-Style数组</code>在 <code>参数传递</code>时比较麻烦，但使用 <code>array</code>可以避免这个问题。</p>
<ul>
<li><code>iterator</code></li>
</ul>
<p><code>array</code>可以使用 <code>iterator对象</code>，与其他STL函数的配合编码更加方便。</p>
<blockquote>
<p>另外，<code>array</code>继承了 <code>ordinary</code>的 <code>传统特性</code>：允许 <code>下标越界</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array&lt;<span class="type">int</span>, 10&gt; arr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">-10</span>; i &lt; <span class="number">20</span>; ++i) &#123;</span><br><span class="line"> cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4199804</span> <span class="number">0</span> <span class="number">6422000</span> <span class="number">0</span> <span class="number">-6</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">8</span> <span class="number">0</span> <span class="number">4199705</span> <span class="number">0</span> <span class="number">8</span> <span class="number">0</span> <span class="number">75</span> <span class="number">0</span> <span class="number">8224624</span> <span class="number">0</span> <span class="number">16</span> <span class="number">11</span> <span class="number">8224592</span> <span class="number">0</span> <span class="number">4199367</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">75</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><code>fill()</code></li>
</ul>
<p><code>array</code>在 <code>完全兼容</code> <code>ordinal array</code>的所有 <code>初始化方法</code>之外，</p>
<p>还提供了一个非常有用的函数：<code>fill()</code></p>
<blockquote>
<p>对于 <code>ordinal array</code>，我们可以使用 <code>memset()</code>。</p>
<p>但遗憾的是，该函数只适用于填充 <code>0</code>和 <code>-1</code></p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">array&lt;array&lt;<span class="type">int</span>, 10&gt;, 3&gt; num;</span><br><span class="line">num.<span class="built_in">fill</span>(array&lt;<span class="type">int</span>, <span class="number">10</span>&gt;&#123;<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>&#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; num.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; num[i].<span class="built_in">size</span>(); ++j) &#123;</span><br><span class="line">    cout &lt;&lt; num[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">100 200 300 0 0 0 0 0 0 0</span><br><span class="line">100 200 300 0 0 0 0 0 0 0</span><br><span class="line">100 200 300 0 0 0 0 0 0 0</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="deque-1"><a href="#deque-1" class="headerlink" title="deque"></a>deque</h3><p>STL的 <code>deque</code> 即 <code>doubly linked list</code>。</p>
<p>此外，STL的 <code>stack</code>和 <code>queue</code> 均是基于 <code>deque</code>实现的</p>
<h3 id="priority-queue"><a href="#priority-queue" class="headerlink" title="priority_queue"></a>priority_queue</h3><p>不同于Java的 <code>PriorityQueue</code>，C++的STL的 <code>priority_queue</code>默认是 <code>大顶堆</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">Container</span> = vector&lt;T&gt;,</span><br><span class="line">  <span class="keyword">class</span> Compare = less&lt;<span class="keyword">typename</span> Container::value_type&gt; &gt; <span class="keyword">class</span> priority_queue;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>priority_queue</code> 底层使用的是 <code>heap functions</code>。</p>
<p><code>data source</code>可以来自 <code>多种类型的容器</code>，只需要通过 <code>range constructor</code>来构造 <code>priority_queue</code>即可。</p>
</blockquote>
<ul>
<li><p><code>max-imum heap</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="function">priority_queue&lt;<span class="type">int</span>&gt; <span class="title">PQ</span><span class="params">(a.begin(), a.end())</span></span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">while</span> (!PQ.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">  cout &lt;&lt; PQ.<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  PQ.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8</span> <span class="number">6</span> <span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>min-imum heap</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>&#125;;</span><br><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">PQ</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line">    </span><br><span class="line"><span class="keyword">while</span> (!PQ.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">  cout &lt;&lt; PQ.<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  PQ.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">8</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>同理，也可以使用 <code>custom comparison function</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">comp</span> &#123;</span><br><span class="line">   <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;o1, <span class="type">const</span> <span class="type">int</span> &amp;o2)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> o1 &gt; o2;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, comp&gt; <span class="built_in">PQ</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!PQ.<span class="built_in">empty</span>()) &#123;</span><br><span class="line"> cout &lt;&lt; PQ.<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"> PQ.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">8</span></span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p><code>map</code>中的 <code>条目 (entry)</code>类型为</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">const</span> Key, T&gt; value_type;</span><br></pre></td></tr></table></figure>

<h4 id="map-1"><a href="#map-1" class="headerlink" title="map"></a>map</h4><p>STL中的 <code>map</code>底层数据结构是基于 <code>Red-Black Tree</code> 的，通过 <code>operator &lt;</code>来完成 <code>比较</code>。</p>
<p>而且，可以直接对 <code>map</code>进行 <code>迭代</code>来得出 <code>已排序的key序列</code></p>
<ul>
<li><p><code>operator[]</code></p>
<blockquote>
<ul>
<li>如果key已存在，则返回 map[key]</li>
<li>如果key不存在，则等价于：(*((this-&gt;insert(make_pair(k,mapped_type()))).first)).second</li>
</ul>
<blockquote>
<p>如果使用 <code>at()</code>，则会在 <code>key不存在时</code>，抛出 <code>异常</code></p>
</blockquote>
<blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, string&gt; m;</span><br><span class="line">m[<span class="number">1</span>] = <span class="string">&quot;first&quot;</span>;</span><br><span class="line">m[<span class="number">2</span>] = <span class="string">&quot;second&quot;</span>;</span><br><span class="line">m[<span class="number">3</span>] = <span class="string">&quot;third&quot;</span>;</span><br><span class="line">m[<span class="number">4</span>] = <span class="string">&quot;four&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;size = %d\n&quot;</span>, m.<span class="built_in">size</span>());</span><br><span class="line">m[<span class="number">5</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;size = %d, value = %s\n&quot;</span>, m.<span class="built_in">size</span>(), m[<span class="number">5</span>].<span class="built_in">c_str</span>());</span><br><span class="line">m[<span class="number">100000000</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;size = %d, value = %s\n&quot;</span>, m.<span class="built_in">size</span>(), m[<span class="number">100000000</span>].<span class="built_in">c_str</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">size = <span class="number">4</span></span><br><span class="line">size = <span class="number">5</span>, value =</span><br><span class="line">size = <span class="number">6</span>, value =</span><br></pre></td></tr></table></figure>

<p>n.b. 无论何时，对 <code>map</code>使用 <code>operator[]</code> 至多只会使得 <code>size</code> <code>增1</code></p>
<p>n.b. 当 <code>访问map中不存在的key时</code>，会自动 <code>创建并插入pair (按默认值创建value)</code></p>
<blockquote>
<p>如果 <code>value的类型</code>是 <code>UDT</code>，则需要提供 <code>no parameter constructor</code>，否则无法通过编译。</p>
<p>如下面的例子，将 <code>编译失败</code>：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> string name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> <span class="built_in">Person</span>(<span class="type">const</span> string &amp;name) : <span class="built_in">name</span>(name) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">map&lt;<span class="type">int</span>, Person&gt; m;</span><br><span class="line">m[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;size = %d, value = %s\n&quot;</span>, m.<span class="built_in">size</span>(), m[<span class="number">0</span>].name.<span class="built_in">c_str</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main.cpp:<span class="number">42</span>:<span class="number">7</span>: note: candidate: <span class="string">&#x27;Person::Person(Person&amp;&amp;)&#x27;</span></span><br><span class="line">main.cpp:<span class="number">42</span>:<span class="number">7</span>: note:   candidate expects <span class="number">1</span> argument, <span class="number">0</span> provided</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
</blockquote>
</li>
<li><p>iterator</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, string&gt; m;</span><br><span class="line">m[<span class="number">2</span>] = <span class="string">&quot;second&quot;</span>;</span><br><span class="line">m[<span class="number">1</span>] = <span class="string">&quot;first&quot;</span>;</span><br><span class="line">m[<span class="number">3</span>] = <span class="string">&quot;third&quot;</span>;</span><br><span class="line">m[<span class="number">4</span>] = <span class="string">&quot;four&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> iter = m.<span class="built_in">begin</span>(); iter != m.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">  cout &lt;&lt; iter-&gt;first &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; iter-&gt;second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>, first</span><br><span class="line"><span class="number">2</span>, second</span><br><span class="line"><span class="number">3</span>, third</span><br><span class="line"><span class="number">4</span>, four</span><br></pre></td></tr></table></figure>

<blockquote>
<p>由于 <code>map</code>底层使用的是 <code>red black tree</code>，所以可以利用 <code>map</code>来进行 <code>排序</code></p>
</blockquote>
<ul>
<li><code>insert()</code>：通常来说可以使用 <code>operator[]</code> 代替</li>
<li><code>erase()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, string&gt; m;</span><br><span class="line">m[<span class="number">2</span>] = <span class="string">&quot;second&quot;</span>;</span><br><span class="line">m[<span class="number">1</span>] = <span class="string">&quot;first&quot;</span>;</span><br><span class="line">m[<span class="number">3</span>] = <span class="string">&quot;third&quot;</span>;</span><br><span class="line">m[<span class="number">4</span>] = <span class="string">&quot;four&quot;</span>;</span><br><span class="line"></span><br><span class="line">m.<span class="built_in">erase</span>(<span class="number">2</span>);</span><br><span class="line">m.<span class="built_in">erase</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> iter = m.<span class="built_in">begin</span>(); iter != m.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">  cout &lt;&lt; iter-&gt;first &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; iter-&gt;second &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>, first</span><br><span class="line"><span class="number">3</span>, third</span><br><span class="line"><span class="number">4</span>, four</span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. 如果 <code>欲删除的key</code>不存在，则 <code>无事发生</code></p>
</blockquote>
<ul>
<li><code>find()</code>：get <code>iterator</code> to element</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, string&gt; m;</span><br><span class="line">m[<span class="number">2</span>] = <span class="string">&quot;second&quot;</span>;</span><br><span class="line">m[<span class="number">1</span>] = <span class="string">&quot;first&quot;</span>;</span><br><span class="line">m[<span class="number">3</span>] = <span class="string">&quot;third&quot;</span>;</span><br><span class="line">m[<span class="number">4</span>] = <span class="string">&quot;four&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> iter = m.<span class="built_in">find</span>(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">printf</span>(iter == m.<span class="built_in">end</span>() ? <span class="string">&quot;not found&quot;</span> : <span class="string">&quot;found&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\nsize = %d&quot;</span>, m.<span class="built_in">size</span>());</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">not</span> found</span><br><span class="line">size = <span class="number">4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>相比于 <code>operator[]</code>在 <code>未找到元素时</code>会 <code>自动插入默认对</code>而言，使用 <code>find()</code>来 <code>判断元素是否存在</code>可以避免 <code>浪费空间</code>。</p>
<p>而且更重要的，<code>find()</code>是 <code>幂等的</code></p>
</blockquote>
<ul>
<li><p><code>count()</code>：count elements with a specific key</p>
<blockquote>
<p>n.b. 如果仅仅是为了判断 <code>是否存在某个key</code>，那么相比于 <code>find()</code>写法的麻烦，我们可以用 <code>count() == 0</code>来代替 <code>find()</code></p>
</blockquote>
</li>
</ul>
<h4 id="miltimap"><a href="#miltimap" class="headerlink" title="miltimap"></a>miltimap</h4><p>与 <code>map</code> 的区别在于， <code>miltimap</code>支持 <code>不同pair有重复的key</code>。</p>
<ul>
<li><p><code>erase()</code></p>
<blockquote>
<p>对于 <code>传值的erase()</code>，将 <code>删除所有符合条件的元素</code>。</p>
</blockquote>
</li>
</ul>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><h4 id="set-1"><a href="#set-1" class="headerlink" title="set"></a>set</h4><p>STL的 <code>set</code> 是基于 <code>red-black tree</code>的，此外，它的 <code>元素</code>必须是 <code>const</code>的，只能 <code>插入元素</code>或 <code>删除元素</code>，而不能 <code>修改元素</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">set&lt;<span class="type">int</span>&gt; S;</span><br><span class="line">S.<span class="built_in">insert</span>(<span class="number">1</span>);</span><br><span class="line">S.<span class="built_in">insert</span>(<span class="number">2</span>);</span><br><span class="line">S.<span class="built_in">insert</span>(<span class="number">2</span>);</span><br><span class="line">S.<span class="built_in">insert</span>(<span class="number">3</span>);</span><br><span class="line">S.<span class="built_in">insert</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;size = %d\n&quot;</span>, S.<span class="built_in">size</span>());</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;count(2) = %d\n&quot;</span>, S.<span class="built_in">count</span>(<span class="number">2</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">size = <span class="number">4</span></span><br><span class="line"><span class="built_in">count</span>(<span class="number">2</span>) = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>n.b. 对于 <code>set</code>来说，如果 <code>欲插入的元素</code>已存在，则会忽略后续的插入（而不是 <code>覆盖插入</code>）。</p>
</blockquote>
<h4 id="multiset"><a href="#multiset" class="headerlink" title="multiset"></a>multiset</h4><p>\cdots</p>
<h3 id="unordered-map-1"><a href="#unordered-map-1" class="headerlink" title="unordered_map"></a>unordered_map</h3><h4 id="unordered-map-2"><a href="#unordered-map-2" class="headerlink" title="unordered_map"></a>unordered_map</h4><p><code>unordered_map</code> 基于 <code>bucket</code>而非 <code>red-black tree</code>，通过 <code>hash function</code>来 <code>索引</code> 指定的 <code>key</code>。</p>
<blockquote>
<p>因此，<code>unordered_map</code> 中的 <code>key</code> 是 <code>无序的</code></p>
</blockquote>
<blockquote>
<p>因此，通常比 <code>map</code> 更快</p>
</blockquote>
<ul>
<li><code>Bucket Functions</code></li>
</ul>
<p>Function</p>
<p>Note</p>
<p>\t{bucket\_count()}</p>
<p>\t{Return number of buckets}</p>
<p>\t{max\_bucket\_count()}</p>
<p>\t{Return maximum number of buckets}</p>
<p>\t{bucket\_size()}</p>
<p>\t{Return bucket size}</p>
<p>\t{bucket()}</p>
<p>\t{Locate element’s bucket}</p>
<ul>
<li><code>Hash Policy Functions</code></li>
</ul>
<p>Function</p>
<p>Node</p>
<p>\t{load\_factor()}</p>
<p>\t{Return load factor}</p>
<p>\t{max\_load\_factor()}</p>
<p>\t{Get or set maximum load factor}</p>
<p>\t{rehash()}</p>
<p>\t{Set number of buckets}</p>
<p>\t{reserve()}</p>
<p>\t{Request a capacity change}</p>
<h4 id="unordered-multimap"><a href="#unordered-multimap" class="headerlink" title="unordered_multimap"></a>unordered_multimap</h4><p>\cdots</p>
<h3 id="unordered-set-1"><a href="#unordered-set-1" class="headerlink" title="unordered_set"></a>unordered_set</h3><h4 id="unordered-set-2"><a href="#unordered-set-2" class="headerlink" title="unordered_set"></a>unordered_set</h4><p>与 <code>unordered_map</code>类似，均是基于 <code>bucket</code>的。</p>
<h4 id="unordered-multiset"><a href="#unordered-multiset" class="headerlink" title="unordered_multiset"></a>unordered_multiset</h4><p>\cdots</p>
<h3 id="Compute-Remainder-and-Quotient"><a href="#Compute-Remainder-and-Quotient" class="headerlink" title="Compute Remainder and Quotient"></a>Compute Remainder and Quotient</h3><ul>
<li><code>remainder()</code></li>
</ul>
<h3 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h3><ul>
<li><code>setjmp()</code> and <code>longjmp()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">jmp_buf  env;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;before set jump\n&quot;</span>);</span><br><span class="line"><span class="type">int</span> val = <span class="built_in">setjmp</span>(env);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;after set jump\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;val = %d\n&quot;</span>, val);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;before longjmp()\n&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (!val) <span class="built_in">longjmp</span>(env, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;after longjmp()\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">before set jump</span><br><span class="line">after set jump</span><br><span class="line">val = <span class="number">0</span></span><br><span class="line">before <span class="built_in">longjmp</span>()</span><br><span class="line">after set jump</span><br><span class="line">val = <span class="number">1</span></span><br><span class="line">before <span class="built_in">longjmp</span>()</span><br><span class="line">after <span class="built_in">longjmp</span>()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>goto</code>只支持 <code>函数内跳转</code>，但 <code>setjmp() and longjmp()</code>可以支持 <code>跨函数跳转</code></p>
</blockquote>
<blockquote>
<p>使用 <code>setjmp()</code>保存 <code>过程调用环境</code>，然后用 <code>longjmp()</code>进行 <code>jump</code>。</p>
</blockquote>
<blockquote>
<p>一个跨函数的例子。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">foo</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bar</span><span class="params">()</span></span>;</span><br><span class="line">jmp_buf env;</span><br><span class="line"><span class="type">int</span> val;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;enter foo()\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">  val = <span class="built_in">setjmp</span>(env);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;before call bar()\n&quot;</span>);</span><br><span class="line">  <span class="built_in">bar</span>();</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;after call bar()\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;leave foo()\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">bar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;enter bar()\n&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;before longjmp()\n&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (val != <span class="number">1</span>) <span class="built_in">longjmp</span>(env, <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;before longjmp()\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;leave bar()\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">foo</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">enter <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">before call <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">enter <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">before <span class="title">longjmp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">before call <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">enter <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">before <span class="title">longjmp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">before <span class="title">longjmp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">leave <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">after call <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">leave <span class="title">foo</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><code>goto</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">100</span>; ++j) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (i == <span class="number">10</span> &amp;&amp; j == <span class="number">20</span>) &#123;</span><br><span class="line">        <span class="keyword">goto</span> ok;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ok: <span class="number">0xdead</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;bye\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bye</span><br></pre></td></tr></table></figure>

<blockquote>
<p>关于 <code>跳出外层循环</code>，更推荐的写法是给 <code>外层循环</code>加 <code>控制标记</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; flag &amp;&amp; i &lt; <span class="number">100</span>; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">100</span>; ++j) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// break the outer loop</span></span><br><span class="line">      <span class="keyword">if</span> (i == <span class="number">10</span> &amp;&amp; j == <span class="number">20</span>) &#123;</span><br><span class="line">        flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;bye\n&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="The-incremental-of-size-t-and-size-type"><a href="#The-incremental-of-size-t-and-size-type" class="headerlink" title="The incremental of size_t and size_type"></a>The incremental of size_t and size_type</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> c_str[] = <span class="string">&quot;china&quot;</span>;</span><br><span class="line">string cpp_str = <span class="string">&quot;china&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;strlen(c_str) = %d\n&quot;</span>, <span class="built_in">strlen</span>(c_str));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;cpp_str.size() = %d\n&quot;</span>, cpp_str.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="type">int</span> c_str_size = <span class="built_in">strlen</span>(c_str) + <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;c_str_size = %d\n&quot;</span>, c_str_size);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cpp_str_size = cpp_str.<span class="built_in">size</span>() + <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;cpp_str_size = %d\n&quot;</span>, cpp_str_size);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">strlen</span>(c_str) = <span class="number">5</span></span><br><span class="line">cpp_str.<span class="built_in">size</span>() = <span class="number">5</span></span><br><span class="line">c_str_size = <span class="number">6</span></span><br><span class="line">cpp_str_size = <span class="number">6</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>size_t</code>和 <code>size_type</code> 本质上是 <code>unsigned long long</code></p>
<p>在 <code>强制转化</code> 为 <code>int</code> 时属于 <code>narrowing conversion</code>。</p>
<p>对他们执行 <code>递增操作</code>时应使用 <code>递增操作符</code> 而不是直接 <code>+1</code>。</p>
<blockquote>
<p>直接 <code>+1</code>的含义为 <code>将unsigned long long 窄化为int，然后加上int型的1</code>。该操作是 <code>未定义的</code>，取决于具体实现。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Clang-Tidy: Narrowing conversion from <span class="string">&#x27;unsigned long long&#x27;</span> to <span class="type">signed</span> type <span class="string">&#x27;int&#x27;</span> is implementation-defined</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<h3 id="Exit-the-program"><a href="#Exit-the-program" class="headerlink" title="Exit the program"></a>Exit the program</h3><ul>
<li><p>Terminate</p>
<ul>
<li><p><code>abort()</code>：abnormal termination, raises the <code>SIGABRT signal</code>, do not cleanup</p>
</li>
<li><p><code>exit()</code>：normal termination, do cleanup</p>
</li>
<li><p><code>quick_exit()</code>：normal termination, do not cleanup</p>
</li>
<li><p><code>_Exit()</code></p>
</li>
</ul>
</li>
<li><p>Terminate</p>
<ul>
<li><p><code>atexit()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> post = []()&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;bye\n&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">atexit</span>(post);</span><br><span class="line">        </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;before return\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">before <span class="keyword">return</span></span><br><span class="line">bye</span><br></pre></td></tr></table></figure>

</li>
<li><p><code>at_quick_exit()</code></p>
</li>
</ul>
</li>
<li><p>Get system environment</p>
<ul>
<li><p><code>getenv()</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> * java_home = <span class="built_in">getenv</span>(<span class="string">&quot;JAVA_HOME&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, java_home);</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\<span class="function">Program <span class="title">Files</span> <span class="params">(x86)</span>\Java\jdk1.8.0_291</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Execute commands</p>
<ul>
<li><code>system()</code></li>
</ul>
</li>
</ul>
<h3 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h3><h4 id="Time-Manipulation-1"><a href="#Time-Manipulation-1" class="headerlink" title="Time Manipulation"></a>Time Manipulation</h4><ul>
<li><code>clock()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000000</span>; ++i) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">clock_t</span> t = <span class="built_in">clock</span>();</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;clock ticks since the program launched = %d&quot;</span>, t);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clock ticks since the program launched = <span class="number">10</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>clock()</code> 计数的是 <code>从程序启动以来所经历的时间刻</code>。</p>
</blockquote>
<blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">clock_t</span>;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>如果需要获取 <code>秒数</code>则要除以 <code>CLOCKS_PER_SECOND</code></p>
</blockquote>
<ul>
<li><code>time()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">time_t</span> timer;</span><br><span class="line">  <span class="built_in">time</span>(&amp;timer);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;timer = %d\n&quot;</span>, timer);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timer = <span class="number">1650518640</span></span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__MINGW_EXTENSION <span class="keyword">typedef</span> __int64 <span class="type">__time64_t</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">__time64_t</span> <span class="type">time_t</span>;</span><br></pre></td></tr></table></figure>

<p><code>time_t</code>本质上是 <code>__int64</code>。</p>
<p>直接使用 <code>__int64</code> 或者 <code>long long</code>也可以被接受。</p>
</blockquote>
<ul>
<li><code>mktime()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Get current timestamp &amp; use localtime() to get related struct tm */</span></span><br><span class="line">  <span class="type">time_t</span> raw_time;</span><br><span class="line">  <span class="built_in">time</span>(&amp;raw_time);</span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">tm</span> * timeinfo = <span class="built_in">localtime</span>(&amp;raw_time);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Modify the struct tm &amp; use mktime() to get related timestamp */</span></span><br><span class="line">  timeinfo-&gt;tm_year = <span class="number">2022</span> - <span class="number">1900</span>;</span><br><span class="line">  timeinfo-&gt;tm_mon = <span class="number">4</span> - <span class="number">1</span>;</span><br><span class="line">  timeinfo-&gt;tm_mday = <span class="number">21</span>;</span><br><span class="line"></span><br><span class="line">  <span class="type">time_t</span> timestamp = <span class="built_in">mktime</span>(timeinfo);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;timestamp = %d\n&quot;</span>, timestamp);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timestamp = <span class="number">1650519507</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>localtime()</code>：\t{timestamp} \to \t{tm}</p>
<p><code>mktime()</code> ：\t{tm} \to\t{timestamp}</p>
<p>对于 <code>struct tm</code>实例，我们不是直接构造，而是通过获取 <code>当前时间戳</code>，然后转化得到 <code>当前时间戳所对应的tm</code>，再修改 <code>tm的属性字段</code>，最后通过 <code>mktime()</code>来获得 <code>修改后的tm对应的时间戳</code></p>
</blockquote>
<blockquote>
<p><code>tm_wday</code> 和 <code>tm_yday</code>字段被 <code>忽略</code></p>
</blockquote>
<blockquote>
<p><code>year</code>从 <code>1900</code>开始，<code>month</code>从 <code>0</code>开始</p>
</blockquote>
<ul>
<li><code>difftime()</code></li>
</ul>
<h4 id="Conversion-1"><a href="#Conversion-1" class="headerlink" title="Conversion"></a>Conversion</h4><ul>
<li><code>asctime()</code>：\t{tm}\to\t{string}</li>
<li><code>ctime()</code>：\t{timestamp} \to \t{string}</li>
<li><code>gmtime()</code>：\t{timestamp}\to \t{tm (UTC)}</li>
<li><code>localtime()</code>：\t{timestamp} \to \t{tm (local)}</li>
<li><code>strftime()</code>：\t{format tm} \to \t{string}</li>
</ul>
<blockquote>
<p><code>strftime()</code>虽然提供了 <code>格式化tm结构</code>的功能，但 <code>struct tm</code>本身已经包含了足够的信息，可以非常方便地 <code>自定义格式化函数</code></p>
</blockquote>
<h3 id="Code-Pointer"><a href="#Code-Pointer" class="headerlink" title="Code Pointer"></a>Code Pointer</h3><p>除了常规的类型指针外，传统C语言还有一种指针称作 <code>代码指针</code>。</p>
<p>通过对 <code>代码片段</code>运用 <code>地址运算符</code>可以得到 <code>该代码片段的地址</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  s1:</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;hi\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;address of s1 = %d\n&quot;</span>, &amp;&amp; s1);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">void</span> (*foo) (<span class="type">void</span>) = <span class="built_in">reinterpret_cast</span>&lt;<span class="built_in">void</span> (*)(<span class="type">void</span>)&gt;(<span class="number">4199857</span>);</span><br><span class="line">  <span class="built_in">foo</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hi</span><br><span class="line">address of s1 = <span class="number">4199857</span></span><br><span class="line">hi</span><br><span class="line">address of s1 = <span class="number">4199857</span></span><br><span class="line">hi</span><br><span class="line">address of s1 = <span class="number">4199857</span></span><br><span class="line">hi</span><br><span class="line">address of s1 = <span class="number">4199857</span></span><br><span class="line">hi</span><br><span class="line">address of s1 = <span class="number">4199857</span></span><br><span class="line">hi</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<h3 id="Remove-Const-Qualified"><a href="#Remove-Const-Qualified" class="headerlink" title="Remove Const-Qualified"></a>Remove Const-Qualified</h3><ul>
<li><code>const_cast&lt;&gt;()</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string str = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">char</span> *str_data = <span class="built_in">const_cast</span>&lt;<span class="type">char</span> *&gt;(str.<span class="built_in">data</span>());</span><br><span class="line">str_data[<span class="number">0</span>] = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">cout &lt;&lt; str;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Abc</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/17/branch-bound-circle-permutation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/17/branch-bound-circle-permutation/" class="post-title-link" itemprop="url">Branch-Bound -  Circle Permutation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-17 11:03:24" itemprop="dateCreated datePublished" datetime="2022-04-17T11:03:24+00:00">2022-04-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Circle-Permutation"><a href="#Circle-Permutation" class="headerlink" title="Circle Permutation"></a>Circle Permutation</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><img src="https://s2.loli.net/2022/04/17/lYob8a5xvpSgkAD.png" alt="image-20220417081139557"></p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>对于给定的 n 个圆，设计一个优先队列式分支限界法，计算 n 个圆的最佳排列方案，使 其长度达到最小。</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>由文件 input.txt 给出输入数据。第一行有 1 个正整数 n (1≤n≤20)。接下来的 1 行有 n 个数，表示 n 个圆的半径。</p>
<h2 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h2><p>将计算出的最小圆排列的长度输出到文件 output.txt。</p>
<p><strong>输入文件示例</strong></p>
<p>input.txt</p>
<p>3 1 1 2</p>
<p><strong>输出文件示例</strong></p>
<p>output.txt</p>
<p>7.65685</p>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><h3 id="Brute-Force-Method-DFS-x2F-BFS"><a href="#Brute-Force-Method-DFS-x2F-BFS" class="headerlink" title="Brute-Force Method (DFS&#x2F;BFS)"></a>Brute-Force Method (DFS&#x2F;BFS)</h3><p>对于输入，题目给定 <code>n个圆</code>，要求给出 <code>长度最小的圆的排列</code>。</p>
<p>则不妨考虑一个 <code>Brute-Force Method</code>思路：</p>
<ul>
<li>生成 <code>n个圆的排列</code>方案</li>
<li>计算 <code>所有排列方案</code>中的 <code>长度</code>，得到 <code>最小长度</code></li>
</ul>
<hr>
<blockquote>
<p>推导： <code>两圆相切时圆心的水平距公式</code></p>
</blockquote>
<p>对于 <code>生成n个圆的所有排列</code>来说，这是容易的。</p>
<p>现在我们考虑，如果确实给定了 <code>某个特定的圆排列方案</code>，我们应如何 <code>计算出该方案的长度</code>。</p>
<p>我们设 <code>两个圆</code>的 <code>半径</code> 分别为 r_1 和 r_2，设 <code>两个圆的圆心水平距离</code>为 d</p>
<ul>
<li><p>考虑 <code>只有2个圆</code>的情况</p>
<ul>
<li><p>r_1 &#x3D; r_2</p>
<p><img src="https://s2.loli.net/2022/04/17/ao391p7KN6VsvOY.png" alt="image-20220417082006970"></p>
<p>该情况下，d &#x3D; r_1 + r_2</p>
</li>
<li><p>r_1 \ne r_2</p>
<ul>
<li>可以 <code>部分遮盖</code> 另一个圆</li>
</ul>
<p><img src="https://s2.loli.net/2022/04/17/UgAq9NxRYvKhGp1.png" alt="image-20220417082452586"></p>
<ul>
<li>可以 <code>完全遮盖</code> 另一个圆</li>
</ul>
<p><img src="https://s2.loli.net/2022/04/17/h2puHqaPNtDO9yb.png" alt="image-20220417082605742"></p>
<p>则我们得出 <code>公式</code></p>
</li>
</ul>
</li>
</ul>
<p>实际上，我们发现，该 <code>公式</code>对于 <code>上述的所有情况</code>都是适用的。</p>
<hr>
<blockquote>
<p>计算 <code>各个圆</code>的 <code>圆心水平坐标</code></p>
</blockquote>
<p>我们已知知道 <code>所有圆的排列顺序</code>，但是由于 <code>两个圆之间可能存在遮盖</code>，所以 <code>排列长度</code>并 <code>无法</code>从 <code>所有的圆的半径</code>之中直接得到。</p>
<p>即</p>
<p>所以，我们需要一些额外信息：<code>各个圆的圆心水平坐标</code> \t{centers[0..n-1]}</p>
<p>对于计算 \t{centers[]} 数组，我们知道 <code>某个圆的圆心水平坐标</code>肯定与 <code>该圆左侧的圆的圆心水平坐标</code> <code>存在关系</code></p>
<blockquote>
<p>n.b. 我们这里说的是 <code>该圆左侧的圆</code>，而不是 <code>该圆左边的那1个圆</code>。</p>
<p>实际上，我们如果要计算 <code>某个圆的圆心水平坐标</code>，需要把 <code>该圆左侧的所有圆</code>都做考虑。</p>
</blockquote>
<p>设我们有 <code>圆的排列</code> r_0r_1\cdots r_{n-1}</p>
<p>对 <code>圆的数量</code> 运用 <code>归纳法</code>：</p>
<ul>
<li>n &#x3D; 1，我们假设 <code>第一个圆</code>位于 (0,0) \implies \t{centers[0] &#x3D; 0}</li>
<li>n&#x3D;2，我们可以使用 <code>两圆相切时的圆心的水平距公式</code> \implies \t{centers[1] &#x3D; centers[0] } + 2\sqrt{r_0r_1}</li>
<li>，\r{n &#x3D;3，\t{centers[2]} \overset{?}{&#x3D;} \t{centers[1] + } 2\sqrt{r_1r_2}}</li>
</ul>
<p>当我们考虑 n&#x3D;3时，存在一些问题。</p>
<p>不妨假设，<code>第2个圆</code>是 <code>无穷小</code>的，以至于 <code>我们可以忽略掉</code> <code>第2个圆</code>，在这个假设下，我们可以得到 \t{centers[2] &#x3D; \b{centers[0]}} + 2\sqrt{r_0r_2}</p>
<p>同理，我们可以假设 <code>某个圆左侧的所有圆 (除第一个圆外)</code>是 <code>无穷小</code>的，这样我们就可以 <code>忽略掉这些圆</code>。</p>
<p>进而得到 \t{centers[k] &#x3D; \b{centers[0]}} + 2\sqrt{r_{k-1} r_{k}}</p>
<blockquote>
<p>这里并不是说 <code>某圆</code> 必须要和 <code>第一个圆</code> 发生 <code>相切</code>，只是拿 <code>第一个圆</code>进行举例。</p>
<p>实际上，我们可以假设 <code>任何圆</code>是 <code>无穷小的</code>，从而使得 <code>我们想要的两个圆</code> 发生 <code>相切</code></p>
</blockquote>
<p>换句话说：<code>某个圆</code>有可能与 <code>该圆左侧的所有圆</code>发生 <code>相切</code>。</p>
<blockquote>
<p>而不仅仅是与 <code>该圆左边的那一个圆</code>发生 <code>相切</code></p>
</blockquote>
<p>则可得</p>
<p><img src="https://s2.loli.net/2022/04/17/eBpADnG17sciEfm.png" alt="image-20220417105654175"></p>
<blockquote>
<p>n.b. 由于我们的公式是 <code>假设两圆之间相切</code>而计算出的 <code>两圆的圆心距</code>。</p>
<p>实际上，我们得到的 <code>centers[k]</code> 是 <code>两个圆恰好发生相切</code>时的 <code>阈值</code>。</p>
<p>如果 <code>圆A</code>和 <code>圆B</code> 之间存在 <code>某个足够大的圆C</code>，使得： 当 <code>圆B</code>和 <code>圆A</code> 发生 <code>相切时</code>， <code>圆B</code>和 <code>圆C</code>必定早已 <code>重叠</code> （而题目不允许圆发生重叠）</p>
<p>我们通过 max 函数可以非常巧妙地避开这个情形。</p>
<p>若 <code>在圆A和圆B之间</code>确实存在 <code>足够大的圆C</code>，则有：</p>
<p>此时，max函数将会 <code>选择让 圆B和圆C发生相切</code>，而 <code>放弃让 圆B和圆A相切</code></p>
<blockquote>
<p>由于我们的 <code>centers[k]</code>计算的是 <code>两圆相切时的阈值</code>：所以如果 <code>圆B</code> 与 <code>圆A</code> 和 <code>圆C</code> 能 <code>同时相切</code>，</p>
<p>则说明 <code>圆A</code>和 <code>圆B</code>的 <code>大小相同的圆</code></p>
<p><img src="https://s2.loli.net/2022/04/17/3CKjxMDSYpV9Qgo.png" alt="image-20220417102555239"></p>
</blockquote>
</blockquote>
<hr>
<blockquote>
<p>计算 <code>圆的排列长度</code></p>
</blockquote>
<p>在已知 <code>各个圆的半径</code> r_0\cdots r_{n-1} 和 <code>各个圆的圆心的水平坐标</code> c_0 \cdots c_{n-1} 后</p>
<p>易得</p>
<p>该方法通过求 <code>最右边的区间端点</code>和 <code>最左边的区间端点</code>来求得 <code>圆的排列长度</code></p>
<blockquote>
<p>n.b. <code>最右边的区间端点</code>并不一定是 <code>最后一个圆</code>所给出的。</p>
<p>原因很简单，我们可以简单地假设 <code>最后一个圆</code>是 <code>无穷小</code>的，</p>
<p>那么此时 <code>最右边的区间端点</code>就与 <code>最后一个圆</code>没有关系了。</p>
<p><img src="https://s2.loli.net/2022/04/17/1gwXRvBqmdWFIey.png" alt="image-20220417134546160"></p>
</blockquote>
<h3 id="BFS-with-Priority-Branch-Bound"><a href="#BFS-with-Priority-Branch-Bound" class="headerlink" title="BFS with Priority (Branch-Bound)"></a>BFS with Priority (Branch-Bound)</h3><h4 id="Introduction-to-branch-bound"><a href="#Introduction-to-branch-bound" class="headerlink" title="Introduction to branch-bound"></a>Introduction to branch-bound</h4><p>我们回顾一下，前面所讲的 <code>DFS</code> 和 <code>BFS</code> 本质上均属于 <code>Brute-Force Method</code>。</p>
<p><code>DFS</code> 按照 <code>深度优先</code> 方式在 <code>一条路径</code>上进行 <code>不断深入进行搜索</code>。</p>
<p><code>BFS</code> 按照 <code>广度优先</code> 方式在 <code>当前节点</code> 上进行 <code>拓展</code> 生成所有的 <code>子节点</code>，然后 <code>按顺序地逐个</code>搜索 <code>子节点</code></p>
<p>这两种 <code>搜索方式</code> 是 <code>盲目的 (Blind)</code> 进行 <code>搜索 (Search)</code>，对他们而言，并不考虑 <code>某个节点</code> 所具有的 <code>性质</code>，而是将 <code>所有的节点</code> 都认为是 <code>对等的 (Symmetric)</code>。</p>
<p>比如说，<code>DFS</code>会首先沿着 <code>整颗搜索空间树</code> 的 <code>最左侧路径 (The Leftmost Path)</code>进行 <code>搜索</code>。但是，有可能在 <code>这条路径</code> 上根本就不存在 <code>任何的合法解</code>。</p>
<blockquote>
<p>当然，如果 <code>非常幸运的话</code>，<code>DFS</code> 可以很快地在 <code>最左侧路径</code>上找到一个 <code>最优解</code>，然后利用 <code>剪枝 (Prune)</code> 来 <code>大量地裁剪</code>掉 <code>整颗搜索空间树</code> 的 <code>其余部分</code>。</p>
<p>此时，<code>DFS</code> 将表现地非常良好。</p>
<blockquote>
<p>如果可以为 <code>DFS</code> <code>尽可能早地</code> 找到一个 <code>较优的合法解</code>，则可以利用 <code>剪枝</code>来 <code>大幅度地</code> 加快搜索。</p>
<p>但是，在很多情况下，我们可能 <code>甚至</code> 连一个 <code>合法解</code> 都无法找到，这时 <code>DFS</code>只能 <code>陷入更加盲目的搜索当中</code> 。</p>
</blockquote>
</blockquote>
<p>同样地，<code>BFS</code>也有类似的 <code>困境</code>。</p>
<hr>
<p>现在，我们基于 <code>BFS</code> 的 <code>特性</code>：每次从 <code>当前节点</code>生成 <code>下一个子节点</code>进行搜索。</p>
<p>如果我们使用 <code>优先队列 (Priority Queue)</code> 将 <code>BFS</code> 在 <code>搜索过程</code>中的 <code>节点 (Node)</code> 按照 <code>某种估价策略 (Cost Function)</code> 进行 <code>优先级排序</code>，且每次只取出 <code>当前的优先队列</code>中 <code>价值最小的节点 (Minimum-Cost Node)</code> 作为 <code>下一个进行搜索的节点</code>。</p>
<blockquote>
<p>根据 <code>问题</code>的 <code>优化目标</code>，如果问题是 <code>最大化问题</code>，则取的是 <code>价值最大的节点</code> 。</p>
</blockquote>
<p>则，我们实际上已经实现了一种 <code>基于节点的价值的BFS搜索方式</code>：</p>
<p>与普通的 <code>BFS</code>的区别在于，我们通过 <code>价值函数 (Cost Function)</code> 为 <code>每个节点 (Node)</code> 进行 <code>估价</code>，给该节点设置 <code>价值 (Cost)</code>，然后将该节点加入到 <code>优先队列</code>，且每次只从 <code>优先队列</code> 中取出 <code>当前优先队列中的价值最小的节点</code>。</p>
<blockquote>
<p>根据 <code>Branch-Bound</code>的概念，<code>节点类型</code>被分为下面3种：</p>
<ul>
<li><code>活节点 (Live-Node)</code>：已经被 <code>产生</code>但仍未被 <code>访问</code>的节点。</li>
<li><code>正被探索节点 (E-Node)</code>：当前 <code>正在被访问的节点</code>，也就是 <code>正在被拓展的节点</code>。</li>
<li><code>死节点 (Dead-Node)</code>：<code>已经被生成但将来不可能访问或拓展的节点</code></li>
</ul>
</blockquote>
<hr>
<h4 id="How-to-define-the-cost-function"><a href="#How-to-define-the-cost-function" class="headerlink" title="How to define the cost-function"></a>How to define the cost-function</h4><p>由于题目的目的是 <code>最小化目标值</code>，所以我们定义 <code>价值函数</code>为 <code>目标值的下界</code>。</p>
<blockquote>
<p><code>下界</code>并不一定是 <code>严格下界</code>，可以是 <code>比较宽松的下界</code>。</p>
<p>但我们期望的是：<code>界限</code> 尽可能地 <code>逼近最优解的目标值</code></p>
</blockquote>
<p>假定对于 <code>n个圆</code>的 <code>排列方案</code> r_0r_1\cdots r_{n-1}，</p>
<p>已经确定了 <code>前k个圆</code>的 <code>排列</code>：\b{r_0r_1\cdots r_{k-1}}\r{r_k\cdots r_{n-1}}</p>
<p>则我们可以计算 <code>前k个圆的总长度</code> L_{r_0\cdots r_{k-1}} &#x3D; r_0 + \t{centers[k-1]} + \g{r_{k-1}}</p>
<p>则对于 <code>剩下的圆</code> r_k\cdots r_{n-1}，设 r &#x3D; \min{\b{r_{k-1}}, \r{r_k, \cdots, r_{n-1}}})</p>
<p>则可以给出一个 <code>下界</code>：L_{r_k \cdots r_{n-1}} \ge (n-1-k+1) * 2r</p>
<p>因此，<code>整合</code>两个式子得到：</p>
<p><img src="https://s2.loli.net/2022/04/22/3ADC1KSv6XMGzNa.png" alt="image-20220422212914205"></p>
<blockquote>
<p>n.b. <code>不等式</code> 需要扣除 r_{k-1}</p>
<p>因为对于 r_{k}\cdots r_{n-1}来说，<code>每个圆的长度 = 该圆半径的两倍</code></p>
<p>即 L_{r_i} &#x3D; 2r_i \quad(i &#x3D; k\cdots n-1)</p>
<p>但对于处于 <code>接壤处</code> 的 <code>圆</code> r_{k-1} 和 <code>圆</code> r_k，</p>
<p>我们 <code>实际上</code> 拥有的是<code>左半个圆</code> r_{k-1} 和 <code>右半个圆</code> r_k</p>
<blockquote>
<p>也就是说，我们并没有拥有 <code>整个圆</code> r_{k-1}</p>
</blockquote>
<p>即 r_{k-1} \le r_k \implies r_{k-1} + r_{k} \le r_k + r_k &#x3D; 2r_k</p>
<blockquote>
<p>n.b. 准确地说，我们实际上是用 <code>图中的红色半圆</code> 来 <code>替代 (Substitute)</code> <code>图中的绿色半圆</code></p>
</blockquote>
</blockquote>
<p>综上，我们得出了 <code>评估任何给定节点的下界</code>的 <code>价值函数</code></p>
<blockquote>
<p>通常说，可以将 <code>当前节点的情况</code>进行 <code>极端化假设</code> 来获得 <code>界限</code>：比如说使用 min 和 max 函数来使得 <code>某些值</code>属于 <code>最好的情况</code> 或者 <code>最坏的情况</code></p>
</blockquote>
<blockquote>
<p>另外，还有一种策略是通过为 <code>当前节点</code> 运行一个 <code>贪心算法 (Greedy Method)</code> 来获取 <code>界限</code>。</p>
<p>比如，通过为 <code>0/1 Knapsack</code> 的 <code>节点</code> 运行一个 <code>Fraction Knapsack</code>的 <code>Greedy Method</code> 可以获得一个 <code>非常接近当前节点的最优解的合法解</code>。</p>
<p>使用 <code>Greedy Method</code>来获得 <code>Bound</code> 需要满足：</p>
<ul>
<li><code>贪心选择策略</code>足够简单，使得 <code>贪心算法</code>不至于过慢</li>
<li>所获得的 <code>贪心解</code>大部分情况下 <code>比较接近</code> <code>当前节点的最优解</code></li>
</ul>
<p>但对于 <code>圆排列问题</code>，我们不容易找到一种 <code>贪心选择策略足够简单，且贪心解比较接近当前节点的最优解</code> 的 <code>贪心选择算法</code>。</p>
<blockquote>
<p>比如说，下面2种 <code>贪心选择策略</code>：</p>
<ul>
<li>按照 <code>降序/升序</code> 排列 <code>剩下的圆</code></li>
<li>按照 <code>大圆</code> 和 <code>小圆</code> 交替的方式排列 <code>剩下的圆</code></li>
</ul>
<p>这是我们直观想得到的策略，但它们给出的 <code>贪心解</code> 可能会 <code>非常偏离</code> <code>当前节点的最优解</code> 。</p>
<blockquote>
<p>第一个策略：我们其实已经知道，它将包含很多非 <code>最优的子结构</code>。实际上，这是一个 <code>非常糟糕</code> 的 <code>贪心选择策略</code></p>
<p>第二个策略：这个 <code>贪心选择策略</code> 可能会稍微好一些，但仍然有可能 <code>非常偏离</code> <code>当前节点的最优解</code>。</p>
<p>而且，我们可能会想对该策略进行 <code>改进</code>，使之变得更加 <code>贪婪 (More Greedy)</code>，比如说 <code>尽可能多地包含更多小圆</code>。</p>
<p>但是，如果 <code>引入更复杂的贪心选择策略</code> 同时也增加了 <code>价值函数</code> 的 <code>复杂度</code>，在整个 <code>BFS搜索过程</code> 上有可能 <code>得不偿失</code></p>
</blockquote>
</blockquote>
</blockquote>
<hr>
<h4 id="Accelerate-the-search-by-pruning"><a href="#Accelerate-the-search-by-pruning" class="headerlink" title="Accelerate the search by pruning"></a>Accelerate the search by pruning</h4><p>对于某些 <code>我们已知不可能从中获得最优解的节点</code>，可以直接将 <code>该节点</code> 进行 <code>丢弃</code>。</p>
<h5 id="Not-better-than-current-solution"><a href="#Not-better-than-current-solution" class="headerlink" title="Not better than current solution"></a>Not better than current solution</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// define the ans as the infinity for min-imization problem</span><br><span class="line">ans = infinity</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// when we reach a leaf-node, try to update the ans</span><br><span class="line">ans = min(ans, node.cost)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// when we are in a non-leaf node, check the cost before expanding it</span><br><span class="line">if (node.cost &lt; ans) &#123;</span><br><span class="line">expand the node</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Out-of-bound"><a href="#Out-of-bound" class="headerlink" title="Out of bound"></a>Out of bound</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// before we expand a node, check the bound (cost-function)</span><br><span class="line">if (bound(node) &lt; ans) &#123;</span><br><span class="line">expand the node</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Contains-substructures-that-are-not-optimal"><a href="#Contains-substructures-that-are-not-optimal" class="headerlink" title="Contains substructures that are not optimal"></a>Contains substructures that are not optimal</h5><p>根据 <code>题目性质</code>，通过 <code>观察</code>可以发现，<code>最优解</code>不应当包含的 <code>子结构</code>。 如对于本题：</p>
<ol>
<li><code>最优解</code>必定不包含 <code>连续的3个半径升序的圆</code></li>
<li><code>最优解</code>必定不包含 <code>连续的3个半径降序的圆</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// the radius of circles are sorted in ascending order: Arrays.sort(circles);</span></span><br><span class="line"><span class="comment">// prune: we ensure that the best solution won&#x27;t contain 3 successive ascending circles or 3 successive descending circles.</span></span><br><span class="line"><span class="keyword">if</span> (node.level &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (node.plan[node.level] &gt; node.plan[node.level - <span class="number">1</span>] &amp;&amp; node.plan[node.level - <span class="number">1</span>] &gt; node.plan[node.level - <span class="number">2</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> Double.MAX_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (node.plan[node.level] &lt; node.plan[node.level - <span class="number">1</span>] &amp;&amp; node.plan[node.level - <span class="number">1</span>] &lt; node.plan[node.level - <span class="number">2</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span> Double.MAX_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>通过 <code>剪枝</code> 掉 <code>拥有非最优子结构的节点</code>，我们实际上可以非常好地利用 <code>解的局部特征</code>，并且更有可能 <code>尽早地进行剪枝</code>。</p>
</blockquote>
<h4 id="Accelerate-the-search-by-priority"><a href="#Accelerate-the-search-by-priority" class="headerlink" title="Accelerate the search by priority"></a>Accelerate the search by priority</h4><p>相比于 <code>BFS</code> 和 <code>DFS</code> 的 <code>盲目的搜索</code> 而言，<code>分支界限法</code>使用了 <code>价值函数</code>来计算出 <code>某个节点的界限</code>，而且 <code>搜索性能</code> 极大程度地取决于 <code>价值函数</code> 是否 <code>足够聪明 (Intellectual)</code>。</p>
<p>如果 <code>价值函数</code> 是 <code>绝对聪明的 (Absolutely Intellectual)</code>，那么它就好像可以 <code>预知未来</code>一样，直接从 <code>成千上万条可能的路径</code>之中，挑选出 <code>1条最优解的路径</code>。</p>
<p>而如果 <code>价值函数</code> 不够聪明，那么它可能会被 <code>某些节点</code> 所 <code>误导</code>，为 <code>这些节点</code>给出 <code>错误的估价</code>，从而导致 <code>额外的没有必要的搜索</code>，但 <code>后续仍然有机会重回正轨 (Bring us closer to the optimal solution)</code> （如果 <code>最优解</code>所在的路径上的节点没有被 <code>错误地剪枝</code>掉的话）。</p>
<p>但对于 <code>DFS</code>而言，它从 <code>最左侧路径</code>开始 <code>深入</code> 进行搜索 ，如果 <code>最优解</code>处于 <code>最右侧路径</code>上的话，则会做 <code>大量无用的搜索</code>。</p>
<p>下面例子给出了当 <code>指数爆炸</code> 时，<code>毫无目标地进行盲目搜索的DFS/BFS</code> 和 <code>拥有价值函数的分支界限</code> 的不同 <code>性能表现</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Branch and Bound</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE15.in &amp; CIRCLE15.out</span><br><span class="line">Expected  Input: [<span class="number">12</span>, <span class="number">48</span>, <span class="number">31</span>, <span class="number">18</span>, <span class="number">25</span>, <span class="number">33</span>, <span class="number">35</span>, <span class="number">73</span>, <span class="number">75</span>, <span class="number">65</span>, <span class="number">78</span>, <span class="number">94</span>, <span class="number">48</span>]</span><br><span class="line">Expected Output: [<span class="number">1121.467</span>]</span><br><span class="line">Your     Output: [<span class="number">1121.467</span>]</span><br><span class="line">Time Cost: <span class="number">22052.981400</span> ms (<span class="number">22052981400</span> ns)</span><br><span class="line">Accepted.</span><br><span class="line">-----------------------------------------------------</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DFS</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE15.in &amp; CIRCLE15.out</span><br><span class="line">Expected  Input: [<span class="number">12</span>, <span class="number">48</span>, <span class="number">31</span>, <span class="number">18</span>, <span class="number">25</span>, <span class="number">33</span>, <span class="number">35</span>, <span class="number">73</span>, <span class="number">75</span>, <span class="number">65</span>, <span class="number">78</span>, <span class="number">94</span>, <span class="number">48</span>]</span><br><span class="line">Expected Output: [<span class="number">1121.467</span>]</span><br><span class="line">Your     Output: [<span class="number">1121.467</span>]</span><br><span class="line">Time Cost: <span class="number">66771.506100</span> ms (<span class="number">66771506100</span> ns)</span><br><span class="line">Accepted.</span><br><span class="line">-----------------------------------------------------</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">BFS</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE15.in &amp; CIRCLE15.out</span><br><span class="line">Expected  Input: [<span class="number">12</span>, <span class="number">48</span>, <span class="number">31</span>, <span class="number">18</span>, <span class="number">25</span>, <span class="number">33</span>, <span class="number">35</span>, <span class="number">73</span>, <span class="number">75</span>, <span class="number">65</span>, <span class="number">78</span>, <span class="number">94</span>, <span class="number">48</span>]</span><br><span class="line">Expected Output: [<span class="number">1121.467</span>]</span><br><span class="line">Your     Output: [<span class="number">1121.467</span>]</span><br><span class="line">Time Cost: <span class="number">179924.051700</span> ms (<span class="number">179924051700</span> ns)</span><br><span class="line">Accepted.</span><br><span class="line">-----------------------------------------------------</span><br></pre></td></tr></table></figure>

<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h3><h4 id="Diagram"><a href="#Diagram" class="headerlink" title="Diagram"></a>Diagram</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --#0,1--&gt; 0_((2.000));</span><br><span class="line">0_ --#1,2--&gt; 0_1_((5.828));</span><br><span class="line">0_1_ --#2,9--&gt; 0_1_2_((21.314));</span><br><span class="line">0_1_2_ --#3,5--&gt; 0_1_2_3_((30.730));</span><br><span class="line">0_1_ --#4,5--&gt; 0_1_3_((15.153));</span><br><span class="line">0_1_3_ --#5,9--&gt; 0_1_3_2_((32.569));</span><br><span class="line">0_1_3_ --#6,9--&gt; 0_1_3_2_((32.569));</span><br><span class="line">style 0_1_3_2_ fill: lightgray</span><br><span class="line">0_ --#7,9--&gt; 0_2_((18.000));</span><br><span class="line">0_2_ --#8,2--&gt; 0_2_1_((19.485));</span><br><span class="line">0_2_1_ --#9,5--&gt; 0_2_1_3_((28.810));</span><br><span class="line">0_2_ --#10,5--&gt; 0_2_3_((27.416));</span><br><span class="line">0_2_3_ --#11,2--&gt; 0_2_3_1_((30.741));</span><br><span class="line">0_ --#12,5--&gt; 0_3_((10.472));</span><br><span class="line">0_3_ --#13,2--&gt; 0_3_1_((13.797));</span><br><span class="line">0_3_1_ --#14,9--&gt; 0_3_1_2_((29.282));</span><br><span class="line">0_3_1_ --#15,9--&gt; 0_3_1_2_((29.282));</span><br><span class="line">style 0_3_1_2_ fill: lightgray</span><br><span class="line">0_3_ --#16,9--&gt; 0_3_2_((27.889));</span><br><span class="line">0_3_2_ --#17,2--&gt; 0_3_2_1_((29.374));</span><br><span class="line">0_3_2_ --#18,2--&gt; 0_3_2_1_((29.374));</span><br><span class="line">style 0_3_2_1_ fill: lightgray</span><br><span class="line">root((root)) --#19,2--&gt; 1_((4.000));</span><br><span class="line">1_ --#20,1--&gt; 1_0_((5.828));</span><br><span class="line">1_0_ --#21,9--&gt; 1_0_2_((19.828));</span><br><span class="line">1_0_2_ --#22,5--&gt; 1_0_2_3_((29.245));</span><br><span class="line">1_0_2_ --#23,5--&gt; 1_0_2_3_((29.245));</span><br><span class="line">style 1_0_2_3_ fill: lightgray</span><br><span class="line">1_0_ --#24,5--&gt; 1_0_3_((14.301));</span><br><span class="line">1_0_3_ --#25,9--&gt; 1_0_3_2_((31.717));</span><br><span class="line">1_0_3_ --#26,9--&gt; 1_0_3_2_((31.717));</span><br><span class="line">style 1_0_3_2_ fill: lightgray</span><br><span class="line">1_ --#27,9--&gt; 1_2_((19.485));</span><br><span class="line">1_2_ --#28,1--&gt; 1_2_0_((19.485));</span><br><span class="line">1_2_0_ --#29,5--&gt; 1_2_0_3_((28.902));</span><br><span class="line">1_2_0_ --#30,5--&gt; 1_2_0_3_((28.902));</span><br><span class="line">style 1_2_0_3_ fill: lightgray</span><br><span class="line">1_2_ --#31,5--&gt; 1_2_3_((28.902));</span><br><span class="line">1_2_ --#32,5--&gt; 1_2_3_((28.902));</span><br><span class="line">style 1_2_3_ fill: lightgray</span><br><span class="line">1_ --#33,5--&gt; 1_3_((13.325));</span><br><span class="line">1_3_ --#34,1--&gt; 1_3_0_((13.797));</span><br><span class="line">1_3_0_ --#35,9--&gt; 1_3_0_2_((30.741));</span><br><span class="line">1_3_0_ --#36,9--&gt; 1_3_0_2_((30.741));</span><br><span class="line">style 1_3_0_2_ fill: lightgray</span><br><span class="line">1_3_ --#37,9--&gt; 1_3_2_((30.741));</span><br><span class="line">1_3_ --#38,9--&gt; 1_3_2_((30.741));</span><br><span class="line">style 1_3_2_ fill: lightgray</span><br><span class="line">root((root)) --#39,9--&gt; 2_((18.000));</span><br><span class="line">2_ --#40,1--&gt; 2_0_((18.000));</span><br><span class="line">2_0_ --#41,2--&gt; 2_0_1_((19.828));</span><br><span class="line">2_0_1_ --#42,5--&gt; 2_0_1_3_((29.153));</span><br><span class="line">2_0_1_ --#43,5--&gt; 2_0_1_3_((29.153));</span><br><span class="line">style 2_0_1_3_ fill: lightgray</span><br><span class="line">2_0_ --#44,5--&gt; 2_0_3_((27.416));</span><br><span class="line">2_0_3_ --#45,2--&gt; 2_0_3_1_((30.741));</span><br><span class="line">2_0_3_ --#46,2--&gt; 2_0_3_1_((30.741));</span><br><span class="line">style 2_0_3_1_ fill: lightgray</span><br><span class="line">2_ --#47,2--&gt; 2_1_((19.485));</span><br><span class="line">2_1_ --#48,1--&gt; 2_1_0_((21.314));</span><br><span class="line">2_1_0_ --#49,5--&gt; 2_1_0_3_((29.786));</span><br><span class="line">2_1_0_ --#50,5--&gt; 2_1_0_3_((29.786));</span><br><span class="line">style 2_1_0_3_ fill: lightgray</span><br><span class="line">2_1_ --#51,5--&gt; 2_1_3_((28.810));</span><br><span class="line">2_1_ --#52,5--&gt; 2_1_3_((28.810));</span><br><span class="line">style 2_1_3_ fill: lightgray</span><br><span class="line">2_ --#53,5--&gt; 2_3_((27.416));</span><br><span class="line">2_3_ --#54,1--&gt; 2_3_0_((27.889));</span><br><span class="line">2_3_0_ --#55,2--&gt; 2_3_0_1_((31.717));</span><br><span class="line">2_3_0_ --#56,2--&gt; 2_3_0_1_((31.717));</span><br><span class="line">style 2_3_0_1_ fill: lightgray</span><br><span class="line">2_3_ --#57,2--&gt; 2_3_1_((30.741));</span><br><span class="line">2_3_ --#58,2--&gt; 2_3_1_((30.741));</span><br><span class="line">style 2_3_1_ fill: lightgray</span><br><span class="line">root((root)) --#59,5--&gt; 3_((10.000));</span><br><span class="line">3_ --#60,1--&gt; 3_0_((10.472));</span><br><span class="line">3_0_ --#61,2--&gt; 3_0_1_((14.301));</span><br><span class="line">3_0_1_ --#62,9--&gt; 3_0_1_2_((29.786));</span><br><span class="line">3_0_1_ --#63,9--&gt; 3_0_1_2_((29.786));</span><br><span class="line">style 3_0_1_2_ fill: lightgray</span><br><span class="line">3_0_ --#64,9--&gt; 3_0_2_((27.416));</span><br><span class="line">3_0_2_ --#65,2--&gt; 3_0_2_1_((28.902));</span><br><span class="line">3_0_2_ --#66,2--&gt; 3_0_2_1_((28.902));</span><br><span class="line">style 3_0_2_1_ fill: lightgray</span><br><span class="line">3_ --#67,2--&gt; 3_1_((13.325));</span><br><span class="line">3_1_ --#68,1--&gt; 3_1_0_((15.153));</span><br><span class="line">3_1_0_ --#69,9--&gt; 3_1_0_2_((29.153));</span><br><span class="line">3_1_0_ --#70,9--&gt; 3_1_0_2_((29.153));</span><br><span class="line">style 3_1_0_2_ fill: lightgray</span><br><span class="line">3_1_ --#71,9--&gt; 3_1_2_((28.810));</span><br><span class="line">3_1_ --#72,9--&gt; 3_1_2_((28.810));</span><br><span class="line">style 3_1_2_ fill: lightgray</span><br><span class="line">3_ --#73,9--&gt; 3_2_((27.416));</span><br><span class="line">3_2_ --#74,1--&gt; 3_2_0_((27.416));</span><br><span class="line">3_2_0_ --#75,2--&gt; 3_2_0_1_((29.245));</span><br><span class="line">3_2_0_ --#76,2--&gt; 3_2_0_1_((29.245));</span><br><span class="line">style 3_2_0_1_ fill: lightgray</span><br><span class="line">3_2_ --#77,2--&gt; 3_2_1_((28.902));</span><br><span class="line">3_2_ --#78,2--&gt; 3_2_1_((28.902));</span><br><span class="line">style 3_2_1_ fill: lightgray</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CirclePermutationSolver_DFS</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Judger</span> <span class="variable">judger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Judger</span>(<span class="string">&quot;/Cases/Lab7/CIRCLE PERMUTATION&quot;</span>).redirectErrorToErrorFile().disablePrettyFormat();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    all the circles should TOUCH THE GROUND, therefore we can&#x27;t put one circle over another</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    if we have an infinite big circle, we can put ALL the other circles under the big circle !</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    for total n circles: the FIRST circle and the LAST circle is special.</span></span><br><span class="line"><span class="comment">    THE OTHER circles should considerate both of them.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    we can divide a circle into 2 PARTs</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    we assume that: the first circle is in (0, 0)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calc_center</span><span class="params">(<span class="type">int</span>[] circles, <span class="type">int</span>[] plan, <span class="type">int</span> plan_index)</span> &#123;</span><br><span class="line">        <span class="comment">// if we only have 1 circle, we assume that the first circle is in (0, 0)</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">center</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* compare circles[plan[plan_index]] with ALL the previous circles */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; plan_index; i++) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">r1</span> <span class="operator">=</span> circles[plan[i]];</span><br><span class="line">            <span class="type">double</span> <span class="variable">r2</span> <span class="operator">=</span> circles[plan[plan_index]];</span><br><span class="line">            center = Math.max(center, centers[i] + <span class="number">2</span> * Math.sqrt(r1 * r2));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calc_length</span><span class="params">(<span class="type">int</span>[] circles, <span class="type">int</span>[] plan)</span> &#123;</span><br><span class="line">        <span class="comment">/* all circles */</span></span><br><span class="line">        <span class="comment">// the first circle</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">interval_left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">interval_right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// it&#x27;s ok if we only have 1 circle. calcCenter() will return 0 if we only have 1 circle</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; plan.length; i++) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">r</span> <span class="operator">=</span> circles[plan[i]];</span><br><span class="line">            <span class="comment">// current circle &amp; left circle</span></span><br><span class="line">            <span class="type">double</span> <span class="variable">c</span> <span class="operator">=</span> calc_center(circles, plan, i);</span><br><span class="line">            interval_left = Math.min(interval_left, c - r);</span><br><span class="line">            interval_right = Math.max(interval_right, c + r);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> interval_right - interval_left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Global Variables */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] circles;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">boolean</span>[] used;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">double</span>[] centers;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] plan;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">double</span> ans;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span> depth)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Base Case */</span></span><br><span class="line">        <span class="keyword">if</span> (depth &gt;= n) &#123;</span><br><span class="line">            ans = Math.min(ans, calc_length(circles, plan));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Recursion Case */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; circles.length; i++) &#123;</span><br><span class="line">            <span class="comment">/* lock */</span></span><br><span class="line">            <span class="keyword">if</span> (used[i]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> used[i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* update */</span></span><br><span class="line">            plan[depth] = i;</span><br><span class="line">            centers[depth] = calc_center(circles, plan, depth);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// pruning increases speed by about 2 to 10 times !</span></span><br><span class="line">            <span class="comment">// n.b. the LHS is not the new length ! it&#x27;s JUST a condition for pruning</span></span><br><span class="line">            <span class="comment">// if you want to get the new length, you ought to call calcLength()</span></span><br><span class="line">            <span class="keyword">if</span> (centers[depth] + circles[plan[<span class="number">0</span>]] + circles[plan[depth]] &lt; ans) &#123;</span><br><span class="line">                search(depth + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* unlock */</span></span><br><span class="line">            used[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(Scanner scanner)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Initialize */</span></span><br><span class="line">        n = scanner.nextInt();</span><br><span class="line">        circles = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        centers = <span class="keyword">new</span> <span class="title class_">double</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            circles[i] = scanner.nextInt();</span><br><span class="line">        &#125;</span><br><span class="line">        used = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">        plan = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        ans = Double.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Algo */</span></span><br><span class="line">        search(<span class="number">0</span>);</span><br><span class="line">        System.out.printf(<span class="string">&quot;%.3f&quot;</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Scanner scanner : judger) &#123;</span><br><span class="line">            solve(scanner);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Benchmark"><a href="#Benchmark" class="headerlink" title="Benchmark"></a>Benchmark</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE0.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">3</span>, <span class="number">1</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">7.657</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">7.657</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2.953300</span> <span class="string">ms</span> <span class="string">(2953300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE1.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">5</span>, <span class="number">59</span> <span class="number">23</span> <span class="number">41</span> <span class="number">70</span> <span class="number">47</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">454.388</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">454.388</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.378200</span> <span class="string">ms</span> <span class="string">(1378200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE10.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">9</span> <span class="number">2</span> <span class="number">117</span> <span class="number">45</span> <span class="number">9</span> <span class="number">3</span> <span class="number">142</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">755.928</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">755.928</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">866.089000</span> <span class="string">ms</span> <span class="string">(866089000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE11.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">2</span>, <span class="number">10000</span> <span class="number">1</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.695200</span> <span class="string">ms</span> <span class="string">(695200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE12.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">2</span>, <span class="number">10000</span> <span class="number">10000</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">40000.000</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">40000.000</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.688300</span> <span class="string">ms</span> <span class="string">(688300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE13.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1</span>, <span class="number">10000</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.700300</span> <span class="string">ms</span> <span class="string">(700300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE2.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">7</span>, <span class="number">94</span> <span class="number">35</span> <span class="number">20</span> <span class="number">88</span> <span class="number">55</span> <span class="number">28</span> <span class="number">57</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">666.874</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">666.874</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.431800</span> <span class="string">ms</span> <span class="string">(1431800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE3.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">7</span>, <span class="number">25</span> <span class="number">1</span> <span class="number">5</span> <span class="number">74</span> <span class="number">47</span> <span class="number">77</span> <span class="number">8</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">415.089</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">415.089</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.630000</span> <span class="string">ms</span> <span class="string">(1630000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE4.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">9</span>, <span class="number">17</span> <span class="number">49</span> <span class="number">77</span> <span class="number">84</span> <span class="number">86</span> <span class="number">64</span> <span class="number">75</span> <span class="number">88</span> <span class="number">65</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1159.668</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1159.668</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">44.285300</span> <span class="string">ms</span> <span class="string">(44285300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE5.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">99</span> <span class="number">22</span> <span class="number">17</span> <span class="number">45</span> <span class="number">91</span> <span class="number">73</span> <span class="number">42</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">858.474</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">858.474</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">447.405000</span> <span class="string">ms</span> <span class="string">(447405000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE6.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">51</span> <span class="number">100</span> <span class="number">66</span> <span class="number">37</span> <span class="number">30</span> <span class="number">83</span> <span class="number">87</span> <span class="number">98</span> <span class="number">31</span> <span class="number">43</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1140.471</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1140.471</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">409.175500</span> <span class="string">ms</span> <span class="string">(409175500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE7.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">51</span> <span class="number">100</span> <span class="number">66</span> <span class="number">37</span> <span class="number">30</span> <span class="number">1</span> <span class="number">87</span> <span class="number">98</span> <span class="number">31</span> <span class="number">3</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">902.696</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">902.696</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">550.624100</span> <span class="string">ms</span> <span class="string">(550624100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE8.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">9</span>, <span class="number">1</span> <span class="number">49</span> <span class="number">77</span> <span class="number">8</span> <span class="number">86</span> <span class="number">6</span> <span class="number">75</span> <span class="number">88</span> <span class="number">3</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">738.394</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">738.394</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">83.854200</span> <span class="string">ms</span> <span class="string">(83854200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE9.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">9</span> <span class="number">22</span> <span class="number">17</span> <span class="number">45</span> <span class="number">9</span> <span class="number">3</span> <span class="number">42</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">400.389</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">400.389</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">343.135900</span> <span class="string">ms</span> <span class="string">(343135900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><h4 id="Diagram-1"><a href="#Diagram-1" class="headerlink" title="Diagram"></a>Diagram</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --#0,1--&gt; 0_((2.000));</span><br><span class="line">root((root)) --#1,1--&gt; 1_((4.000));</span><br><span class="line">root((root)) --#2,1--&gt; 2_((18.000));</span><br><span class="line">root((root)) --#3,1--&gt; 3_((10.000));</span><br><span class="line">3_ --#4,2--&gt; 3_0_((10.472));</span><br><span class="line">3_ --#5,2--&gt; 3_1_((13.325));</span><br><span class="line">3_ --#6,2--&gt; 3_2_((27.416));</span><br><span class="line">3_2_ --#7,9--&gt; 3_2_0_((27.416));</span><br><span class="line">3_2_ --#8,9--&gt; 3_2_1_((28.902));</span><br><span class="line">3_2_1_ --#9,5--&gt; 3_2_1_0_((30.730));</span><br><span class="line">3_2_0_ --#10,5--&gt; 3_2_0_1_((29.245));</span><br><span class="line">3_1_ --#11,9--&gt; 3_1_0_((15.153));</span><br><span class="line">3_1_ --#12,9--&gt; 3_1_2_((28.810));</span><br><span class="line">3_1_2_ --#13,5--&gt; 3_1_2_0_((28.810));</span><br><span class="line">3_1_0_ --#14,5--&gt; 3_1_0_2_((29.153));</span><br><span class="line">style 3_1_0_2_ fill: lightgray</span><br><span class="line">3_0_ --#15,9--&gt; 3_0_1_((14.301));</span><br><span class="line">3_0_ --#16,9--&gt; 3_0_2_((27.416));</span><br><span class="line">3_0_2_ --#17,5--&gt; 3_0_2_1_((28.902));</span><br><span class="line">style 3_0_2_1_ fill: lightgray</span><br><span class="line">3_0_1_ --#18,5--&gt; 3_0_1_2_((29.786));</span><br><span class="line">style 3_0_1_2_ fill: lightgray</span><br><span class="line">2_ --#19,2--&gt; 2_0_((18.000));</span><br><span class="line">2_ --#20,2--&gt; 2_1_((19.485));</span><br><span class="line">2_ --#21,2--&gt; 2_3_((27.416));</span><br><span class="line">2_3_ --#22,9--&gt; 2_3_0_((27.889));</span><br><span class="line">2_3_ --#23,9--&gt; 2_3_1_((30.741));</span><br><span class="line">style 2_3_1_ fill: lightgray</span><br><span class="line">2_3_0_ --#24,5--&gt; 2_3_0_1_((31.717));</span><br><span class="line">style 2_3_0_1_ fill: lightgray</span><br><span class="line">2_1_ --#25,9--&gt; 2_1_0_((21.314));</span><br><span class="line">2_1_ --#26,9--&gt; 2_1_3_((28.810));</span><br><span class="line">style 2_1_3_ fill: lightgray</span><br><span class="line">2_1_0_ --#27,5--&gt; 2_1_0_3_((29.786));</span><br><span class="line">style 2_1_0_3_ fill: lightgray</span><br><span class="line">2_0_ --#28,9--&gt; 2_0_1_((19.828));</span><br><span class="line">2_0_ --#29,9--&gt; 2_0_3_((27.416));</span><br><span class="line">2_0_3_ --#30,5--&gt; 2_0_3_1_((30.741));</span><br><span class="line">style 2_0_3_1_ fill: lightgray</span><br><span class="line">2_0_1_ --#31,5--&gt; 2_0_1_3_((29.153));</span><br><span class="line">style 2_0_1_3_ fill: lightgray</span><br><span class="line">1_ --#32,2--&gt; 1_0_((5.828));</span><br><span class="line">1_ --#33,2--&gt; 1_2_((19.485));</span><br><span class="line">1_ --#34,2--&gt; 1_3_((13.325));</span><br><span class="line">1_3_ --#35,9--&gt; 1_3_0_((13.797));</span><br><span class="line">1_3_ --#36,9--&gt; 1_3_2_((30.741));</span><br><span class="line">style 1_3_2_ fill: lightgray</span><br><span class="line">1_3_0_ --#37,5--&gt; 1_3_0_2_((30.741));</span><br><span class="line">style 1_3_0_2_ fill: lightgray</span><br><span class="line">1_2_ --#38,9--&gt; 1_2_0_((19.485));</span><br><span class="line">1_2_ --#39,9--&gt; 1_2_3_((28.902));</span><br><span class="line">style 1_2_3_ fill: lightgray</span><br><span class="line">1_2_0_ --#40,5--&gt; 1_2_0_3_((28.902));</span><br><span class="line">style 1_2_0_3_ fill: lightgray</span><br><span class="line">1_0_ --#41,9--&gt; 1_0_2_((19.828));</span><br><span class="line">1_0_ --#42,9--&gt; 1_0_3_((14.301));</span><br><span class="line">1_0_3_ --#43,5--&gt; 1_0_3_2_((31.717));</span><br><span class="line">style 1_0_3_2_ fill: lightgray</span><br><span class="line">1_0_2_ --#44,5--&gt; 1_0_2_3_((29.245));</span><br><span class="line">style 1_0_2_3_ fill: lightgray</span><br><span class="line">0_ --#45,2--&gt; 0_1_((5.828));</span><br><span class="line">0_ --#46,2--&gt; 0_2_((18.000));</span><br><span class="line">0_ --#47,2--&gt; 0_3_((10.472));</span><br><span class="line">0_3_ --#48,9--&gt; 0_3_1_((13.797));</span><br><span class="line">0_3_ --#49,9--&gt; 0_3_2_((27.889));</span><br><span class="line">0_3_2_ --#50,5--&gt; 0_3_2_1_((29.374));</span><br><span class="line">style 0_3_2_1_ fill: lightgray</span><br><span class="line">0_3_1_ --#51,5--&gt; 0_3_1_2_((29.282));</span><br><span class="line">style 0_3_1_2_ fill: lightgray</span><br><span class="line">0_2_ --#52,9--&gt; 0_2_1_((19.485));</span><br><span class="line">0_2_ --#53,9--&gt; 0_2_3_((27.416));</span><br><span class="line">0_2_3_ --#54,5--&gt; 0_2_3_1_((30.741));</span><br><span class="line">style 0_2_3_1_ fill: lightgray</span><br><span class="line">0_2_1_ --#55,5--&gt; 0_2_1_3_((28.810));</span><br><span class="line">style 0_2_1_3_ fill: lightgray</span><br><span class="line">0_1_ --#56,9--&gt; 0_1_2_((21.314));</span><br><span class="line">0_1_ --#57,9--&gt; 0_1_3_((15.153));</span><br><span class="line">0_1_3_ --#58,5--&gt; 0_1_3_2_((32.569));</span><br><span class="line">style 0_1_3_2_ fill: lightgray</span><br><span class="line">0_1_2_ --#59,5--&gt; 0_1_2_3_((30.730));</span><br><span class="line">style 0_1_2_3_ fill: lightgray</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Source-1"><a href="#Source-1" class="headerlink" title="Source"></a>Source</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CirclePermutationSolver_BFS</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Judger</span> <span class="variable">judger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Judger</span>(<span class="string">&quot;/Cases/Lab7/CIRCLE PERMUTATION&quot;</span>).redirectErrorToErrorFile().disablePrettyFormat();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    all the circles should TOUCH THE GROUND, therefore we can&#x27;t put one circle over another</span></span><br><span class="line"><span class="comment">    if we have an infinite big circle, we can put ALL the other circles under the big circle !</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    for total n circles: the FIRST circle and the LAST circle is special.</span></span><br><span class="line"><span class="comment">    THE OTHER circles should considerate both of them.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    we can divide a circle into 2 PARTs</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    ---</span></span><br><span class="line"><span class="comment">    take 2 circles into considerations:</span></span><br><span class="line"><span class="comment">    Case1: luckily, we have a big enough circle to cover another circle</span></span><br><span class="line"><span class="comment">    Case2: we can&#x27;t cover the other circle, but we can cover the big circle</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* State */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> level;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span>[] plan;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span>[] centers;</span><br><span class="line">        <span class="comment">// n.b. if we use swap() to generate circle permutation, we don&#x27;t need the used field !</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span>[] used;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> level, <span class="type">int</span>[] plan, <span class="type">double</span>[] centers, <span class="type">boolean</span>[] used)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.level = level;</span><br><span class="line">            <span class="built_in">this</span>.plan = plan;</span><br><span class="line">            <span class="built_in">this</span>.centers = centers;</span><br><span class="line">            <span class="built_in">this</span>.used = used;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calc_center</span><span class="params">(<span class="type">int</span>[] circles, <span class="type">int</span>[] plan, <span class="type">double</span>[] centers, <span class="type">int</span> level)</span> &#123;</span><br><span class="line">        <span class="comment">// if we only have 1 circle, we assume that the first circle is in (0, 0)</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">center</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* compare circles[plan[plan_index]] with ALL the previous circles */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; level; i++) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">r1</span> <span class="operator">=</span> circles[plan[i]];</span><br><span class="line">            <span class="type">double</span> <span class="variable">r2</span> <span class="operator">=</span> circles[plan[level]];</span><br><span class="line">            center = Math.max(center, centers[i] + <span class="number">2</span> * Math.sqrt(r1 * r2));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calc_length</span><span class="params">(<span class="type">int</span>[] circles, <span class="type">int</span>[] plan, <span class="type">double</span>[] centers, <span class="type">int</span> level)</span> &#123;</span><br><span class="line">        <span class="comment">/* all circles */</span></span><br><span class="line">        <span class="comment">// the first circle</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">interval_left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">interval_right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// it&#x27;s ok if we only have 1 circle. calcCenter() will return 0 if we only have 1 circle</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= level; i++) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">r</span> <span class="operator">=</span> circles[plan[i]];</span><br><span class="line">            <span class="comment">// current circle &amp; left circle</span></span><br><span class="line">            <span class="type">double</span> <span class="variable">c</span> <span class="operator">=</span> centers[i];</span><br><span class="line">            interval_left = Math.min(interval_left, c - r);</span><br><span class="line">            interval_right = Math.max(interval_right, c + r);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> interval_right - interval_left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> ans;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] circles)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Initialize */</span></span><br><span class="line">        ans = Double.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct the queue and init */</span></span><br><span class="line">        LinkedList&lt;Node&gt; nodes = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        nodes.add(<span class="keyword">new</span> <span class="title class_">Node</span>(-<span class="number">1</span>, <span class="keyword">new</span> <span class="title class_">int</span>[n], <span class="keyword">new</span> <span class="title class_">double</span>[n], <span class="keyword">new</span> <span class="title class_">boolean</span>[n]));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// BFS</span></span><br><span class="line">        <span class="keyword">while</span> (!nodes.isEmpty()) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Get one node</span></span><br><span class="line">            <span class="type">Node</span> <span class="variable">currentNode</span> <span class="operator">=</span> nodes.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">$level</span> <span class="operator">=</span> currentNode.level + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Generate all the next nodes */</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">                <span class="comment">// Skip the used circles</span></span><br><span class="line">                <span class="keyword">if</span> (currentNode.used[k]) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Generate the next node</span></span><br><span class="line">                <span class="type">int</span>[] $plan = currentNode.plan.clone();</span><br><span class="line">                $plan[$level] = k;</span><br><span class="line"></span><br><span class="line">                <span class="type">double</span>[] $centers = currentNode.centers.clone();</span><br><span class="line">                $centers[$level] = calc_center(circles, $plan, $centers, $level);</span><br><span class="line"></span><br><span class="line">                <span class="type">boolean</span>[] $used = currentNode.used.clone();</span><br><span class="line">                $used[k] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">/* Update the next node */</span></span><br><span class="line">                <span class="type">double</span> <span class="variable">length</span> <span class="operator">=</span> calc_length(circles, $plan, $centers, $level);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ADD of DROP the next node ?</span></span><br><span class="line">                <span class="comment">// prune: if the next-node is NOT BETTER THAN current solution</span></span><br><span class="line">                <span class="keyword">if</span> (length &lt; ans) &#123;</span><br><span class="line">                    <span class="comment">/* Try to update ans */</span></span><br><span class="line">                    <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>($level, $plan, $centers, $used);</span><br><span class="line">                    <span class="comment">/* Finish permutation ! */</span></span><br><span class="line">                    <span class="keyword">if</span> ($level == n - <span class="number">1</span>) &#123;</span><br><span class="line">                        ans = Math.min(ans, length);</span><br><span class="line">                    &#125; <span class="keyword">else</span> nodes.push(node);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Scanner scanner : judger) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">            <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                a[i] = scanner.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.printf(<span class="string">&quot;%.3f&quot;</span>, solve(n, a));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Benchmark-1"><a href="#Benchmark-1" class="headerlink" title="Benchmark"></a>Benchmark</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE0.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">3</span>, <span class="number">1</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">7.657</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">7.657</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.026100</span> <span class="string">ms</span> <span class="string">(3026100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE1.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">5</span>, <span class="number">59</span> <span class="number">23</span> <span class="number">41</span> <span class="number">70</span> <span class="number">47</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">454.388</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">454.388</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.600400</span> <span class="string">ms</span> <span class="string">(1600400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE10.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">9</span> <span class="number">2</span> <span class="number">117</span> <span class="number">45</span> <span class="number">9</span> <span class="number">3</span> <span class="number">142</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">755.928</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">755.928</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2300.654100 </span><span class="string">ms</span> <span class="string">(2300654100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE11.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE11.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">2</span>, <span class="number">10000</span> <span class="number">1</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.799000</span> <span class="string">ms</span> <span class="string">(799000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE12.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE12.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">2</span>, <span class="number">10000</span> <span class="number">10000</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">40000.000</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">40000.000</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.685500</span> <span class="string">ms</span> <span class="string">(685500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE13.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE13.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">1</span>, <span class="number">10000</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">20000.000</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.686900</span> <span class="string">ms</span> <span class="string">(686900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE2.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">7</span>, <span class="number">94</span> <span class="number">35</span> <span class="number">20</span> <span class="number">88</span> <span class="number">55</span> <span class="number">28</span> <span class="number">57</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">666.874</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">666.874</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">6.327000</span> <span class="string">ms</span> <span class="string">(6327000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE3.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">7</span>, <span class="number">25</span> <span class="number">1</span> <span class="number">5</span> <span class="number">74</span> <span class="number">47</span> <span class="number">77</span> <span class="number">8</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">415.089</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">415.089</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">5.280500</span> <span class="string">ms</span> <span class="string">(5280500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE4.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">9</span>, <span class="number">17</span> <span class="number">49</span> <span class="number">77</span> <span class="number">84</span> <span class="number">86</span> <span class="number">64</span> <span class="number">75</span> <span class="number">88</span> <span class="number">65</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1159.668</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1159.668</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">316.421300</span> <span class="string">ms</span> <span class="string">(316421300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE5.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">99</span> <span class="number">22</span> <span class="number">17</span> <span class="number">45</span> <span class="number">91</span> <span class="number">73</span> <span class="number">42</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">858.474</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">858.474</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3063.122800 </span><span class="string">ms</span> <span class="string">(3063122800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE6.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">51</span> <span class="number">100</span> <span class="number">66</span> <span class="number">37</span> <span class="number">30</span> <span class="number">83</span> <span class="number">87</span> <span class="number">98</span> <span class="number">31</span> <span class="number">43</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">1140.471</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">1140.471</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3877.059500 </span><span class="string">ms</span> <span class="string">(3877059500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE7.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">51</span> <span class="number">100</span> <span class="number">66</span> <span class="number">37</span> <span class="number">30</span> <span class="number">1</span> <span class="number">87</span> <span class="number">98</span> <span class="number">31</span> <span class="number">3</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">902.696</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">902.696</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3195.105900 </span><span class="string">ms</span> <span class="string">(3195105900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE8.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">9</span>, <span class="number">1</span> <span class="number">49</span> <span class="number">77</span> <span class="number">8</span> <span class="number">86</span> <span class="number">6</span> <span class="number">75</span> <span class="number">88</span> <span class="number">3</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">738.394</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">738.394</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">216.487600</span> <span class="string">ms</span> <span class="string">(216487600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">CIRCLE9.in</span> <span class="string">&amp;</span> <span class="string">CIRCLE9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">10</span>, <span class="number">9</span> <span class="number">22</span> <span class="number">17</span> <span class="number">45</span> <span class="number">9</span> <span class="number">3</span> <span class="number">42</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">400.389</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">400.389</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2362.946400 </span><span class="string">ms</span> <span class="string">(2362946400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h3 id="Branch-Bound"><a href="#Branch-Bound" class="headerlink" title="Branch-Bound"></a>Branch-Bound</h3><h4 id="Diagram-2"><a href="#Diagram-2" class="headerlink" title="Diagram"></a>Diagram</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --#0,1--&gt; 0_((2.000&lt;/br&gt;8.000));</span><br><span class="line">root((root)) --#1,2--&gt; 1_((4.000&lt;/br&gt;9.000));</span><br><span class="line">root((root)) --#2,5--&gt; 2_((10.000&lt;/br&gt;12.000));</span><br><span class="line">root((root)) --#3,9--&gt; 3_((18.000&lt;/br&gt;16.000));</span><br><span class="line">0_ --#4,2--&gt; 0_1_((5.828&lt;/br&gt;13.828));</span><br><span class="line">0_ --#5,5--&gt; 0_2_((10.472&lt;/br&gt;15.472));</span><br><span class="line">0_ --#6,9--&gt; 0_3_((18.000&lt;/br&gt;17.000));</span><br><span class="line">1_ --#7,1--&gt; 1_0_((5.828&lt;/br&gt;9.828));</span><br><span class="line">1_ --#8,5--&gt; 1_2_((13.325&lt;/br&gt;13.325));</span><br><span class="line">1_ --#9,9--&gt; 1_3_((19.485&lt;/br&gt;15.485));</span><br><span class="line">1_0_ --#10,5--&gt; 1_0_2_((14.301&lt;/br&gt;24.301));</span><br><span class="line">1_0_ --#11,9--&gt; 1_0_3_((19.828&lt;/br&gt;25.828));</span><br><span class="line">0_1_ --#12,5--&gt; 0_1_2_((15.153&lt;/br&gt;INF));</span><br><span class="line">style 0_1_2_ fill: lightgray</span><br><span class="line">0_1_ --#13,9--&gt; 0_1_3_((21.314&lt;/br&gt;INF));</span><br><span class="line">style 0_1_3_ fill: lightgray</span><br><span class="line">2_ --#14,2--&gt; 2_1_((13.325&lt;/br&gt;16.325));</span><br><span class="line">2_ --#15,1--&gt; 2_0_((10.472&lt;/br&gt;14.472));</span><br><span class="line">2_ --#16,9--&gt; 2_3_((27.416&lt;/br&gt;23.416));</span><br><span class="line">1_2_ --#17,1--&gt; 1_2_0_((13.797&lt;/br&gt;15.797));</span><br><span class="line">1_2_ --#18,9--&gt; 1_2_3_((30.741&lt;/br&gt;INF));</span><br><span class="line">style 1_2_3_ fill: lightgray</span><br><span class="line">2_0_ --#19,2--&gt; 2_0_1_((14.301&lt;/br&gt;18.301));</span><br><span class="line">2_0_ --#20,9--&gt; 2_0_3_((27.416&lt;/br&gt;24.416));</span><br><span class="line">0_2_ --#21,2--&gt; 0_2_1_((13.797&lt;/br&gt;17.797));</span><br><span class="line">0_2_ --#22,9--&gt; 0_2_3_((27.889&lt;/br&gt;INF));</span><br><span class="line">style 0_2_3_ fill: lightgray</span><br><span class="line">1_2_0_ --#23,9--&gt; 1_2_0_3_((30.741&lt;/br&gt;30.741));</span><br><span class="line">0_2_1_ --#24,9--&gt; 0_2_1_3_((29.282&lt;/br&gt;29.282));</span><br><span class="line">2_0_1_ --#25,9--&gt; 2_0_1_3_((29.786&lt;/br&gt;INF));</span><br><span class="line">style 2_0_1_3_ fill: lightgray</span><br><span class="line">2_1_ --#26,1--&gt; 2_1_0_((15.153&lt;/br&gt;INF));</span><br><span class="line">style 2_1_0_ fill: lightgray</span><br><span class="line">2_1_ --#27,9--&gt; 2_1_3_((28.810&lt;/br&gt;22.810));</span><br><span class="line">1_3_ --#28,5--&gt; 1_3_2_((28.902&lt;/br&gt;26.902));</span><br><span class="line">1_3_ --#29,1--&gt; 1_3_0_((19.485&lt;/br&gt;19.485));</span><br><span class="line">0_3_ --#30,5--&gt; 0_3_2_((27.416&lt;/br&gt;26.416));</span><br><span class="line">0_3_ --#31,2--&gt; 0_3_1_((19.485&lt;/br&gt;21.485));</span><br><span class="line">3_ --#32,2--&gt; 3_1_((19.485&lt;/br&gt;22.485));</span><br><span class="line">3_ --#33,5--&gt; 3_2_((27.416&lt;/br&gt;27.416));</span><br><span class="line">3_ --#34,1--&gt; 3_0_((18.000&lt;/br&gt;20.000));</span><br><span class="line">1_3_0_ --#35,5--&gt; 1_3_0_2_((28.902&lt;/br&gt;28.902));</span><br><span class="line">0_3_1_ --#36,5--&gt; 0_3_1_2_((28.810&lt;/br&gt;26.810));</span><br><span class="line">3_0_ --#37,5--&gt; 3_0_2_((27.416&lt;/br&gt;28.416));</span><br><span class="line">3_0_ --#38,2--&gt; 3_0_1_((19.828&lt;/br&gt;23.828));</span><br><span class="line">3_1_ --#39,5--&gt; 3_1_2_((28.810&lt;/br&gt;26.810));</span><br><span class="line">style 3_1_2_ fill: lightgray</span><br><span class="line">3_1_ --#40,1--&gt; 3_1_0_((21.314&lt;/br&gt;INF));</span><br><span class="line">style 3_1_0_ fill: lightgray</span><br><span class="line">2_1_3_ --#41,1--&gt; 2_1_3_0_((28.810&lt;/br&gt;26.810));</span><br><span class="line">3_0_1_ --#42,5--&gt; 3_0_1_2_((29.153&lt;/br&gt;INF));</span><br><span class="line">style 3_0_1_2_ fill: lightgray</span><br><span class="line">1_0_2_ --#43,9--&gt; 1_0_2_3_((31.717&lt;/br&gt;INF));</span><br><span class="line">style 1_0_2_3_ fill: lightgray</span><br><span class="line">2_3_ --#44,1--&gt; 2_3_0_((27.416&lt;/br&gt;27.416));</span><br><span class="line">2_3_ --#45,2--&gt; 2_3_1_((28.902&lt;/br&gt;29.902));</span><br><span class="line">style 2_3_1_ fill: lightgray</span><br><span class="line">2_0_3_ --#46,2--&gt; 2_0_3_1_((28.902&lt;/br&gt;28.902));</span><br><span class="line">style 2_0_3_1_ fill: lightgray</span><br><span class="line">1_0_3_ --#47,5--&gt; 1_0_3_2_((29.245&lt;/br&gt;29.245));</span><br><span class="line">style 1_0_3_2_ fill: lightgray</span><br><span class="line">1_3_2_ --#48,1--&gt; 1_3_2_0_((29.374&lt;/br&gt;INF));</span><br><span class="line">style 1_3_2_0_ fill: lightgray</span><br><span class="line">0_3_2_ --#49,2--&gt; 0_3_2_1_((30.741&lt;/br&gt;INF));</span><br><span class="line">style 0_3_2_1_ fill: lightgray</span><br><span class="line">2_3_0_ --#50,2--&gt; 2_3_0_1_((29.245&lt;/br&gt;29.245));</span><br><span class="line">style 2_3_0_1_ fill: lightgray</span><br><span class="line">3_0_2_ --#51,2--&gt; 3_0_2_1_((30.741&lt;/br&gt;30.741));</span><br><span class="line">style 3_0_2_1_ fill: lightgray</span><br><span class="line">3_2_ --#52,2--&gt; 3_2_1_((30.741&lt;/br&gt;INF));</span><br><span class="line">style 3_2_1_ fill: lightgray</span><br><span class="line">3_2_ --#53,1--&gt; 3_2_0_((27.889&lt;/br&gt;INF));</span><br><span class="line">style 3_2_0_ fill: lightgray</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Source-2"><a href="#Source-2" class="headerlink" title="Source"></a>Source</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CirclePermutationSolver_BranchBoundMethod</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Judger</span> <span class="variable">judger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Judger</span>(<span class="string">&quot;/Cases/Lab7/CIRCLE PERMUTATION&quot;</span>).redirectErrorToErrorFile().disablePrettyFormat();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* State */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> level;</span><br><span class="line">        <span class="comment">// n.b. we use swap() to generate permutation, so used[] is useless.</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span>[] plan;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span>[] centers;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Model */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span> <span class="variable">cost</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> n;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] circles;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> ans;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> level, <span class="type">int</span>[] plan, <span class="type">double</span>[] centers)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.level = level;</span><br><span class="line">            <span class="built_in">this</span>.plan = plan;</span><br><span class="line">            <span class="built_in">this</span>.centers = centers;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">radius_string</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="type">int</span>[] radius = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="built_in">this</span>.level + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= <span class="built_in">this</span>.level; i++) &#123;</span><br><span class="line">                radius[i] = Node.circles[<span class="built_in">this</span>.plan[i]];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> Arrays.toString(radius);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Node&#123;&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;level=&quot;</span> + level +</span><br><span class="line">                    <span class="string">&quot;, radius=&quot;</span> + radius_string() +</span><br><span class="line">                    <span class="string">&quot;, centers=&quot;</span> + Arrays.toString(centers) +</span><br><span class="line">                    <span class="string">&quot;, cost=&quot;</span> + cost +</span><br><span class="line">                    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    n.b. This function use centers[0..level - 1] to calculate centers[level].</span></span><br><span class="line"><span class="comment">    Therefore, centers[0..level - 1] should be initialized and computed before calling this function</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calc_center</span><span class="params">(<span class="type">int</span>[] circles, <span class="type">int</span>[] plan, <span class="type">double</span>[] centers, <span class="type">int</span> level)</span> &#123;</span><br><span class="line">        <span class="comment">// if we only have 1 circle, we assume that the first circle is in (0, 0)</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">center</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* compare circles[plan[plan_index]] with ALL the previous circles */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt; level; k++) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">r1</span> <span class="operator">=</span> circles[plan[k]];</span><br><span class="line">            <span class="type">double</span> <span class="variable">r2</span> <span class="operator">=</span> circles[plan[level]];</span><br><span class="line">            center = Math.max(center, centers[k] + <span class="number">2</span> * Math.sqrt(r1 * r2));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* This function only does some easy things: for all the circles, use its center and radius to calc (c+r) and (c-r).</span></span><br><span class="line"><span class="comment">     *  and then use min(c-r) and max(c+r) to calculate the interval length.</span></span><br><span class="line"><span class="comment">     *  n.b. centers[0..level] should be initialized and computed before calling this function</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calc_length</span><span class="params">(<span class="type">int</span>[] circles, <span class="type">int</span>[] plan, <span class="type">double</span>[] centers, <span class="type">int</span> level)</span> &#123;</span><br><span class="line">        <span class="comment">/* all circles */</span></span><br><span class="line">        <span class="comment">// the first circle</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">interval_left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">interval_right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// it&#x27;s ok if we only have 1 circle. calcCenter() will return 0 if we only have 1 circle</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= level; i++) &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">r</span> <span class="operator">=</span> circles[plan[i]];</span><br><span class="line">            <span class="type">double</span> <span class="variable">c</span> <span class="operator">=</span> centers[i];</span><br><span class="line">            interval_left = Math.min(interval_left, c - r);</span><br><span class="line">            interval_right = Math.max(interval_right, c + r);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> interval_right - interval_left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">calc_cost</span><span class="params">(Node node)</span> &#123;</span><br><span class="line">        <span class="comment">// the radius of circles are sorted in ascending order: Arrays.sort(circles);</span></span><br><span class="line">        <span class="comment">// prune: we ensure that the best solution won&#x27;t contain 3 successive ascending circles or 3 successive descending circles.</span></span><br><span class="line">        <span class="keyword">if</span> (node.level &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (node.plan[node.level] &gt; node.plan[node.level - <span class="number">1</span>] &amp;&amp; node.plan[node.level - <span class="number">1</span>] &gt; node.plan[node.level - <span class="number">2</span>]) &#123;</span><br><span class="line">                <span class="keyword">return</span> Double.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.plan[node.level] &lt; node.plan[node.level - <span class="number">1</span>] &amp;&amp; node.plan[node.level - <span class="number">1</span>] &lt; node.plan[node.level - <span class="number">2</span>]) &#123;</span><br><span class="line">                <span class="keyword">return</span> Double.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">cost</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">x_k</span> <span class="operator">=</span> node.centers[node.level];</span><br><span class="line">        <span class="comment">// n.b. r_1 ... r_k totally k circles</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">r_1</span> <span class="operator">=</span> Node.circles[node.plan[<span class="number">0</span>]];</span><br><span class="line">        cost += x_k;</span><br><span class="line">        cost += r_1;</span><br><span class="line">        <span class="comment">// n.b. we drop the r_k: cost += r_k;</span></span><br><span class="line">        <span class="comment">// since the radius of r is the min-imum radius of the circles[k+1..n], we can know r &lt;= r_k ,</span></span><br><span class="line">        <span class="comment">// it&#x27;s safe for us to assume lower-bound of the length of circles[k+1..n] is (left_circles_amount * (2 * r))</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">r_k</span> <span class="operator">=</span> Node.circles[node.plan[node.level]];</span><br><span class="line">        <span class="type">double</span> <span class="variable">r</span> <span class="operator">=</span> r_k;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> node.level + <span class="number">1</span>; i &lt; Node.n; i++) &#123;</span><br><span class="line">            r = Math.min(r, Node.circles[node.plan[i]]);</span><br><span class="line">        &#125;</span><br><span class="line">        cost += (<span class="number">2</span> * (Node.n - node.level - <span class="number">1</span>) + <span class="number">1</span>) * r;</span><br><span class="line">        <span class="keyword">return</span> cost;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] circles)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Initialize */</span></span><br><span class="line">        <span class="comment">// n.b. in ascending order of circle radius</span></span><br><span class="line">        Arrays.sort(circles);</span><br><span class="line">        Node.n = n;</span><br><span class="line">        Node.circles = circles;</span><br><span class="line">        Node.ans = Double.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Construct the queue and init */</span></span><br><span class="line">        PriorityQueue&lt;Node&gt; PQ = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((o1, o2) -&gt; &#123;</span><br><span class="line">            <span class="comment">// n.b. if o1.cost == o2.cost, we need to compare o1.level and o2.level</span></span><br><span class="line">            <span class="comment">// it&#x27;s also ok if you considerate the LEVEL inside your COST function.</span></span><br><span class="line">            <span class="comment">// we have tried and found that: more complex comparator won&#x27;t benefit us more.</span></span><br><span class="line">            <span class="keyword">return</span> (<span class="type">int</span>) ((o1.cost - o1.level) - (o2.cost - o2.level));</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add dummy node</span></span><br><span class="line">        <span class="type">int</span>[] root_node = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) root_node[i] = i;</span><br><span class="line">        PQ.add(<span class="keyword">new</span> <span class="title class_">Node</span>(-<span class="number">1</span>, root_node, <span class="keyword">new</span> <span class="title class_">double</span>[n]));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// BFS with Priority</span></span><br><span class="line">        <span class="keyword">while</span> (!PQ.isEmpty()) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Get one node */</span></span><br><span class="line">            <span class="type">Node</span> <span class="variable">current_node</span> <span class="operator">=</span> PQ.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">$level</span> <span class="operator">=</span> current_node.level + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Generate all the next nodes */</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> $level; k &lt; n; k++) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">/* Generate the next-node */</span></span><br><span class="line">                <span class="type">int</span>[] $plan = current_node.plan.clone();</span><br><span class="line">                swap($plan, $level, k);</span><br><span class="line"></span><br><span class="line">                <span class="type">double</span>[] $centers = current_node.centers.clone();</span><br><span class="line">                $centers[$level] = calc_center(circles, $plan, $centers, $level);</span><br><span class="line"></span><br><span class="line">                <span class="comment">/* Check the node ! */</span></span><br><span class="line">                <span class="comment">// n.b. centers[level] + circles[plan[0]] + circles[plan[level]] is NOT ALWAYS the LENGTH of the plan !</span></span><br><span class="line">                <span class="comment">// prune: if the next-node is NOT BETTER THAN current solution, skip it</span></span><br><span class="line">                <span class="keyword">if</span> ($centers[$level] + circles[$plan[<span class="number">0</span>]] + circles[$plan[$level]] &lt; Node.ans) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="type">Node</span> <span class="variable">$</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>($level, $plan, $centers);</span><br><span class="line">                    $.cost = calc_cost($);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// prune:  if the next-node is out of BOUND</span></span><br><span class="line">                    <span class="keyword">if</span> ($.cost &lt; Node.ans) &#123;</span><br><span class="line">                        <span class="keyword">if</span> ($level == n - <span class="number">1</span>) &#123;</span><br><span class="line">                            Node.ans = Math.min(Node.ans, calc_length(circles, $plan, $centers, $level));</span><br><span class="line">                        &#125; <span class="keyword">else</span> PQ.add($);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Node.ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Scanner scanner : judger) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">            <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                a[i] = scanner.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.printf(<span class="string">&quot;%.3f&quot;</span>, solve(n, a));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Benchmark-2"><a href="#Benchmark-2" class="headerlink" title="Benchmark"></a>Benchmark</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE0.in &amp; CIRCLE0.out</span><br><span class="line">Expected  Input: [<span class="number">3</span>, <span class="number">1</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">Expected Output: [<span class="number">7.657</span>]</span><br><span class="line">Your     Output: [<span class="number">7.657</span>]</span><br><span class="line">Time Cost: <span class="number">4.585800</span> ms (<span class="number">4585800</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE1.in &amp; CIRCLE1.out</span><br><span class="line">Expected  Input: [<span class="number">5</span>, <span class="number">59</span> <span class="number">23</span> <span class="number">41</span> <span class="number">70</span> <span class="number">47</span> ]</span><br><span class="line">Expected Output: [<span class="number">454.388</span>]</span><br><span class="line">Your     Output: [<span class="number">454.388</span>]</span><br><span class="line">Time Cost: <span class="number">1.767200</span> ms (<span class="number">1767200</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE10.in &amp; CIRCLE10.out</span><br><span class="line">Expected  Input: [<span class="number">10</span>, <span class="number">9</span> <span class="number">2</span> <span class="number">117</span> <span class="number">45</span> <span class="number">9</span> <span class="number">3</span> <span class="number">142</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line">Expected Output: [<span class="number">755.928</span>]</span><br><span class="line">Your     Output: [<span class="number">755.928</span>]</span><br><span class="line">Time Cost: <span class="number">235.701100</span> ms (<span class="number">235701100</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE11.in &amp; CIRCLE11.out</span><br><span class="line">Expected  Input: [<span class="number">2</span>, <span class="number">10000</span> <span class="number">1</span>]</span><br><span class="line">Expected Output: [<span class="number">20000.000</span>]</span><br><span class="line">Your     Output: [<span class="number">20000.000</span>]</span><br><span class="line">Time Cost: <span class="number">1.475400</span> ms (<span class="number">1475400</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE12.in &amp; CIRCLE12.out</span><br><span class="line">Expected  Input: [<span class="number">2</span>, <span class="number">10000</span> <span class="number">10000</span>]</span><br><span class="line">Expected Output: [<span class="number">40000.000</span>]</span><br><span class="line">Your     Output: [<span class="number">40000.000</span>]</span><br><span class="line">Time Cost: <span class="number">1.274300</span> ms (<span class="number">1274300</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE13.in &amp; CIRCLE13.out</span><br><span class="line">Expected  Input: [<span class="number">6</span>, <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span>]</span><br><span class="line">Expected Output: [<span class="number">24.136</span>]</span><br><span class="line">Your     Output: [<span class="number">24.136</span>]</span><br><span class="line">Time Cost: <span class="number">1.613500</span> ms (<span class="number">1613500</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE14.in &amp; CIRCLE14.out</span><br><span class="line">Expected  Input: [<span class="number">3</span>, <span class="number">1</span> <span class="number">2</span> <span class="number">9</span>]</span><br><span class="line">Expected Output: [<span class="number">19.485</span>]</span><br><span class="line">Your     Output: [<span class="number">19.485</span>]</span><br><span class="line">Time Cost: <span class="number">1.742700</span> ms (<span class="number">1742700</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE2.in &amp; CIRCLE2.out</span><br><span class="line">Expected  Input: [<span class="number">7</span>, <span class="number">94</span> <span class="number">35</span> <span class="number">20</span> <span class="number">88</span> <span class="number">55</span> <span class="number">28</span> <span class="number">57</span> ]</span><br><span class="line">Expected Output: [<span class="number">666.874</span>]</span><br><span class="line">Your     Output: [<span class="number">666.874</span>]</span><br><span class="line">Time Cost: <span class="number">2.466700</span> ms (<span class="number">2466700</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE3.in &amp; CIRCLE3.out</span><br><span class="line">Expected  Input: [<span class="number">7</span>, <span class="number">25</span> <span class="number">1</span> <span class="number">5</span> <span class="number">74</span> <span class="number">47</span> <span class="number">77</span> <span class="number">8</span> ]</span><br><span class="line">Expected Output: [<span class="number">415.089</span>]</span><br><span class="line">Your     Output: [<span class="number">415.089</span>]</span><br><span class="line">Time Cost: <span class="number">3.496700</span> ms (<span class="number">3496700</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE4.in &amp; CIRCLE4.out</span><br><span class="line">Expected  Input: [<span class="number">9</span>, <span class="number">17</span> <span class="number">49</span> <span class="number">77</span> <span class="number">84</span> <span class="number">86</span> <span class="number">64</span> <span class="number">75</span> <span class="number">88</span> <span class="number">65</span> ]</span><br><span class="line">Expected Output: [<span class="number">1159.668</span>]</span><br><span class="line">Your     Output: [<span class="number">1159.668</span>]</span><br><span class="line">Time Cost: <span class="number">49.480700</span> ms (<span class="number">49480700</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE5.in &amp; CIRCLE5.out</span><br><span class="line">Expected  Input: [<span class="number">10</span>, <span class="number">99</span> <span class="number">22</span> <span class="number">17</span> <span class="number">45</span> <span class="number">91</span> <span class="number">73</span> <span class="number">42</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line">Expected Output: [<span class="number">858.474</span>]</span><br><span class="line">Your     Output: [<span class="number">858.474</span>]</span><br><span class="line">Time Cost: <span class="number">176.674800</span> ms (<span class="number">176674800</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE6.in &amp; CIRCLE6.out</span><br><span class="line">Expected  Input: [<span class="number">10</span>, <span class="number">51</span> <span class="number">100</span> <span class="number">66</span> <span class="number">37</span> <span class="number">30</span> <span class="number">83</span> <span class="number">87</span> <span class="number">98</span> <span class="number">31</span> <span class="number">43</span> ]</span><br><span class="line">Expected Output: [<span class="number">1140.471</span>]</span><br><span class="line">Your     Output: [<span class="number">1140.471</span>]</span><br><span class="line">Time Cost: <span class="number">193.609000</span> ms (<span class="number">193609000</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE7.in &amp; CIRCLE7.out</span><br><span class="line">Expected  Input: [<span class="number">10</span>, <span class="number">51</span> <span class="number">100</span> <span class="number">66</span> <span class="number">37</span> <span class="number">30</span> <span class="number">1</span> <span class="number">87</span> <span class="number">98</span> <span class="number">31</span> <span class="number">3</span> ]</span><br><span class="line">Expected Output: [<span class="number">902.696</span>]</span><br><span class="line">Your     Output: [<span class="number">902.696</span>]</span><br><span class="line">Time Cost: <span class="number">179.229300</span> ms (<span class="number">179229300</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE8.in &amp; CIRCLE8.out</span><br><span class="line">Expected  Input: [<span class="number">9</span>, <span class="number">1</span> <span class="number">49</span> <span class="number">77</span> <span class="number">8</span> <span class="number">86</span> <span class="number">6</span> <span class="number">75</span> <span class="number">88</span> <span class="number">3</span> ]</span><br><span class="line">Expected Output: [<span class="number">738.394</span>]</span><br><span class="line">Your     Output: [<span class="number">738.394</span>]</span><br><span class="line">Time Cost: <span class="number">21.907700</span> ms (<span class="number">21907700</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Current Case: CIRCLE9.in &amp; CIRCLE9.out</span><br><span class="line">Expected  Input: [<span class="number">10</span>, <span class="number">9</span> <span class="number">22</span> <span class="number">17</span> <span class="number">45</span> <span class="number">9</span> <span class="number">3</span> <span class="number">42</span> <span class="number">14</span> <span class="number">9</span> <span class="number">98</span> ]</span><br><span class="line">Expected Output: [<span class="number">400.389</span>]</span><br><span class="line">Your     Output: [<span class="number">400.389</span>]</span><br><span class="line">Time Cost: <span class="number">120.563100</span> ms (<span class="number">120563100</span> ns)</span><br><span class="line">Accepted</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">Result Statistics: √ √ √ √ √ √ √ √ √ √ √ √ √ √ √ </span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a target="_blank" rel="noopener" href="https://zh.coursera.org/lecture/algorithms/074yuan-pai-lie-wen-ti-CasbS">Coursera, Design and Analysis of Algorithms - Circle Permutation</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43470416/article/details/106364345">CSDN, myy_cjw, 圆排列问题</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43939564/article/details/106724719">CSDN, Lrish Coffee, 圆排列问题</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/16/combinatorics-graph-basics-ii/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/16/combinatorics-graph-basics-ii/" class="post-title-link" itemprop="url">Combinatorics - Graph Basics II</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-16 19:36:23" itemprop="dateCreated datePublished" datetime="2022-04-16T19:36:23+00:00">2022-04-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Advanced-Graph"><a href="#Advanced-Graph" class="headerlink" title="Advanced Graph"></a>Advanced Graph</h1><h2 id="Chromatic-Number"><a href="#Chromatic-Number" class="headerlink" title="Chromatic Number"></a>Chromatic Number</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p>若<code>图</code>G &#x3D; (V,E )。</p>
<p><code>图</code>G的<code>k顶点着色 (k着色)</code>：从<code>含有k种颜色的集合</code>中选择<code>颜色</code>，对<code>图G</code>的每一个<code>顶点</code>指定一种<code>颜色</code>，使得<code>相邻顶点</code>有<code>不同颜色</code>。</p>
<blockquote>
<p>注意：<code>k顶点着色</code>并不要求<code>k种颜色</code>都必须要使用到。</p>
</blockquote>
<p><code>图</code>G是<code>k可着色的</code>：如果图G存在一个<code>k顶点着色</code></p>
<p><code>图</code>G的<code>色数 (Chromatic Number)</code>\mathcal{X}(G)：</p>
<ul>
<li>使得<code>图</code>G是<code>k可着色的</code>中的<code>最小的k</code>称为图G​的<code>色数</code></li>
<li>使得 <code>所有的顶点</code>可 <code>划分</code> 为 <code>k个子集</code>且 <code>每个子集的导出子图均为零图</code>的 <code>最小整数k</code></li>
</ul>
<hr>
<p><code>图</code>G的 <code>色划分 (Color Partition)</code>\mathcal{V} ：若V_i \quad (i &#x3D; 1,2,\cdots,k)表示 <code>被指定为颜色i的所有顶点的子集</code>，则 \mathcal{V} &#x3D; \s{V_1, V_2, \cdots, V_k}是V的 <code>划分</code>。</p>
<blockquote>
<p><code>色划分的元素的导出子图</code>：G_{V_1}, G_{V_2}, \cdots, G_{V_k} 均为 <code>零图</code></p>
</blockquote>
<h3 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory 1"></a>Theory 1</h4><blockquote>
<p><code>零图 (Null Graph)</code>N_n：没有 <code>任何边</code>的图。(含有n个顶点)</p>
<p><code>空图 (Empty Graph)</code>N_0：没有 <code>任何顶点</code>的图。（含有0个顶点）</p>
<blockquote>
<p><code>零图</code> 不一定是 <code>空图</code>：因为 <code>零图</code>可以仅仅包含一堆 <code>孤立的点</code></p>
<p><code>空图</code>是 <code>0阶零图</code></p>
</blockquote>
</blockquote>
<p>若G &#x3D; (V, E) \quad n \ge 1，则1 \le \mathcal{X}(G) \le n</p>
<p>并且有：</p>
<ul>
<li>\mathcal{X}(G) &#x3D; n \iff G &#x3D; K_n</li>
<li>\mathcal{X}(G) &#x3D; 1 \iff G &#x3D; N_n</li>
</ul>
<hr>
<ul>
<li><p>若G &#x3D; K_n \implies 所有的 <code>顶点</code>都互相 <code>邻接</code>，故所有顶点的颜色都不同，需要 <code>n种颜色</code></p>
</li>
<li><p>若G &#x3D; N_n \implies所有的顶点都是 <code>孤立的</code>，没有 <code>任何两个顶点之间存在邻接</code>，所以仅需要 <code>1种颜色</code> 。</p>
<blockquote>
<p>如果G \ne N_n \implies <code>至少有2个顶点是邻接的</code>\implies \mathcal{X}(G) \ge 2 \ne 1</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>推论：若G \ne K_n \implies 至少存在 <code>两个顶点之间不邻接</code> \implies 这 <code>两个顶点</code>可以着色 <code>相同颜色</code> \implies 1 \le \mathcal{X}(G \ne K_n) \le n - 1</p>
</blockquote>
<h4 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory 2"></a>Theory 2</h4><p>G &#x3D; (V, E), H \subseteq G \implies \mathcal{X}(G) \ge \mathcal{X}(H)</p>
<blockquote>
<p>\if \exists H &#x3D; K_p,\then \mathcal{X}(G) \ge p</p>
<p>可以利用该推论快速地确定 <code>图G的色数的一个不严格下界</code></p>
</blockquote>
<h4 id="Theory-3"><a href="#Theory-3" class="headerlink" title="Theory 3"></a>Theory 3</h4><hr>
<blockquote>
<p>因为q是 <code>G中导出子图中的所有零图里，阶数最大的零图</code>\implies 我们使用<code>任何1种颜色</code>可以<code>至多着色图G中的q个顶点</code></p>
<p>\implies 我们 <code>至少</code> 使用\lceil \frac{n}{q} \rceil 种颜色即可 <code>着色图G中的所有顶点</code> \implies \mathcal{X}(G) \ge \lceil \frac{n}{q} \rceil</p>
</blockquote>
<blockquote>
<p>\mathcal{X}(G) \ge \roundup{\frac{n}{q}}对于\G 隐含2个信息：</p>
<ul>
<li>使用 <code>任何一种颜色</code>可以 <code>至多着色图G中的q个顶点</code></li>
<li><code>图G中每q+1个顶点之中，至少有q个顶点相互邻接</code></li>
</ul>
</blockquote>
<h4 id="Theory-4"><a href="#Theory-4" class="headerlink" title="Theory 4"></a>Theory 4</h4><hr>
<ul>
<li>E &#x3D; 0 \implies G &#x3D; N_0 \implies \mathcal{X}(G) &#x3D; 1</li>
<li>E \ge 1 \implies \mathcal{X}(G) &#x3D; 2 \implies \mathcal{V} &#x3D; \s{V_1, V_2} \t{ is a partition of } V</li>
</ul>
<p>反之同理 \qed</p>
<h4 id="Theory-5-A-Greedy-Method-to-Solve-the-Vertex-Coloring"><a href="#Theory-5-A-Greedy-Method-to-Solve-the-Vertex-Coloring" class="headerlink" title="Theory 5: A Greedy Method to Solve the Vertex Coloring"></a>Theory 5: A Greedy Method to Solve the Vertex Coloring</h4><p>G &#x3D; (V, E), V &#x3D; \s{x_1, x_2, \cdots ,x_n}</p>
<ul>
<li>对x_1指定 <code>颜色1</code></li>
<li>对每个i &#x3D; 2, 3, \cdots, n：令p是与x_i邻接的顶点x_1, x_2,\cdots,x_{i-1} 中 <code>任何顶点</code>都不被着色为 <code>p</code>的 <code>最小颜色</code>，并对x_i 指定 <code>颜色p</code></li>
</ul>
<p>若\G，其 <code>顶点的最大度</code>\Delta，则该方法产生一个 <code>图G的</code>(\Delta + 1) <code>着色</code>：\mathcal{X}(G) \le \Delta +1</p>
<blockquote>
<p>\mathcal{X}(G) &#x3D; \Delta + 1时，即 <code>图G</code>是 <code>星 (Star)</code></p>
</blockquote>
<blockquote>
<p>该 <code>贪心算法</code> 并不保证产生的 <code>图的着色</code>是 <code>最优着色</code>：这取决于 <code>如何编号图G的顶点</code></p>
<blockquote>
<p>更具体地，如果我们按照 \mathcal{V} &#x3D; \s{V_1, V_2, \cdots V_{\mathcal{X}(G)}}的 <code>顺序</code>来 <code>编号</code>顶点，则该方法会 <code>只用颜色1来涂色</code> V_1 <code>中的顶点</code>，然后 <code>只用颜色1和颜色2来涂色</code> V_2 <code>中的顶点</code>，…，<code>只用颜色1，颜色2，..., 颜色</code>\mathcal{X}(G) <code>来涂色</code> V_{\mathcal{X}(G)} 。最终可以得到 <code>最优的图G的着色</code></p>
</blockquote>
</blockquote>
<h4 id="Theory-6-Brooks-Theorem"><a href="#Theory-6-Brooks-Theorem" class="headerlink" title="Theory 6: Brooks Theorem"></a>Theory 6: Brooks Theorem</h4><p>若 <code>图G</code>是 <code>连通图</code>，其 <code>顶点的最大度</code> \Delta。如果 <code>图G</code> 既不是 <code>完全图</code> K_n， 也不是 <code>奇数阶循环图</code> C_n \implies \mathcal{X}(G) \le \Delta</p>
<h4 id="Theory-7-Chromatic-Polynomial"><a href="#Theory-7-Chromatic-Polynomial" class="headerlink" title="Theory 7: Chromatic Polynomial"></a>Theory 7: Chromatic Polynomial</h4><blockquote>
<p><code>图G的色多项式</code>p_G(k)：即<code>图G的k顶点着色</code>的<code>方案数</code></p>
<p>如果\mathcal{X}(G) \gt k \iff p_G(k) &#x3D; 0</p>
<blockquote>
<p>即<code>图G的色数</code>即为<code>使得图G的多项式非零的最小的非负整数</code></p>
</blockquote>
<ul>
<li><p>p_{K_n}(k) &#x3D; (k)(k-1)(k-2)\cdots(k - n + 1) &#x3D; [k]_n</p>
</li>
<li><p>p_{Nn}(k) &#x3D; k^n</p>
</li>
<li><p>p_{T_n}(k) &#x3D; (k)(k-1)^{n-1}</p>
<blockquote>
<p>任何树都可以通过 <code>不断加入边</code>来进行构造：</p>
<p>首先，加入<code>树根</code>，对于树根的着色有 <code>k种选择</code>。</p>
<p>之后，加入的<code>任何顶点</code>都<code>只需要和与之邻接的那个顶点</code>的颜色不同即可，所以对于<code>任何非树根节点</code>有<code>k-1种选择</code></p>
</blockquote>
</li>
</ul>
</blockquote>
<p>G &#x3D; (V, E) \quad n \ge 1 \implies p_G(k) \t{ is a \b{polynomial}}</p>
<hr>
<p>\r{\alpha \define \s{x,y} \in G}</p>
<ul>
<li>设G_1：删除边\r{\alpha}的图G</li>
</ul>
<p>则U \define V - x - y, G_1 \define G_U</p>
<p>则p_{G_1}(k) &#x3D; C(k) + D(k)</p>
<p>其中：C(k)表示<code>x和y颜色相同的着色</code>，D(k)表示<code>x和y颜色不同的着色</code></p>
<p>则\r{p_G(k) &#x3D; D(k)}</p>
<ul>
<li>设G_2：将x和y视为同一顶点的图G</li>
</ul>
<p>则\r{p_{G_2}(k) &#x3D; C(k)}</p>
<blockquote>
<p>因为x和y是<code>邻接的</code>，而且假设为有<code>相同颜色</code>，则我们不妨：将<code>连接x和y的边</code>\alpha 缩短为<code>无穷小</code>，直到<code>顶点x</code>和<code>顶点y</code>等效于<code>重叠</code>。</p>
</blockquote>
<hr>
<p>综上，</p>
<blockquote>
<p>直观地说：<code>G的k着色数</code> &#x3D; <code>G中删除边&#123;x, y&#125;使得x和y可能被着色为相同颜色的着色数</code> - <code>G中将x和y着色为相同数量的着色数</code></p>
<p>我们可以通过<code>对图G进行</code> <code>删除边</code>和<code>合并顶点</code>这2个操作，直到得到<code>零图</code>，从而可以计算<code>图G的色多项式</code></p>
<blockquote>
<p>更具体地，<code>图G的色多项式</code>是关于k^p的多项式</p>
</blockquote>
</blockquote>
<hr>
<h5 id="Construct-Chromatic-Polynomial"><a href="#Construct-Chromatic-Polynomial" class="headerlink" title="Construct Chromatic Polynomial"></a>Construct Chromatic Polynomial</h5><blockquote>
<p><code>带符号图 (Signed Graph)</code>：(\pm, G)</p>
</blockquote>
<p>\G</p>
<ul>
<li><p>\mathcal{G} \define \s{(+, G)}</p>
</li>
<li><p>\exists H \subseteq \mathcal{G}, H \ne N_{H}</p>
<ul>
<li>\t{SELECT } \t{signed graph } (\epsilon, H) \t{ AND an edge } \alpha \t{ from } H</li>
<li>\mathcal{G} - (\epsilon, \b{H}), \mathcal{G} \cup (\epsilon, \b{H_{\ominus\alpha}})\cup(\epsilon, \b{H_{\otimes\alpha}})</li>
</ul>
</li>
<li><p>p_G(k) \define \sum_{\forall (\epsilon, H) \in \mathcal{G}}{\epsilon k^p}</p>
</li>
</ul>
<h4 id="Theory-8"><a href="#Theory-8" class="headerlink" title="Theory 8"></a>Theory 8</h4><hr>
<p>若 K_r 是 <code>完全图</code> \implies H 的所有顶点的颜色都不同。</p>
<p>且对于 <code>H中顶点的每一种颜色选择</code>，都可以拓展到对<code>G的剩余顶点的</code>q(k) <code>种着色</code>：</p>
<p>p_G(k) &#x3D; [k]_r \r{\times} q(k)</p>
<blockquote>
<p>可以看作：先对 <code>G中的</code> K_r 进行着色，然后再对 <code>G中的剩余顶点</code>进行着色。</p>
</blockquote>
<h4 id="Theory-9"><a href="#Theory-9" class="headerlink" title="Theory 9"></a>Theory 9</h4><blockquote>
<p><code>关节集 (Articulation Set)</code></p>
<blockquote>
<p><code>完全图</code>没有<code>关节集</code></p>
</blockquote>
</blockquote>
<hr>
<p>首先，G_{V-U} 依照 <code>关节集</code>U 将 <code>图G</code> <code>分解</code>为一些 <code>连通分量</code>。</p>
<p>然后，H_i 表示的将 <code>每个连通分量的顶点集</code>与<code>关节集</code>U 的<code>并集</code> 来 <code>导出图G的子图</code></p>
<blockquote>
<p>应注意到，H_i均包含U中的顶点，但除了这些顶点外，<code>其他剩余顶点</code>都<code>两两不相交</code>。</p>
<p><code>关节集</code> U 实际上已经将 <code>图</code> G 分解为 <code>一些连通分量</code>G_{U_1}, \cdots, G_{U_t}，这些<code>连通分量</code>之间的<code>顶点</code>都<code>两两互不相邻</code>。</p>
<p>而对于H_i来说， <code>关节集</code>U则是<code>这些连通分量</code>唯一的<code>中介 (在图G中这些连通分量互相连通的唯一途径)</code>（也是H_i之间唯一所共同含有的 <code>顶点集</code>）</p>
</blockquote>
<h2 id="Plane-and-Planar-Graph"><a href="#Plane-and-Planar-Graph" class="headerlink" title="Plane and Planar Graph"></a>Plane and Planar Graph</h2><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><p>若G &#x3D; (V, E)是 <code>平面图</code>：</p>
<p>该图的 <code>平面表示</code> G’</p>
<ul>
<li>G’也是 <code>平面图</code></li>
<li>G’的顶点称为 <code>顶点点 (Vertex-Point)</code>：对应于 G 中的顶点</li>
<li>G’的边称为 <code>边曲线 (Edge-Curve)</code>：对应于G中的边</li>
</ul>
<blockquote>
<p><code>平面表示</code>将 <code>平面 (Plane)</code> <code>划分</code>为由一条或若干条 <code>边曲线</code>所围成的 <code>区域</code></p>
</blockquote>
<blockquote>
<p><code>边曲线</code>的计数方法：类似于 <code>欧拉迹</code>，首先在 <code>要被计数的区域</code>中 <code>任选一个顶点</code>，然后将 <code>笔</code>放在该顶点上，<code>不让笔离开纸面地移动笔</code>直到<code>该区域所有边都被访问过</code></p>
<blockquote>
<p>与 <code>欧拉迹</code>不同的是：我们实际上，允许 <code>重复访问相同的边</code>，只需 <code>走回头路</code>即可，但请记住 <code>重复走的边</code>也一样要被 <code>计数</code></p>
</blockquote>
</blockquote>
<blockquote>
<p>对于 <code>无穷区域</code>：由于 <code>无穷区域</code> 可以向 <code>任意方向进行无穷拓展</code> ，故我们可以将 <code>二维平面的无穷区域</code>放置到 <code>三维空间的巨型球体</code>上，此时定义 <code>无穷远</code>为 <code>球的北极点/南极点</code></p>
</blockquote>
<h3 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1-Euler’s-Formula"><a href="#Theory-1-Euler’s-Formula" class="headerlink" title="Theory 1: Euler’s Formula"></a>Theory 1: Euler’s Formula</h4><hr>
<ul>
<li>若 <code>图G</code>为 <code>树</code></li>
</ul>
<p>\because n \t{ vertex-point}, n-1 \t{ edge-curve}, 1 \t{ area}</p>
<ul>
<li>若 <code>图G</code>不是 <code>树</code></li>
</ul>
<p>因为 <code>图G</code> 是 <code>连通图</code> \implies <code>图G</code>有 <code>生成树</code> T \implies 每为T添加 <code>一条边</code>，则会 <code>形成一个圈</code>：因为 <code>这个圈</code>把 <code>原先的无穷区域</code> 划分为 <code>两个部分</code>（<code>无穷区域</code>+<code>新增的内部区域</code>）\implies (r + \r{1}) &#x3D; (e+\r{1}) - n +2</p>
<p>\qed</p>
<h4 id="Theory-2-Extended-Euler’s-Formula"><a href="#Theory-2-Extended-Euler’s-Formula" class="headerlink" title="Theory 2: Extended Euler’s Formula"></a>Theory 2: Extended Euler’s Formula</h4><hr>
<p>设 G’ 是 G的 <code>平面表示</code></p>
<p>\because G没有环</p>
<p>\therefore G’中的 <code>任何区域</code>都无法用 <code>一条边曲线</code> 来表示边界</p>
<p>\because G没有多重边</p>
<p>\therefore G’中的 <code>任何区域</code>都无法用 <code>两条边边曲线</code>来表示边界 （除非 G 只有唯一的一条边）</p>
<blockquote>
<p>若 G’是有n个 <code>顶点点</code>， e条 <code>边曲线</code>，r个 <code>区域</code>的 <code>平面图</code>。</p>
<p>设f_1, f_2, \cdots, f_r 表示 <code>各个区域的边曲线数</code>，则有：</p>
<p>\r{f_1 +f_2 + \cdots + f_r &#x3D; 2e}</p>
</blockquote>
<p>\therefore f_i \ge 3 \implies 2e \ge 3r \implies \frac{2e}{3} \ge r &#x3D; \b{e - n +2}</p>
<p>\therefore e \le 3n - 6</p>
<p>设 d_1, \cdots, d_n为 <code>图G中顶点的度数</code>，则</p>
<p>d_1 + \cdots + d_n &#x3D; 2e</p>
<p>则 <code>图G的顶点的平均度数</code>为</p>
<p>\r{\frac{d_1+\cdots+d_n}{n}} &#x3D; \frac{2e}{n} \le \frac{6n-12}{n} \r{\lt 6}</p>
<ul>
<li><p>Example</p>
<ul>
<li>G &#x3D; \b{K_n} \implies G \t{ is a \b{planar graph}} \iff \b{e \le 3n -6}</li>
<li>G &#x3D; \b{K_{p,q}} \implies G \t{ is a \b{planar graph}} \iff \b{e \le 2n - 4}</li>
</ul>
</li>
</ul>
<h4 id="Theory-3-1"><a href="#Theory-3-1" class="headerlink" title="Theory 3"></a>Theory 3</h4><blockquote>
<ul>
<li>边的细分 (Subdivision)</li>
</ul>
<p>对 <code>边</code>\alpha &#x3D; \s{x, y} 的 <code>细分</code>指的是，用 \s{x,z} 和 \s{z, y} 代替 \alpha</p>
<blockquote>
<p>也可以看作，在\alpha中 <code>插入新的顶点</code></p>
</blockquote>
<p>我们称 <code>图H</code>是 <code>图G的细分</code>：可以通过对 <code>图G</code>进行 <code>细分</code>来得到 <code>图H</code></p>
<ul>
<li>边的收缩 (Contraction)</li>
</ul>
<p>对 <code>边</code>\alpha &#x3D; \s{x, y} 将 <code>顶点x</code> 和 <code>顶点y</code> 进行<code>合并</code>。</p>
</blockquote>
<h2 id="Five-Color-Theorem"><a href="#Five-Color-Theorem" class="headerlink" title="Five-Color Theorem"></a>Five-Color Theorem</h2><h3 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h3><blockquote>
<p>事实上，<code>Four-Color Theorem</code>已被证明。</p>
</blockquote>
<blockquote>
<p>K_5不是 <code>平面图</code> \implies <code>平面图</code>不能包含 <code>每对顶点都邻接的5个顶点</code></p>
</blockquote>
<h3 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h3><p>G \define \lb{&amp; (V, E), V &#x3D; n \\ &amp; \text{ is a \b{planar graph}} }</p>
<ul>
<li>n \le 5 \implies \mathcal{X}(G) \le 5</li>
<li>n \gt 5</li>
</ul>
<h3 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1-1"><a href="#Theory-1-1" class="headerlink" title="Theory 1"></a>Theory 1</h4><h4 id="Theory-2-1"><a href="#Theory-2-1" class="headerlink" title="Theory 2"></a>Theory 2</h4><h4 id="Theory-3-2"><a href="#Theory-3-2" class="headerlink" title="Theory 3"></a>Theory 3</h4><hr>
<ul>
<li><p>p &#x3D; 1，可以通过对 <code>图G的每一条边</code>都进行 <code>收缩</code>，最终得到 K_1</p>
</li>
<li><p>p &#x3D; 2，可以通过对 <code>图G的除了一条边外的所有边</code>都进行 <code>收缩</code>，最终得到 K_2</p>
</li>
<li><p>p &#x3D; 3，\because \mathcal{X}(G) &#x3D; 3 \implies <code>图G</code> 有 <code>一条长度为奇数的圈</code> 。</p>
<p>设 \gamma 是 <code>图G中的长度最小的奇数圈</code> \implies 只有 <code>连接</code> \gamma <code>中的顶点的边</code>才是 <code>真正属于</code> \gamma <code>的边</code> \implies 我们不断 <code>收缩图G中除</code> \gamma <code>的边之外的所有边</code></p>
<p>\implies 最终得到 K_3</p>
<blockquote>
<p>注意，<code>连接</code>是 <code>图论</code>里的一个术语：只有 <code>边的2个顶点</code>都 <code>属于路径</code> \gamma 才能算作 <code>连接</code>。</p>
<p>换句话说，<code>该边的两个顶点</code>必须 <code>都来自路径</code> \gamma</p>
</blockquote>
</li>
</ul>
<h2 id="Independent-Number-amp-Clique-Number"><a href="#Independent-Number-amp-Clique-Number" class="headerlink" title="Independent Number &amp; Clique Number"></a>Independent Number &amp; Clique Number</h2><h3 id="Independent-Number"><a href="#Independent-Number" class="headerlink" title="Independent Number"></a>Independent Number</h3><h4 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h4><p>若 \G，我们称 U \subseteq V 为 <code>独立集</code>：U中的 <code>任何两个顶点</code> 都不 <code>邻接</code></p>
<blockquote>
<ul>
<li>由 <code>独立集</code>所给出的 <code>图G</code>的 <code>导出子图</code> G_U 是 <code>零图</code></li>
<li><code>色数</code> \mathcal{X}(G)是使得 <code>图G的顶点</code>能够被分成 <code>k个独立集</code>的 <code>最小整数k</code></li>
</ul>
</blockquote>
<p><code>图G的独立数</code> \alpha(G)：<code>图G</code>的 <code>所有独立集</code>中 <code>顶点的最大个数</code></p>
<blockquote>
<ul>
<li><code>独立数</code>是 <code>图G的顶点着色</code>中，<code>具有相同颜色的顶点</code>的 <code>最大个数</code> ：\mathcal{X}(G) \ge \roundup{\frac{n}{\alpha(G)}}</li>
<li>，\alpha(N_n) &#x3D; n,\alpha(K_n) &#x3D; 1，\alpha(K_{m,n}) &#x3D; max\s{m, n}</li>
</ul>
</blockquote>
<h3 id="Domination-Set"><a href="#Domination-Set" class="headerlink" title="Domination Set"></a>Domination Set</h3><h4 id="Definition-4"><a href="#Definition-4" class="headerlink" title="Definition"></a>Definition</h4><blockquote>
<p>若 G &#x3D; (V,E)，U是 <code>该图的顶点的独立集</code> 且 <code>不是任何更大的独立集的子集</code>。</p>
<p>则：U 中的 <code>任何两个顶点</code>都不 <code>邻接</code>，<code>不在U中的顶点</code>都 <code>至少与U中的一个顶点</code> <code>邻接</code>，</p>
<p>我们将具有 <code>这种性质</code>的 <code>顶点集合</code>称为 <code>图G</code> 的 <code>控制集</code> W</p>
</blockquote>
<p><code>图G的控制集 (Domination Set)</code> W 是 <code>图G</code>的 <code>一个顶点集合</code>，满足：<code>图G中不在W中的顶点</code> 至少与 <code>W中的一个顶点</code>相 <code>邻接</code>。</p>
<blockquote>
<p>任何包含 <code>控制集</code>的 <code>顶点集</code>也是 <code>控制集</code></p>
</blockquote>
<p><code>图G的控制数 (Dominating Number)</code> dom(G)： <code>图G</code>的 <code>控制集的最少顶点数</code></p>
<ul>
<li>dom(N_n) &#x3D; n, dom(K_n) &#x3D; 1,dom(K_{m,n})\quad m,n \ge 2 &#x3D; 2</li>
</ul>
<h4 id="Theory-3"><a href="#Theory-3" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-2"><a href="#Theory-1-2" class="headerlink" title="Theory 1"></a>Theory 1</h5><hr>
<ul>
<li>Proof 1</li>
</ul>
<p>由于 <code>图G</code>是 <code>连通图</code> \implies 图G中的 <code>任何顶点</code> 都 <code>存在一个顶点与之</code>相 <code>邻接</code>，</p>
<p>不妨设 <code>连接这两个顶点的边</code>中，<code>其中边的一个顶点</code> 属于 <code>控制集</code>， <code>边的另一个顶点</code> 不属于<code>控制集</code>。</p>
<ul>
<li>Proof 2</li>
</ul>
<p>设 T是 G的一颗 <code>生成树</code> \r{\implies dom(G) \le dom(T)}</p>
<p>使用 <code>归纳法</code>：</p>
<ol>
<li><p>n &#x3D; 2 \implies T的<code>两个顶点</code>都是 <code>控制集</code></p>
</li>
<li><p>n &#x3D; 3</p>
<p>设 y 是 <code>与悬挂顶点</code> x <code>相邻接的顶点</code>，T^* 是 <code>从T中删除顶点y和所有与y关联的边而得到的图</code></p>
<p>\implies T^*的 <code>连通分量</code> 是 <code>树</code>，且 <code>这些树</code>之中<code>至少有一颗</code> <code>阶数为1的树</code>（如：<code>顶点x</code>）</p>
<p>\implies设 \r{T_1,\cdots, T_k}是 <code>阶数至少为2的树</code>，则他们的 <code>阶数</code>为 \r{n_1 \ge 2, \cdots ,n_k \ge 2}</p>
<p>\implies 由 <code>归纳假设</code>，每个 T_i 有一个 <code>大小至多为</code> \rounddown{\frac{n_i}{2}} <code>的控制集</code></p>
<p>\implies <code>这些控制集的并</code>给出 <code>一个T的大小至多为</code> \rounddown{\frac{n}{2}} <code>的控制集</code></p>
<blockquote>
<p>1 + \rounddown{\frac{n_1}{2}} + \cdots + \rounddown{\frac{n_k}{2}} \le 1 +\rounddown{\frac{n_1+\cdots+n_k}{2}} \le 1 + \rounddown{\frac{\r{n-2}}{2}} &#x3D; \rounddown{\frac{\r{n}}{2}}</p>
</blockquote>
</li>
</ol>
<h3 id="Clique-Number"><a href="#Clique-Number" class="headerlink" title="Clique Number"></a>Clique Number</h3><h4 id="Definition-5"><a href="#Definition-5" class="headerlink" title="Definition"></a>Definition</h4><p><code>图G的团 (Clique)</code>： <code>图G的顶点的子集</code> U，使得在U中的 <code>每一对顶点</code> 相互 <code>邻接</code></p>
<ul>
<li>U &#x3D; n, G_U &#x3D; K_n</li>
</ul>
<p><code>图G的团数 (Clique Number)</code> \omega(G)：<code>图G</code>的 <code>团的顶点的最大数目</code></p>
<ul>
<li>\omega(N_n) &#x3D; 1, \omega(K_n) &#x3D; n, \omega(K_{m,n}) &#x3D; 2</li>
<li>\r{\alpha(G) &#x3D; \omega(\overline{G}), \omega({G}) &#x3D; \alpha(G)}</li>
</ul>
<p><code>图G的团划分 (Clique Partition)</code>：将 <code>图G的顶点</code> 划分为 <code>团</code>的 <code>一个划分</code></p>
<p><code>图G的团划分数 (Clique Partition Number)</code> \theta(G)：<code>图G的团划分</code>中 <code>最小的团数</code></p>
<ul>
<li>\r{\theta(G) &#x3D; \mathcal{X}(\overline{G}), \mathcal{X}(G) &#x3D; \theta(\overline{G}) }</li>
</ul>
<p><code>图G是</code> \mathcal{X} <code>完美的 (Perfect)</code>：若对于 <code>图</code> G <code>的所有导出子图</code> H ，有 \c{hotpink}{\mathcal{X}(H) &#x3D; \omega(H)}</p>
<p><code>图G是</code> \theta <code>完美的 (Perfect)</code>：若对于 <code>图</code> G <code>的所有导出子图</code> H ，有 \c{hotpink}{\theta(H) &#x3D; \alpha(H)}</p>
<h4 id="Theory-4"><a href="#Theory-4" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-3"><a href="#Theory-1-3" class="headerlink" title="Theory 1"></a>Theory 1</h5><h3 id="Chord-amp-Chordal-Graph"><a href="#Chord-amp-Chordal-Graph" class="headerlink" title="Chord &amp; Chordal Graph"></a>Chord &amp; Chordal Graph</h3><h4 id="Definition-6"><a href="#Definition-6" class="headerlink" title="Definition"></a>Definition</h4><p><code>图G的圈的弦 (Chord)</code>：连接 <code>该圈</code> 的 <code>两个非连续顶点</code> 的 <code>一条边</code></p>
<blockquote>
<p>注意：<code>弦</code>是连接 <code>圈上两个顶点的边</code>，但 <code>弦</code>本身不是 <code>这个圈的边</code></p>
</blockquote>
<p><code>弦图</code>：任何 <code>长度大于3的圈</code>都有 <code>弦</code>的图</p>
<blockquote>
<p><code>长度等于3的圈</code>必定 <code>没有弦</code></p>
</blockquote>
<h4 id="Theory-5"><a href="#Theory-5" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-4"><a href="#Theory-1-4" class="headerlink" title="Theory 1"></a>Theory 1</h5><blockquote>
<p><code>实直线</code>上的 <code>闭区间</code> 记为：[a, b] &#x3D; \s{x: a \le x \le b}</p>
<p>若设 <code>闭区间族</code>：I_1 &#x3D; [a_1, b_1], I_2 &#x3D; [a_2, b_2], \cdots, I_n &#x3D; [a_n, b_n]</p>
<p><code>区间图 (Interval Graph)</code> ：<code>顶点集合</code> 为 \s{I_1, \cdots, I_n}， <code>顶点</code> I_i和 I_j <code>邻接</code> 当且仅当 I_i \cap I_j \ne \varnothing</p>
</blockquote>
<p>每个 <code>区间图</code>都是 <code>弦图</code>。</p>
<p>：</p>
<h5 id="Theory-2-2"><a href="#Theory-2-2" class="headerlink" title="Theory 2"></a>Theory 2</h5><hr>
<h5 id="Theory-3-3"><a href="#Theory-3-3" class="headerlink" title="Theory 3"></a>Theory 3</h5><blockquote>
<p><code>极小关节集</code>：<code>真子集</code>不是 <code>关节集</code>的 <code>关节集</code></p>
</blockquote>
<hr>
<ul>
<li>若 G_U不是 <code>完全图</code>，则得到矛盾：</li>
</ul>
<p>若 <code>a</code> 和 <code>b</code> 是 <code>U中两个不邻接的顶点</code>。</p>
<p>则因为 <code>U是关节集</code>，所以 G_{V-U}中至少有两个 <code>连通分量</code>： G_1 &#x3D; (U_1, E_1) 和 G_2 &#x3D; (U_2, E_2)</p>
<p>如果 <code>a</code>不与 G_1 <code>中任何顶点邻接</code> \implies U - \s{a} 也是一个 <code>关节集</code></p>
<p>\because U 是一个 <code>极小关节集</code>，则 <code>a</code> 必定至少与 U_1 <code>中的一个顶点</code> 邻接。</p>
<p>类似的，可证明：a 至少与 U_2 中的一个顶点邻接。</p>
<p>同理，对b也有结论：</p>
<p>b 至少与 U_1中的一个顶点邻接</p>
<p>b至少与 U_2 中的一个顶点邻接</p>
<p>\because G_1和 G_2 是连通的</p>
<p>\therefore 存在一条 <code>连接a到b的路径</code> \gamma_1，该路径中 不同于a和b的所有顶点都属于 U_1</p>
<p>\therefore 存在一条 <code>连接b到a的路径</code> \gamma_2，该路径中 不同于a和b的所有顶点都属于 U_2</p>
<p>\therefore 我们可以选择 \gamma_1 和 \gamma_2，使其长度最短：\gamma &#x3D; \gamma_1, \gamma_2</p>
<p>故 \gamma 是 G中的一个圈且长度至少等于4,</p>
<p>由于 \gamma_1和 \gamma_2 具有最短的长度，所以 \gamma 的弦只可能 <code>连接a和b的边</code></p>
<p>\because 选择的a和b是非邻接的</p>
<p>\therefore \gamma &#x3D; \gamma_1, \gamma_2 没有弦的结论</p>
<p>而这与 <code>图G是弦图</code>矛盾。</p>
<h5 id="Theory-4-1"><a href="#Theory-4-1" class="headerlink" title="Theory 4"></a>Theory 4</h5><p>每个 <code>弦图</code> 都是 <code>完美的 (Perfect)</code></p>
<hr>
<h5 id="Theory-5"><a href="#Theory-5" class="headerlink" title="Theory 5"></a>Theory 5</h5><p>每个 <code>区间图</code> 都是 <code>完美的</code>。</p>
<h3 id="Matching-Number"><a href="#Matching-Number" class="headerlink" title="Matching Number"></a>Matching Number</h3><h4 id="Definition-7"><a href="#Definition-7" class="headerlink" title="Definition"></a>Definition</h4><p><code>匹配集 (Matching Set)</code> M：是 <code>图G</code>的一个 <code>边集</code>，使得 <code>没有任何两条边</code>有 <code>公共顶点</code></p>
<p><code>匹配</code> M 与 <code>顶点</code> x <code>相遇 (Encouter)</code>：匹配集<code>中的</code>唯一一条边包含<code>这个</code>顶点`</p>
<p><code>图G的完美匹配 (Perfect Matching)</code>：能<code>与图G的所有顶点相遇</code>的 <code>匹配集</code></p>
<p><code>图G的匹配数 (Matching Number)</code> \rho(G)：<code>图G</code> 的 <code>匹配</code>中的 <code>最大的边数</code></p>
<ul>
<li>n \b{\t{ is even: }}\rho(K_n) &#x3D; \rounddown{\frac{n}{2}}, \rho(C_n) &#x3D; \rounddown{\frac{n}{2}}, \rho(P_n) &#x3D; \rounddown{\frac{n}{2}}</li>
<li>\rho(K_{m,n}) &#x3D; min\s{m, n}</li>
</ul>
<h4 id="Theory-6"><a href="#Theory-6" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Thoery-1"><a href="#Thoery-1" class="headerlink" title="Thoery 1"></a>Thoery 1</h5><h5 id="Theory-2-3"><a href="#Theory-2-3" class="headerlink" title="Theory 2"></a>Theory 2</h5><blockquote>
<p><code>图G的边覆盖</code> W：若 <code>图G的顶点集合V</code>的子集 W，满足： <code>图G的每一条边</code>至少有 <code>一个顶点</code>在 W中，则称 W是 <code>图G</code>的一个 <code>边覆盖</code></p>
<ul>
<li>对于有 <code>二划分</code> X 和 Y 的二分图，X 和 Y 就是该图的 2个<code>覆盖</code></li>
</ul>
<p><code>覆盖数</code> c(G)：<code>图G</code>的 <code>顶点数最少的覆盖</code>的 <code>顶点数</code></p>
<ul>
<li>c(K_n) &#x3D; n - 1</li>
</ul>
</blockquote>
<hr>
<h5 id="Thoery-3"><a href="#Thoery-3" class="headerlink" title="Thoery 3"></a>Thoery 3</h5><blockquote>
<p>即 <code>图G</code>中：<code>匹配中边的最大数量</code> &#x3D; <code>覆盖中顶点的最少数量</code></p>
</blockquote>
<hr>
<h5 id="Theory-4-2"><a href="#Theory-4-2" class="headerlink" title="Theory 4"></a>Theory 4</h5><blockquote>
<ul>
<li>G_{V\backslash U} &#x3D; (V \backslash U, E)</li>
<li>oc &#x3D; \t{the number of odd-component}, ec &#x3D; \t{the number of even-component}</li>
</ul>
</blockquote>
<hr>
<h5 id="Theory-5-1"><a href="#Theory-5-1" class="headerlink" title="Theory 5"></a>Theory 5</h5><h3 id="Connectivity"><a href="#Connectivity" class="headerlink" title="Connectivity"></a>Connectivity</h3><h4 id="Vertex-Connectivity"><a href="#Vertex-Connectivity" class="headerlink" title="Vertex-Connectivity"></a>Vertex-Connectivity</h4><h5 id="Definition-8"><a href="#Definition-8" class="headerlink" title="Definition"></a>Definition</h5><ul>
<li><p><code>非完全图的连通度</code> &#x3D; <code>关节集的最少顶点数</code></p>
</li>
<li><p>G \ne K_n \implies \kappa(G) \le \b{n - 2}</p>
</li>
</ul>
<p><code>图G是k连通的</code>：\kappa(G) \ge k</p>
<blockquote>
<p>注：我们按照 \kappa(G) &#x3D; 0来判断 <code>图G</code>是否是<code>连通的</code>。</p>
<p>所以 <code>平凡图</code> 是 <code>不连通的</code>！</p>
</blockquote>
<p><code>关节顶点 (Articulation-Vertex)</code>：<code>删除</code>该 <code>顶点</code>后，<code>图G</code>将失去 <code>连通性</code></p>
<h5 id="Theory-7"><a href="#Theory-7" class="headerlink" title="Theory"></a>Theory</h5><h6 id="Theory-1-5"><a href="#Theory-1-5" class="headerlink" title="Theory 1"></a>Theory 1</h6><h4 id="Edge-Connectivity"><a href="#Edge-Connectivity" class="headerlink" title="Edge-Connectivity"></a>Edge-Connectivity</h4><h5 id="Definition-9"><a href="#Definition-9" class="headerlink" title="Definition"></a>Definition</h5><h5 id="Thoery"><a href="#Thoery" class="headerlink" title="Thoery"></a>Thoery</h5><h6 id="Theory-1-6"><a href="#Theory-1-6" class="headerlink" title="Theory 1"></a>Theory 1</h6><hr>
<h6 id="Theory-2-4"><a href="#Theory-2-4" class="headerlink" title="Theory 2"></a>Theory 2</h6><blockquote>
<p>我们要求 V \ge 3，因为 K_2 并不满足 <code>2连通性</code></p>
</blockquote>
<h6 id="Theory-3-4"><a href="#Theory-3-4" class="headerlink" title="Theory 3"></a>Theory 3</h6><blockquote>
<p><code>图G的块 (Block)</code>： <code>连通的</code> 且 <code>没有关节顶点</code>的 <code>图G的极大导出子图</code> G_U</p>
<ul>
<li>K_2 也是 <code>块</code>，所以实际上，任何一条 <code>边</code>都是 <code>块</code></li>
</ul>
</blockquote>
<hr>
<h6 id="Theory-4-3"><a href="#Theory-4-3" class="headerlink" title="Theory 4"></a>Theory 4</h6><hr>
<h6 id="Theory-5-2"><a href="#Theory-5-2" class="headerlink" title="Theory 5"></a>Theory 5</h6><h6 id="Theory-6"><a href="#Theory-6" class="headerlink" title="Theory 6"></a>Theory 6</h6>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/15/computer-composition-representation-tests/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/15/computer-composition-representation-tests/" class="post-title-link" itemprop="url">Computer Composition - Representation Tests</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-15 21:43:40" itemprop="dateCreated datePublished" datetime="2022-04-15T21:43:40+00:00">2022-04-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>2.3</li>
</ul>
<p>(number)_2</p>
<p>\c{hotpink}{Sign-Magnitude}</p>
<p>Ones’ Complement</p>
<p>Two’s Complement</p>
<p>\g{0}</p>
<p>\g{\vec{x} &#x3D; [0.0\cdots0]}</p>
<p>\g{\vec{x} &#x3D; [0.0\cdots0]}</p>
<p>\g{\vec{x} &#x3D; [0.0\cdots0]}</p>
<p>\r{-}0</p>
<p>\vec{x} &#x3D; [\r{1}.\b{0\cdots0}]</p>
<p>\vec{x} &#x3D; [1.\b{1\cdots 1}]</p>
<p>\vec{x} &#x3D; [0.0\cdots0]</p>
<p>\g{0.10101}</p>
<p>\g{\a{&amp;\vec{x}&#x3D; [0.10101]}}</p>
<p>\g{\a{&amp;\vec{x}&#x3D; [0.10101]}}</p>
<p>\g{\a{&amp;\vec{x}&#x3D; [0.10101]}}</p>
<p>\r{-}0.10101</p>
<p>\a{&amp;\vec{x}&#x3D;[\r{1}.\b{10101}] }</p>
<p>\a{&amp;\vec{x}&#x3D;[1.\b{01010}] }</p>
<p>\a{&amp;\vec{x}&#x3D;[1.01011] }</p>
<p>\r-0.11111</p>
<p>\a{&amp;\vec{x}&#x3D;[\r1.\b{11111]} }</p>
<p>\a{&amp;\vec{x}&#x3D;[0.\b{00000}] }</p>
<p>\a{&amp;\vec{x}&#x3D;[0.00001] }</p>
<p>\r{-}0.11111</p>
<p>\a{&amp;\vec{x}&#x3D;[\r{1}.\b{11111}] }</p>
<p>\a{&amp;\vec{x}&#x3D;[1.\b{00000}] }</p>
<p>\a{&amp;\vec{x}&#x3D;[1.00001] }</p>
<p>\r{-}0.10000</p>
<p>\a{&amp;\vec{x}&#x3D;[\r{1}.\b{10000}] }</p>
<p>\a{&amp;\vec{x}&#x3D;[1.\b{01111}] }</p>
<p>\a{&amp;\vec{x}&#x3D;[1.10000] }</p>
<p>\g{0.10000}</p>
<p>\g{\a{&amp;\vec{x}&#x3D;[0.10000] }}</p>
<p>\g{\a{&amp;\vec{x}&#x3D;[0.10000] }}</p>
<p>\g{\a{&amp;\vec{x}&#x3D;[0.10000] }}</p>
<ul>
<li>2.4</li>
</ul>
<p>Two’s Complement</p>
<p>Truth Value</p>
<p>\g{[x]_T &#x3D; [0.10010]}</p>
<p>\g{x&#x3D;0.10010}</p>
<p>[x]_T &#x3D; [\r1.10010]</p>
<p>x &#x3D; \r-0.01101</p>
<p>[x]_T &#x3D; [\r1.11111]</p>
<p>x&#x3D;\r-0</p>
<p>[x]_T &#x3D; [\r1.00000]</p>
<p>x&#x3D;\r-0.11111</p>
<p>\g{[x]_T &#x3D; [0.10001]}</p>
<p>\g{x&#x3D; 0.10001}</p>
<p>[x]_T &#x3D; [\r1.00001]</p>
<p>x&#x3D;\r-0.11110</p>
<ul>
<li>2.5</li>
</ul>
<p> </p>
<p>Sign-Magnitude</p>
<p>Ones’ Complement</p>
<p>Two’s Complement</p>
<p>[x]</p>
<p>0.10110</p>
<p>0.\b{10110}</p>
<p>0.10110</p>
<p>[x&#x2F;2]</p>
<p> </p>
<p>0.0\b{10110}</p>
<p> </p>
<p>[x&#x2F;4]</p>
<p> </p>
<p>0.00\b{10110}</p>
<p> </p>
<p>[y]</p>
<p>1.\g{01010}</p>
<p>1.\g{10101}</p>
<p>1.\r{10110}</p>
<p>[y&#x2F;2]</p>
<p> </p>
<p> </p>
<p>1.1\r{10110}</p>
<p>[2y]</p>
<p> </p>
<p> </p>
<p>1.\r{0110}</p>
<ul>
<li>2.7</li>
</ul>
<p>Case</p>
<p>Range</p>
<p>16-Bit Unsigned Number</p>
<p>[0, 2^{16} - 1]</p>
<p>16-Bit Sign-Magnitude Fixed-Point Decimal</p>
<p>[-(1-2^{-15}), 1-2^{-{15}}]</p>
<p>16-Bit Two’s Complement Fix-Point Decimal</p>
<p>[-1, 1-2^{-15}]</p>
<p>16-Bit Ones’ Complement Fix-Point Decimal</p>
<p>[-2^{15}, 2^{15}-1]</p>
<ul>
<li>2.9</li>
</ul>
<p>Decimal Number</p>
<p>IEEE 754 Bit-Pattern</p>
<p>-6\frac{5}{8}</p>
<p>As follows</p>
<p>3.1415927</p>
<p>As follows</p>
<p>64000</p>
<p>As follows</p>
<ul>
<li>2.10</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/12/search-back-tracking-iddfs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/12/search-back-tracking-iddfs/" class="post-title-link" itemprop="url">Search -  Back-Tracking & IDDFS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-12 21:15:58" itemprop="dateCreated datePublished" datetime="2022-04-12T21:15:58+00:00">2022-04-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Backtracking"><a href="#Backtracking" class="headerlink" title="Backtracking"></a>Backtracking</h1><h2 id="Integer-Transformation-Problem"><a href="#Integer-Transformation-Problem" class="headerlink" title="Integer Transformation Problem"></a>Integer Transformation Problem</h2><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>整数变换问题。关于整数 i 的变换 f 和 g 定义如下：f(i)&#x3D;3i；g(i)&#x3D;i&#x2F;2 (向下取整)。 试设计一个算法，对于给定的 2 个整数 n 和 m，用最少的 f 和 g 变换次数将 n 变换为 m。 例如，可以将整数 15 用 4 次变换将它变换为整数 4：4&#x3D;gfgg(15)。当整数 n 不可能变换 为整数 m 时，算法应如何处理?</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>由文件 input.txt 给出输入数据。第一行有 2 个正整数 n 和 m。</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>将计算出的最少变换次数以及相应的变换序列输出到文件 output.txt。文件的第一行是 最少变换次数。文件的第 2 行是相应的变换序列。</p>
<h3 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h3><p><strong>输入文件示例</strong></p>
<p>input.txt</p>
<p>15 4</p>
<p><strong>输出文件示例</strong></p>
<p>output.txt 4 gfgg</p>
<h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><h4 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h4><p>定义 <code>转变函数 (Transformation Function)</code> f(x) 和 g(x)</p>
<p>由于需要求出，对于给定输入<code>整数n</code>，是否可以 <code>某种转变函数序列</code>来 <code>转变</code>到 <code>整数m</code></p>
<p>我们不妨首先考虑使用 <code>Brute-Force Method</code>来处理该问题。</p>
<p>因为存在2种转变方式，所以我们定义的递归是 <code>2路递归</code>。</p>
<blockquote>
<p>换句话说，这个 <code>递归方法</code>产生的 <code>解空间树</code>是一颗 <code>二叉树</code></p>
</blockquote>
<p>同时，我们通过题意可知，<code>递归次数的下界</code>为 <code>0</code>，但 <code>递归次数的上界</code>未知。</p>
<p>我们做一个 <code>猜测</code>：如果 <code>递归次数</code>超过 <code>整数n</code>，则 <code>不太可能</code> 存在解。</p>
<p>于是，对于该方法，我们会按照 <code>深度优先搜索</code>的顺序来访问 <code>解空间树</code></p>
<blockquote>
<p>假设我们已知拥有了 <code>整颗解空间树 (二叉树)</code>。则实际上，我们会直观地发现，</p>
<p>我们会从 <code>树根</code>节点开始，沿着一条 <code>路径</code>做 <code>深度搜索</code>，直到抵达 <code>我们设定的最大层次 （也就是我们预测的递归次数的上界）</code>，再进行 <code>回溯</code>。（这个过程产生的方案是：我们设定的递归的最大深度f \rightarrow ff \rightarrow fff \cdots \rightarrow \underbrace{f\cdots f}_{我们设定的递归的最大深度}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">style fff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">style ffff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">ggg --&gt; gggg((g));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>当然，如果说，在 <code>沿着当前路径</code> <code>抵达人为设定的递归的最大深度</code>之前，我们 <code>幸运地</code>发现，已经找到了 <code>解</code>。</p>
<blockquote>
<p>但是请注意：这个 <code>解</code>并不一定是 <code>最优解</code>，因为我们实际上进行的是 <code>深度优先搜索</code>。</p>
<p><code>这个解</code>只不过是 <code>当前搜索路径</code>上的 <code>最优解</code>：因为在 <code>当前搜索路径</code>上，<code>该解</code>是 <code>第一个被发现的解</code>。</p>
<p>根据题目的性质，我们可以知道，<code>在该条路径上的后续发现的解</code> 并不会 <code>优于</code> <code>在该条路径上被发现的第一个解</code>。</p>
</blockquote>
</blockquote>
<p>如果，我们 <code>十分不幸运</code>，在 <code>沿着该条深度优先搜索路径</code> <code>抵达我们人为设定的最大递归深度</code>时，仍然 <code>未发现解</code>，</p>
<p>则此时我们方法会见 <code>回溯1步</code>：f\cdots fff \rightarrow f \cdots ffg</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">style fff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">style fffg fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">ggg --&gt; gggg((g));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果此时还 <code>未发现解</code>，则 <code>再回溯1步</code>：f\cdots ffg \rightarrow f\cdots fgf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">style ffg fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">style ffgf fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">ggg --&gt; gggg((g));</span><br></pre></td></tr></table></figure>

<p>如果仍然 <code>未发现解</code>，则 <code>再回溯一步</code>： f\cdots fgf \rightarrow f\cdots fgg</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">style ffg fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">style ffgg fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">ggg --&gt; gggg((g));</span><br></pre></td></tr></table></figure>
</blockquote>
<p>对此，我们发现一个 <code>比较严重的问题</code>。</p>
<p>我们观察到，该 <code>深度优先搜索</code>方法在 <code>每一个递归层次</code>都会 <code>按顺序执行</code>f(x)和g(x)，</p>
<p>所以，它会先 <code>沿着一条路径不断下降到</code> f \cdots fff</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">style fff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">style ffff fill:pink,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">ggg --&gt; gggg((g));</span><br></pre></td></tr></table></figure>

<p>如果，我们要寻找的 <code>最优解</code>它不是以f <code>作为前缀的</code>，</p>
<p>那么，我们对 <code>这整条深度优先搜索路径所做的搜索</code>的工作 <code>都是浪费的</code>！</p>
<p>更极端地，如果 <code>最优解</code>是 g \cdots ggg，那么，我们 <code>所做的绝大部分搜索</code>都将是 <code>无用的</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">style g fill:lightgreen,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">style gg fill:lightgreen,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">style ggg fill:lightgreen,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">ggg --&gt; gggg((g));</span><br><span class="line">style gggg fill:lightgreen,stroke:#333,stroke-width:4px</span><br></pre></td></tr></table></figure>

<p>不妨再考虑一个 <code>不幸运的情况</code>：<code>最优解</code> 如果是 <code>以g作为前缀</code>，但 <code>它的长度却比较小</code>。</p>
<p>那么我们也会做 <code>大部分没有意义的搜索</code>，因为该 <code>算法</code>不管 <code>最优解的长度有多么小</code>，都要按 <code>深度优先搜索</code>的方式，<code>不断下降（使转变函数序列的长度增长）</code>，不断 <code>下降</code>和 <code>回溯</code> 寻求解。(如果在 <code>下降过程</code>没有发现解，那么就只能通过 <code>回溯</code>后接着 <code>下降</code>，再继续寻找解)</p>
<h4 id="Iterative-Deepening-DFS"><a href="#Iterative-Deepening-DFS" class="headerlink" title="Iterative-Deepening DFS"></a>Iterative-Deepening DFS</h4><p>首先，我们解决一下 <code>这个不幸运的情况</code>：如果 <code>最优解</code>它足够短，我们希望 <code>搜索算法</code>不要 <code>下降到我们设定的最大深度</code>，然后通过 <code>逐步回溯</code>来发现这个 <code>长度较短的最优解</code>。而是说，我们希望让 <code>搜索算法</code>尽量找找看，有没有 <code>长度较短的解</code>，如果 <code>长度较短的解</code> <code>的确找不到</code>，那么我们再 <code>寻找长度较长的解</code></p>
<blockquote>
<p>实际上，根据这道题目的性质。我们也不应该采用 <code>深度优先搜索</code>。</p>
</blockquote>
<p>因此，我们可以使用 <code>迭代加深搜索 (Iterative-Deepening DFS)</code>：</p>
<ul>
<li>在 <code>深度为1的解空间树</code>中进行 <code>搜索</code>，若找到 <code>解</code>则立即返回。</li>
<li>在 <code>深度为2的解空间树</code>中进行 <code>搜索</code>，若找到 <code>解</code>则立即返回。</li>
<li>\cdots</li>
<li>在 <code>深度为k的解空间树</code> 中进行 <code>搜索</code>，若找到 <code>解</code>则立即返回。</li>
<li>在 <code>深度为k以内的解空间树</code>中 <code>无解</code>！</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:lightpink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">style fg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">style gf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">style gg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">style fff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">style ffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">style fgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">style fgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">style gff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">style gfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">style ggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">style ggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">style ffff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">style fffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">style ffgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">style ffgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">style fgff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">style fgfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">style fggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">style fggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">style gfff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">style gffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">style gfgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">style gfgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">style ggff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">style ggfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">style gggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggg((g));</span><br><span class="line">style gggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">style g fill:lightpink,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">style fg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">style gf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">style gg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">style fff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">style ffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">style fgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">style fgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">style gff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">style gfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">style ggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">style ggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">style ffff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">style fffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">style ffgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">style ffgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">style fgff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">style fgfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">style fggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">style fggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">style gfff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">style gffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">style gfgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">style gfgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">style ggff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">style ggfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">style gggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggg((g));</span><br><span class="line">style gggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:lightpink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">style ff fill:lightpink,stroke:#333,stroke-width:4px</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">style fff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">style ffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">style fgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">style fgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">style gff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">style gfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">style ggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">style ggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">style ffff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">style fffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">style ffgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">style ffgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">style fgff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">style fgfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">style fggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">style fggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">style gfff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">style gffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">style gfgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">style gfgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">style ggff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">style ggfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">style gggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggg((g));</span><br><span class="line">style gggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">root((root)) --&gt; f((f));</span><br><span class="line">style f fill:lightpink,stroke:#333,stroke-width:4px</span><br><span class="line">root((root)) --&gt; g((g));</span><br><span class="line">f --&gt; ff((f));</span><br><span class="line">f --&gt; fg((g));</span><br><span class="line">style fg fill:lightpink,stroke:#333,stroke-width:4px</span><br><span class="line">g --&gt; gf((f));</span><br><span class="line">g --&gt; gg((g));</span><br><span class="line">ff --&gt; fff((f));</span><br><span class="line">style fff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ff --&gt; ffg((g));</span><br><span class="line">style ffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgf((f));</span><br><span class="line">style fgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fg --&gt; fgg((g));</span><br><span class="line">style fgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gff((f));</span><br><span class="line">style gff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gf --&gt; gfg((g));</span><br><span class="line">style gfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggf((f));</span><br><span class="line">style ggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gg --&gt; ggg((g));</span><br><span class="line">style ggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; ffff((f));</span><br><span class="line">style ffff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fff --&gt; fffg((g));</span><br><span class="line">style fffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgf((f));</span><br><span class="line">style ffgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ffg --&gt; ffgg((g));</span><br><span class="line">style ffgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgff((f));</span><br><span class="line">style fgff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgf --&gt; fgfg((g));</span><br><span class="line">style fgfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggf((f));</span><br><span class="line">style fggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">fgg --&gt; fggg((g));</span><br><span class="line">style fggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gfff((f));</span><br><span class="line">style gfff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gff --&gt; gffg((g));</span><br><span class="line">style gffg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgf((f));</span><br><span class="line">style gfgf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">gfg --&gt; gfgg((g));</span><br><span class="line">style gfgg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggff((f));</span><br><span class="line">style ggff fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggf --&gt; ggfg((g));</span><br><span class="line">style ggfg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggf((f));</span><br><span class="line">style gggf fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line">ggg --&gt; gggg((g));</span><br><span class="line">style gggg fill:lightgray,stroke:#333,stroke-width:4px</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>\cdots</p>
<blockquote>
<p>注意两点：</p>
<ul>
<li><p>我们可以 <code>立即返回</code>是因为：根据 <code>题目性质</code>，要求求解 <code>最短/最小的解</code></p>
</li>
<li><p>算法最终 <code>报告无解</code>并不一定表示 <code>原问题无解</code>：这取决于 <code>我们设定的最大递归深度</code>k</p>
<blockquote>
<p>最大深度k的设定需要我们根据题目分析得到，它可以是 <code>静态的</code>，也可以是 <code>动态的</code>。</p>
<p>它可以是 <code>不确切的上界</code>，但至少我们希望 <code>要保证k足够大，使得不会遗漏解</code></p>
</blockquote>
</li>
</ul>
</blockquote>
<p>于是，我们需要做下面这些工作：</p>
<ul>
<li><p>定义 <code>递归次数的上界估计函数 (价值函数)</code>\implies \text{estimate(args) -&gt; int k }</p>
<blockquote>
<p>在 <code>DFS Method</code>中，我们并没有定义这个 <code>上界估计函数</code>，</p>
<p>因为我们偷偷看了输入数据 如果 <code>k的上界</code>非常大的话，对于 <code>DFS Method</code>方法是 <code>没有意义的</code>，</p>
<p>因为根据 <code>DFS</code>和 <code>该问题的特性</code>，<code>所产生的DFS树</code>会 <code>迅速膨胀</code>到 <code>我们无法在规定时间内求得解</code>，而这个 <code>非常大的k值</code>也 <code>根本不会被触碰到</code></p>
</blockquote>
<blockquote>
<p>对于 <code>IDDFS</code>，我们可以根据 <code>题目性质</code> 设置 <code>合适的上界估计函数</code>。</p>
<blockquote>
<p>但要注意，如果 <code>最优解</code>的 <code>深度</code>确实很大，那么 <code>IDDFS</code>也会面临 <code>DFS树</code> <code>迅速膨胀</code> 的 <code>困境</code></p>
<blockquote>
<p>不过，<code>IDDFS</code>对于 <code>最优解的深度较小的情况</code>是非常适合的。</p>
</blockquote>
</blockquote>
</blockquote>
</li>
<li><p>根据 <code>题目性质</code>为 <code>递归方法</code> 定义 <code>所需的全局变量</code></p>
<blockquote>
<p>我们当然可以使用 <code>递归方法所属的方法栈的局部内存</code>来存储 <code>所需要的变量</code></p>
<ul>
<li>但是，这往往会导致 <code>重复拷贝和传递相同的参数</code>和 <code>产生大量结构高度相似的冗余信息</code></li>
</ul>
<p>这不仅仅是 <code>空间</code>上的问题，还包括做这些工作所用的 <code>时间</code></p>
<blockquote>
<p>如果你使用的是 <code>C/C++</code>等提供 <code>指针/引用</code>的 <code>编程语言</code>，可能会有些 <code>奇怪的想法</code>。</p>
<p>但请重新考虑一下：<code>一个4字节的指针</code>并不会比 <code>一个4字节的整数</code>更节约空间。</p>
</blockquote>
<blockquote>
<p>一般来说，<code>每个递归方法的一个帧栈</code>如果 <code>只做一个选择</code>，那么我们实际上只需要 <code>保存所做的选择</code>和 <code>当前深度</code>即可。</p>
<blockquote>
<p>比如说，要求 <code>每一个递归方法的函数调用帧栈</code> 进行 <code>选择一个数字</code>，<code>选择一个转变函数</code>等等。</p>
</blockquote>
</blockquote>
<ul>
<li>使用 <code>递归函数的函数调用帧栈</code>但 <code>仅保存必要信息</code></li>
</ul>
<p>该方法可行，但 <code>回溯</code>时会稍微麻烦一些，仍然不如直接使用 <code>全局变量</code></p>
</blockquote>
</li>
<li><p>按k递增方式执行k次 <code>DFS</code> \implies \text{search(k) -&gt; bool found}</p>
<blockquote>
<p>之所以能够在 <code>第一次发现解</code>后 <code>判定该解就是最优解</code>并 <code>终止算法</code>是取决于 <code>题目性质</code></p>
<p>如果 <code>题目所求的最优解</code> 与 <code>递归的深度</code>（也就是<code>最优解和长度无关</code>）无关，那么 <code>IDDFS</code>可能并不会更有效。</p>
</blockquote>
</li>
<li><p>若<code>第一次发现任何解</code>则 <code>立即终止搜索</code>并 <code>返回该解</code> ， 否则报告 <code>无解</code></p>
</li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><h4 id="DFS-1"><a href="#DFS-1" class="headerlink" title="DFS"></a>DFS</h4><h5 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span> * i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">g</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> i / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String ans_string;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m, <span class="type">int</span> limit, String ops)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Base Case</span></span><br><span class="line">    <span class="keyword">if</span> ((n == m)  (n == <span class="number">0</span>)  (m == <span class="number">0</span>)  (ops.length() &gt; ans_string.length())  limit &gt;= <span class="number">30</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n == m) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ops.length() &lt; ans_string.length()) &#123;</span><br><span class="line">                ans_string = ops;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Recursion Case</span></span><br><span class="line">    solve(f(n), m, limit + <span class="number">1</span>, <span class="string">&quot;f&quot;</span> + ops);</span><br><span class="line">    solve(g(n), m, limit + <span class="number">1</span>, <span class="string">&quot;g&quot;</span> + ops);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Benchmark"><a href="#Benchmark" class="headerlink" title="Benchmark"></a>Benchmark</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC0.in</span> <span class="string">&amp;</span> <span class="string">FUNC0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">15</span> <span class="number">4</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">4</span>, <span class="string">gfgg</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">4</span>, <span class="string">gfgg</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">157.343000</span> <span class="string">ms</span> <span class="string">(157343000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC1.in</span> <span class="string">&amp;</span> <span class="string">FUNC1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">115</span> <span class="number">8</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">9</span>, <span class="string">gggggggff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">9</span>, <span class="string">gggggggff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3852.005300 </span><span class="string">ms</span> <span class="string">(3852005300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC10.in</span> <span class="string">&amp;</span> <span class="string">FUNC10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">11838</span> <span class="number">127878</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">ggffffggggfgggfffffgggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">ggffffggggfgggfffffgggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">15302.874100</span> <span class="string">ms</span> <span class="string">(15302874100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC2.in</span> <span class="string">&amp;</span> <span class="string">FUNC2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">82</span> <span class="number">54</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">8</span>, <span class="string">fffggggg</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">8</span>, <span class="string">fffggggg</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">295.231800</span> <span class="string">ms</span> <span class="string">(295231800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC3.in</span> <span class="string">&amp;</span> <span class="string">FUNC3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">56</span> <span class="number">125</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">22</span>, <span class="string">ggggggffffffgggggggfff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">22</span>, <span class="string">ggggggffffffgggggggfff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3743.782100 </span><span class="string">ms</span> <span class="string">(3743782100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC4.in</span> <span class="string">&amp;</span> <span class="string">FUNC4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">115</span> <span class="number">111</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">18</span>, <span class="string">fgfgfgggggfffggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">18</span>, <span class="string">fgfgfgggggfffggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">13528.005700</span> <span class="string">ms</span> <span class="string">(13528005700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC5.in</span> <span class="string">&amp;</span> <span class="string">FUNC5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">210</span> <span class="number">24907</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">24</span>, <span class="string">gffgggggfffffffffggggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">24</span>, <span class="string">gffgggggfffffffffggggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">14796.151600</span> <span class="string">ms</span> <span class="string">(14796151600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC6.in</span> <span class="string">&amp;</span> <span class="string">FUNC6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50961</span> <span class="number">91791</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">fggffffgggggggggggggfffff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">fggffffgggggggggggggfffff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2660.372100 </span><span class="string">ms</span> <span class="string">(2660372100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC7.in</span> <span class="string">&amp;</span> <span class="string">FUNC7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">59338</span> <span class="number">486</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">22</span>, <span class="string">fffffggggggggggggggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">22</span>, <span class="string">fffffggggggggggggggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2700.998700 </span><span class="string">ms</span> <span class="string">(2700998700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC8.in</span> <span class="string">&amp;</span> <span class="string">FUNC8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">53530</span> <span class="number">750062539</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">gfgfgfffffffffggfgggggfff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">gfgfgfffffffffggfgggggfff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">5185.903400 </span><span class="string">ms</span> <span class="string">(5185903400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC9.in</span> <span class="string">&amp;</span> <span class="string">FUNC9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">96418</span> <span class="number">37529284</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">gffffffgggggggggggfffffff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">gffffffgggggggggggfffffff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2065.022700 </span><span class="string">ms</span> <span class="string">(2065022700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h4 id="Iterative-Deepening-DFS-1"><a href="#Iterative-Deepening-DFS-1" class="headerlink" title="Iterative Deepening DFS"></a>Iterative Deepening DFS</h4><h5 id="Source-1"><a href="#Source-1" class="headerlink" title="Source"></a>Source</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span> * i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">g</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> i / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global Variable */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> n;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> m;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> k;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span>[] performF;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">estimate</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">found</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (performF[i]) &#123;</span><br><span class="line">            value = f(value);</span><br><span class="line">        &#125; <span class="keyword">else</span> value = g(value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value == m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCurrentPlan</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        System.out.print(performF[i] ? <span class="string">&quot;f&quot;</span> : <span class="string">&quot;g&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span> depth)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Base Case */</span></span><br><span class="line">    <span class="keyword">if</span> (depth &gt;= k) &#123;</span><br><span class="line">        <span class="keyword">return</span> found();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Recursion Case */</span></span><br><span class="line">    <span class="comment">// At any depth, we can have 2 choices:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Perform f */</span></span><br><span class="line">    performF[depth] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (search(depth + <span class="number">1</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Perform g */</span></span><br><span class="line">    performF[depth] = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (search(depth + <span class="number">1</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If we can&#x27;t perform either f or g, we backtrack</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(Scanner scanner)</span> &#123;</span><br><span class="line">    n = scanner.nextInt();</span><br><span class="line">    m = scanner.nextInt();</span><br><span class="line">    <span class="type">int</span> <span class="variable">estimate</span> <span class="operator">=</span> estimate(n, m);</span><br><span class="line">    performF = <span class="keyword">new</span> <span class="title class_">boolean</span>[estimate + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* K-Search */</span></span><br><span class="line">    <span class="comment">// k means perform tiems</span></span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt;= estimate; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (search(<span class="number">0</span>)) &#123;</span><br><span class="line">            System.out.println(k);</span><br><span class="line">            printCurrentPlan();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Benchmark-1"><a href="#Benchmark-1" class="headerlink" title="Benchmark"></a>Benchmark</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC0.in</span> <span class="string">&amp;</span> <span class="string">FUNC0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">15</span> <span class="number">4</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">4</span>, <span class="string">gfgg</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">4</span>, <span class="string">gfgg</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.844700</span> <span class="string">ms</span> <span class="string">(3844700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC1.in</span> <span class="string">&amp;</span> <span class="string">FUNC1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">115</span> <span class="number">8</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">9</span>, <span class="string">gggggggff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">9</span>, <span class="string">gggggggff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.549000</span> <span class="string">ms</span> <span class="string">(1549000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC10.in</span> <span class="string">&amp;</span> <span class="string">FUNC10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">11838</span> <span class="number">127878</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">ggffffggggfgggfffffgggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">ggffffggggfgggfffffgggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2137.224700 </span><span class="string">ms</span> <span class="string">(2137224700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC2.in</span> <span class="string">&amp;</span> <span class="string">FUNC2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">82</span> <span class="number">54</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">8</span>, <span class="string">fffggggg</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">8</span>, <span class="string">fffggggg</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">0.945200</span> <span class="string">ms</span> <span class="string">(945200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC3.in</span> <span class="string">&amp;</span> <span class="string">FUNC3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">56</span> <span class="number">125</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">22</span>, <span class="string">ggggggffffffgggggggfff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">22</span>, <span class="string">ggggggffffffgggggggfff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">193.517300</span> <span class="string">ms</span> <span class="string">(193517300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC4.in</span> <span class="string">&amp;</span> <span class="string">FUNC4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">115</span> <span class="number">111</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">18</span>, <span class="string">fgfgfgggggfffggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">18</span>, <span class="string">fgfgfgggggfffggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">16.105000</span> <span class="string">ms</span> <span class="string">(16105000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC5.in</span> <span class="string">&amp;</span> <span class="string">FUNC5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">210</span> <span class="number">24907</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">24</span>, <span class="string">gffgggggfffffffffggggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">24</span>, <span class="string">gffgggggfffffffffggggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1017.764000 </span><span class="string">ms</span> <span class="string">(1017764000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC6.in</span> <span class="string">&amp;</span> <span class="string">FUNC6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">50961</span> <span class="number">91791</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">fggffffgggggggggggggfffff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">fggffffgggggggggggggfffff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1749.323400 </span><span class="string">ms</span> <span class="string">(1749323400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC7.in</span> <span class="string">&amp;</span> <span class="string">FUNC7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">59338</span> <span class="number">486</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">22</span>, <span class="string">fffffggggggggggggggggf</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">22</span>, <span class="string">fffffggggggggggggggggf</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">256.666400</span> <span class="string">ms</span> <span class="string">(256666400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC8.in</span> <span class="string">&amp;</span> <span class="string">FUNC8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">53530</span> <span class="number">750062539</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">gfgfgfffffffffggfgggggfff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">gfgfgfffffffffggfgggggfff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1587.514600 </span><span class="string">ms</span> <span class="string">(1587514600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">FUNC9.in</span> <span class="string">&amp;</span> <span class="string">FUNC9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">96418</span> <span class="number">37529284</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">25</span>, <span class="string">gffffffgggggggggggfffffff</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">25</span>, <span class="string">gffffffgggggggggggfffffff</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1395.128700 </span><span class="string">ms</span> <span class="string">(1395128700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>

<h2 id="Computation-without-Priority-Problem"><a href="#Computation-without-Priority-Problem" class="headerlink" title="Computation without Priority Problem"></a>Computation without Priority Problem</h2><h3 id="Description-1"><a href="#Description-1" class="headerlink" title="Description"></a>Description</h3><p>给定 n 个正整数和 4 个运算符＋、－、∗、&#x2F;，且运算符无优先级，如 2+3∗5&#x3D;25。对于 任意给定的整数 m，试设计一个算法，用以上给出的 n 个数和 4 个运算符，产生整数 m， 且用的运算次数最少。给出的 n 个数中每个数最多只能用 1 次，但每种运算符可以任意使用。</p>
<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><p>对于给定的 n 个正整数，设计一个算法，用最少的无优先级运算次数产生整数 m。</p>
<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><p>由文件 input.txt 给出输入数据。第一行有 2 个正整数 n 和 m。第 2 行是给定的用于运算 的 n 个正整数。</p>
<h3 id="Sample-1"><a href="#Sample-1" class="headerlink" title="Sample"></a>Sample</h3><p><strong>输入文件示例</strong></p>
<p>input.txt</p>
<p>5 25 5 2 3 6 7</p>
<p><strong>输出文件示例</strong></p>
<p>output.txt</p>
<p>2 2+3*5</p>
<h3 id="Analysis-1"><a href="#Analysis-1" class="headerlink" title="Analysis"></a>Analysis</h3><h4 id="DFS-2"><a href="#DFS-2" class="headerlink" title="DFS"></a>DFS</h4><p>我们给出该问题的 <code>BFS Method</code>，该解法使用 <code>Token</code>存储 <code>已使用的数字</code>和 <code>参与运算的运算符</code>信息。</p>
<p><code>递归过程</code>维护 <code>Token的链表</code>，通过 <code>遍历Token链表</code>来获得一个 <code>运算方案</code>。</p>
<h4 id="IDDFS"><a href="#IDDFS" class="headerlink" title="IDDFS"></a>IDDFS</h4><p>不同于 <code>Integer Transformation Problem</code>的 <code>递归过程</code>：在 <code>DFS树</code>的 <code>每一层</code>只需要选择 <code>转变方法</code></p>
<p><code>Computation without Priority Problem</code>的 <code>递归过程</code>：在 <code>DFS树</code>的 <code>每一层</code> 不但要选择 <code>使用的数字</code>，还要选择 <code>使用的运算符</code></p>
<blockquote>
<p>不过，这并没有什么不同。因为，我们使用的是 <code>回溯法</code>。</p>
<p>我们只管 <code>尝试所有可能的选法</code>，如果最终 <code>发现</code>确实 <code>DFS树的某层的选择</code>确实是错的，</p>
<p>那么我们进行 <code>回溯</code>即可！然后继续寻找 <code>问题的解</code></p>
</blockquote>
<blockquote>
<p>另外，这里我们不讨论 <code>剪枝</code>的问题，尽管使用 <code>剪枝</code>可以再进一步优化该方法。</p>
</blockquote>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h3><h4 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h4><h5 id="Source-2"><a href="#Source-2" class="headerlink" title="Source"></a>Source</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Operators</span> &#123;</span><br><span class="line">    ADDICTION(<span class="string">&quot;+&quot;</span>), SUBTRACTION(<span class="string">&quot;-&quot;</span>), MULTIPLICATION(<span class="string">&quot;*&quot;</span>), DIVISION(<span class="string">&quot;/&quot;</span>), NONE(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String operatorString;</span><br><span class="line"></span><br><span class="line">    Operators(String operatorString) &#123;</span><br><span class="line">        <span class="built_in">this</span>.operatorString = operatorString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.operatorString;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Token</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Token parent;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> value;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> operand;</span><br><span class="line">    <span class="keyword">public</span> String operator;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Token</span><span class="params">(Token parent, <span class="type">int</span> value, <span class="type">int</span> operand, String operator)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.parent = parent;</span><br><span class="line">        <span class="built_in">this</span>.value = value;</span><br><span class="line">        <span class="built_in">this</span>.operand = operand;</span><br><span class="line">        <span class="built_in">this</span>.operator = operator;</span><br><span class="line">        <span class="built_in">this</span>.length = parent != <span class="literal">null</span> ? parent.length + <span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title function_">listUsedOperands</span><span class="params">()</span> &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; operands = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Token</span> <span class="variable">current</span> <span class="operator">=</span> <span class="built_in">this</span>;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">null</span>) &#123;</span><br><span class="line">            operands.add(current.operand);</span><br><span class="line">            current = current.parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> operands;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPath</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        getPath(sb, <span class="built_in">this</span>);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">getPath</span><span class="params">(StringBuilder sb, Token currentToken)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentToken != <span class="literal">null</span>) &#123;</span><br><span class="line">            getPath(sb, currentToken.parent);</span><br><span class="line">            sb.append(currentToken.operator).append(currentToken.operand);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getPath();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Current Case: ARIT0.in &amp; ARIT0.out</span></span><br><span class="line"><span class="comment">Expected  Input: [5 25, 5 2 3 6 7]</span></span><br><span class="line"><span class="comment">Expected Output: [2, 2+3*5]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">5 2 3 6 7</span></span><br><span class="line"><span class="comment">0 0 0 0 0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Token <span class="title function_">solve</span><span class="params">(ArrayList&lt;Integer&gt; nums, <span class="type">int</span> m)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Initialize the tokens */</span></span><br><span class="line">    LinkedList&lt;Token&gt; tokens = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">        <span class="comment">// If we are lucky enough...</span></span><br><span class="line">        <span class="keyword">if</span> (num == m) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Token</span>(<span class="literal">null</span>, m, m, Operators.NONE.toString());</span><br><span class="line">        tokens.add(<span class="keyword">new</span> <span class="title class_">Token</span>(<span class="literal">null</span>, num, num, Operators.NONE.toString()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Brute-Force-Search */</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">level</span> <span class="operator">=</span> <span class="number">0</span>; level &lt; nums.size(); level++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">SIZE</span> <span class="operator">=</span> tokens.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">amount</span> <span class="operator">=</span> <span class="number">0</span>; amount &lt; SIZE; amount++) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Get the first token */</span></span><br><span class="line">            <span class="type">Token</span> <span class="variable">currentToken</span> <span class="operator">=</span> tokens.poll();</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Generate tokens */</span></span><br><span class="line">            <span class="comment">// Get unused nums</span></span><br><span class="line">            ArrayList&lt;Integer&gt; unusedNums = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(nums);</span><br><span class="line">            currentToken.listUsedOperands().forEach(unusedNums::remove);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Try all operators</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> num : unusedNums) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (Operators operator : Operators.values()) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (operator == Operators.NONE) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="type">int</span> newValue;</span><br><span class="line">                    <span class="keyword">switch</span> (operator) &#123;</span><br><span class="line">                        <span class="keyword">case</span> ADDICTION:</span><br><span class="line">                            newValue = currentToken.value + num;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> SUBTRACTION:</span><br><span class="line">                            newValue = currentToken.value - num;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> MULTIPLICATION:</span><br><span class="line">                            newValue = currentToken.value * num;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> DIVISION:</span><br><span class="line">                            newValue = currentToken.value / num;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">default</span>:</span><br><span class="line">                            newValue = <span class="number">0xdead</span>;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">/* Push */</span></span><br><span class="line">                    <span class="type">Token</span> <span class="variable">newToken</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Token</span>(currentToken, newValue, num, operator.toString());</span><br><span class="line"></span><br><span class="line">                    <span class="comment">/* Found ? */</span></span><br><span class="line">                    <span class="keyword">if</span> (newToken.value == m) &#123;</span><br><span class="line">                        <span class="keyword">return</span> newToken;</span><br><span class="line">                    &#125; <span class="keyword">else</span> tokens.add(newToken);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Benchmark-2"><a href="#Benchmark-2" class="headerlink" title="Benchmark"></a>Benchmark</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT0.in</span> <span class="string">&amp;</span> <span class="string">ARIT0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">5</span> <span class="number">25</span>, <span class="number">5</span> <span class="number">2</span> <span class="number">3</span> <span class="number">6</span> <span class="number">7</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">2</span><span class="string">+3*5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">2</span><span class="string">+3*5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">7.099500</span> <span class="string">ms</span> <span class="string">(7099500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT1.in</span> <span class="string">&amp;</span> <span class="string">ARIT1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">30</span> <span class="number">2894</span>, <span class="number">2</span> <span class="number">40</span> <span class="number">2</span> <span class="number">50</span> <span class="number">48</span> <span class="number">23</span> <span class="number">39</span> <span class="number">26</span> <span class="number">23</span> <span class="number">42</span> <span class="number">36</span> <span class="number">29</span> <span class="number">35</span> <span class="number">17</span> <span class="number">39</span> <span class="number">16</span> <span class="number">48</span> <span class="number">12</span> <span class="number">45</span> <span class="number">20</span> <span class="number">35</span> <span class="number">19</span> <span class="number">20</span> <span class="number">3</span> <span class="number">15</span> <span class="number">42</span> <span class="number">1</span> <span class="number">49</span> <span class="number">45</span> <span class="number">10</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">40</span><span class="string">+39*36+50</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">40</span><span class="string">+39*36+50</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">477.980500</span> <span class="string">ms</span> <span class="string">(477980500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT10.in</span> <span class="string">&amp;</span> <span class="string">ARIT10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">6</span> <span class="number">721</span>, <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">5</span>, <span class="number">2</span><span class="string">*3*4*5*6+1</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">5</span>, <span class="number">2</span><span class="string">*3*4*5*6+1</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">38.360500</span> <span class="string">ms</span> <span class="string">(38360500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT2.in</span> <span class="string">&amp;</span> <span class="string">ARIT2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">21</span> <span class="number">11573</span>, <span class="number">16</span> <span class="number">17</span> <span class="number">3</span> <span class="number">12</span> <span class="number">24</span> <span class="number">49</span> <span class="number">25</span> <span class="number">18</span> <span class="number">28</span> <span class="number">5</span> <span class="number">38</span> <span class="number">8</span> <span class="number">22</span> <span class="number">3</span> <span class="number">11</span> <span class="number">11</span> <span class="number">16</span> <span class="number">21</span> <span class="number">4</span> <span class="number">11</span> <span class="number">32</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">4</span>, <span class="number">16</span><span class="string">+3*38*16+21</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">4</span>, <span class="number">16</span><span class="string">*17+32*38+21</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">7109.397600 </span><span class="string">ms</span> <span class="string">(7109397600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT3.in</span> <span class="string">&amp;</span> <span class="string">ARIT3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">8</span> <span class="number">1554</span>, <span class="number">32</span> <span class="number">23</span> <span class="number">1</span> <span class="number">1</span> <span class="number">26</span> <span class="number">33</span> <span class="number">28</span> <span class="number">5</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">33</span><span class="string">+28*26-32</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">33</span><span class="string">+28*26-32</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.193600</span> <span class="string">ms</span> <span class="string">(3193600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT4.in</span> <span class="string">&amp;</span> <span class="string">ARIT4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">41</span> <span class="number">48</span>, <span class="number">34</span> <span class="number">44</span> <span class="number">38</span> <span class="number">38</span> <span class="number">28</span> <span class="number">38</span> <span class="number">39</span> <span class="number">45</span> <span class="number">34</span> <span class="number">19</span> <span class="number">13</span> <span class="number">4</span> <span class="number">36</span> <span class="number">41</span> <span class="number">32</span> <span class="number">30</span> <span class="number">8</span> <span class="number">31</span> <span class="number">10</span> <span class="number">15</span> <span class="number">32</span> <span class="number">27</span> <span class="number">34</span> <span class="number">38</span> <span class="number">4</span> <span class="number">42</span> <span class="number">35</span> <span class="number">49</span> <span class="number">23</span> <span class="number">27</span> <span class="number">18</span> <span class="number">30</span> <span class="number">9</span> <span class="number">6</span> <span class="number">2</span> <span class="number">47</span> <span class="number">47</span> <span class="number">16</span> <span class="number">48</span> <span class="number">9</span> <span class="number">17</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">0</span>, <span class="number">48</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">0</span>, <span class="number">48</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.859300</span> <span class="string">ms</span> <span class="string">(1859300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT5.in</span> <span class="string">&amp;</span> <span class="string">ARIT5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">17</span> <span class="number">11787</span>, <span class="number">3</span> <span class="number">9</span> <span class="number">37</span> <span class="number">7</span> <span class="number">7</span> <span class="number">11</span> <span class="number">32</span> <span class="number">48</span> <span class="number">34</span> <span class="number">3</span> <span class="number">31</span> <span class="number">20</span> <span class="number">27</span> <span class="number">38</span> <span class="number">19</span> <span class="number">27</span> <span class="number">17</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">31</span><span class="string">*20*19+7</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">31</span><span class="string">*20*19+7</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">47.619500</span> <span class="string">ms</span> <span class="string">(47619500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT6.in</span> <span class="string">&amp;</span> <span class="string">ARIT6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">4</span> <span class="number">24</span>, <span class="number">1</span> <span class="number">1</span> <span class="number">10</span> <span class="number">7</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">1</span><span class="string">+1*7+10</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">1</span><span class="string">+1*7+10</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.087000</span> <span class="string">ms</span> <span class="string">(1087000</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT7.in</span> <span class="string">&amp;</span> <span class="string">ARIT7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">18</span> <span class="number">2553</span>, <span class="number">32</span> <span class="number">48</span> <span class="number">3</span> <span class="number">42</span> <span class="number">7</span> <span class="number">34</span> <span class="number">12</span> <span class="number">29</span> <span class="number">3</span> <span class="number">50</span> <span class="number">30</span> <span class="number">35</span> <span class="number">22</span> <span class="number">13</span> <span class="number">35</span> <span class="number">9</span> <span class="number">11</span> <span class="number">20</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">32</span><span class="string">+29*42-9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">32</span><span class="string">+29*42-9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">3.876700</span> <span class="string">ms</span> <span class="string">(3876700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT8.in</span> <span class="string">&amp;</span> <span class="string">ARIT8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">6</span> <span class="number">1234</span>, <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="literal">No</span> <span class="string">Solution!</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="literal">No</span> <span class="string">Solution!</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1250.530200 </span><span class="string">ms</span> <span class="string">(1250530200</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT9.in</span> <span class="string">&amp;</span> <span class="string">ARIT9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">27</span> <span class="number">9546</span>, <span class="number">10</span> <span class="number">5</span> <span class="number">30</span> <span class="number">1</span> <span class="number">14</span> <span class="number">49</span> <span class="number">8</span> <span class="number">19</span> <span class="number">44</span> <span class="number">21</span> <span class="number">23</span> <span class="number">35</span> <span class="number">26</span> <span class="number">7</span> <span class="number">35</span> <span class="number">3</span> <span class="number">27</span> <span class="number">18</span> <span class="number">5</span> <span class="number">15</span> <span class="number">49</span> <span class="number">23</span> <span class="number">8</span> <span class="number">44</span> <span class="number">48</span> <span class="number">49</span> <span class="number">47</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">4</span>, <span class="number">10</span><span class="string">+14*19*21-30</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">4</span>, <span class="number">10</span><span class="string">*30-26*35-44</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">33963.559100</span> <span class="string">ms</span> <span class="string">(33963559100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Wrong</span> <span class="string">Answer.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">×</span> </span><br></pre></td></tr></table></figure>

<h4 id="Iterative-Deeping-DFS"><a href="#Iterative-Deeping-DFS" class="headerlink" title="Iterative-Deeping DFS"></a>Iterative-Deeping DFS</h4><h5 id="Source-3"><a href="#Source-3" class="headerlink" title="Source"></a>Source</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Global Variables */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">enum</span> <span class="title class_">Operators</span> &#123;</span><br><span class="line">    ADDICTION(<span class="string">&quot;+&quot;</span>), SUBTRACTION(<span class="string">&quot;-&quot;</span>), MULTIPLICATION(<span class="string">&quot;*&quot;</span>), DIVISION(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String operatorString;</span><br><span class="line"></span><br><span class="line">    Operators(String operatorString) &#123;</span><br><span class="line">        <span class="built_in">this</span>.operatorString = operatorString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.operatorString;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> k;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> n;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> m;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] nums;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span>[] used;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] operands;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] operators;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printCurrentPlan</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// for n numbers, we can use k \in &#123;0, 1, 2, ..., n-1&#125; operators</span></span><br><span class="line">    <span class="comment">// k = 0 means that we don&#x27;t need to use any operators</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span>) System.out.print(Operators.values()[operators[i - <span class="number">1</span>]]);</span><br><span class="line">        System.out.print(operands[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">found</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0xdead</span>;</span><br><span class="line">    <span class="comment">// k means the number of operands</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= k; i++) &#123;</span><br><span class="line">        <span class="comment">// Push the first operand</span></span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">            sum = operands[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Actually, we won&#x27;t use the last index of operator</span></span><br><span class="line">        <span class="comment">// And if we only have one operand, we won&#x27;t need to calc any operators. (just ignore the only operator at index 0)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">operator</span> <span class="operator">=</span> operators[i - <span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">operand</span> <span class="operator">=</span> operands[i];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Calculate</span></span><br><span class="line">        <span class="keyword">switch</span> (Operators.values()[operator]) &#123;</span><br><span class="line">            <span class="keyword">case</span> ADDICTION:</span><br><span class="line">                sum += operand;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SUBTRACTION:</span><br><span class="line">                sum -= operand;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> MULTIPLICATION:</span><br><span class="line">                sum *= operand;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> DIVISION:</span><br><span class="line">                sum /= operand;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sum == m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span> depth)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Base Case */</span></span><br><span class="line">    <span class="keyword">if</span> (depth &gt; k) &#123;</span><br><span class="line">        <span class="keyword">return</span> found();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Recursive Case */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// We can choose any of the unused numbers !</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="comment">// Skip the number if we have used it.</span></span><br><span class="line">        <span class="keyword">if</span> (used[i]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span> used[i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Use the number</span></span><br><span class="line">        operands[depth] = nums[i];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Also, we can use any of the operators !</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; Operators.values().length; j++) &#123;</span><br><span class="line">            <span class="comment">// Use the operator</span></span><br><span class="line">            operators[depth] = Operators.values()[j].ordinal();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Go !</span></span><br><span class="line">            <span class="keyword">if</span> (search(depth + <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="comment">// if not found, the recursion should go ahead</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Free it !</span></span><br><span class="line">        used[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(Scanner scanner)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Initialize */</span></span><br><span class="line">    n = scanner.nextInt();</span><br><span class="line">    nums = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    used = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    operands = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">    operators = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line"></span><br><span class="line">    m = scanner.nextInt();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        nums[i] = scanner.nextInt();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* k-search */</span></span><br><span class="line">    <span class="comment">// k is the number of operands</span></span><br><span class="line">    <span class="comment">// for n, k = 0, 1, 2, ..., n-1</span></span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; nums.length; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (search(<span class="number">0</span>)) &#123;</span><br><span class="line">            System.out.println(k);</span><br><span class="line">            printCurrentPlan();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;No Solution!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Benchmark-3"><a href="#Benchmark-3" class="headerlink" title="Benchmark"></a>Benchmark</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT0.in</span> <span class="string">&amp;</span> <span class="string">ARIT0.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">5</span> <span class="number">25</span>, <span class="number">5</span> <span class="number">2</span> <span class="number">3</span> <span class="number">6</span> <span class="number">7</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">2</span>, <span class="number">2</span><span class="string">+3*5</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">2</span>, <span class="number">2</span><span class="string">+3*5</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">6.820100</span> <span class="string">ms</span> <span class="string">(6820100</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT1.in</span> <span class="string">&amp;</span> <span class="string">ARIT1.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">30</span> <span class="number">2894</span>, <span class="number">2</span> <span class="number">40</span> <span class="number">2</span> <span class="number">50</span> <span class="number">48</span> <span class="number">23</span> <span class="number">39</span> <span class="number">26</span> <span class="number">23</span> <span class="number">42</span> <span class="number">36</span> <span class="number">29</span> <span class="number">35</span> <span class="number">17</span> <span class="number">39</span> <span class="number">16</span> <span class="number">48</span> <span class="number">12</span> <span class="number">45</span> <span class="number">20</span> <span class="number">35</span> <span class="number">19</span> <span class="number">20</span> <span class="number">3</span> <span class="number">15</span> <span class="number">42</span> <span class="number">1</span> <span class="number">49</span> <span class="number">45</span> <span class="number">10</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">40</span><span class="string">+39*36+50</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">40</span><span class="string">+39*36+50</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">473.039600</span> <span class="string">ms</span> <span class="string">(473039600</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT10.in</span> <span class="string">&amp;</span> <span class="string">ARIT10.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">6</span> <span class="number">721</span>, <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">5</span>, <span class="number">2</span><span class="string">*3*4*5*6+1</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">5</span>, <span class="number">2</span><span class="string">*3*4*5*6+1</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">266.458500</span> <span class="string">ms</span> <span class="string">(266458500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT2.in</span> <span class="string">&amp;</span> <span class="string">ARIT2.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">21</span> <span class="number">11573</span>, <span class="number">16</span> <span class="number">17</span> <span class="number">3</span> <span class="number">12</span> <span class="number">24</span> <span class="number">49</span> <span class="number">25</span> <span class="number">18</span> <span class="number">28</span> <span class="number">5</span> <span class="number">38</span> <span class="number">8</span> <span class="number">22</span> <span class="number">3</span> <span class="number">11</span> <span class="number">11</span> <span class="number">16</span> <span class="number">21</span> <span class="number">4</span> <span class="number">11</span> <span class="number">32</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">4</span>, <span class="number">16</span><span class="string">+3*38*16+21</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">4</span>, <span class="number">16</span><span class="string">+3*38*16+21</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">2210.722500 </span><span class="string">ms</span> <span class="string">(2210722500</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT3.in</span> <span class="string">&amp;</span> <span class="string">ARIT3.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">8</span> <span class="number">1554</span>, <span class="number">32</span> <span class="number">23</span> <span class="number">1</span> <span class="number">1</span> <span class="number">26</span> <span class="number">33</span> <span class="number">28</span> <span class="number">5</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">33</span><span class="string">+28*26-32</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">33</span><span class="string">+28*26-32</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">17.388700</span> <span class="string">ms</span> <span class="string">(17388700</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT4.in</span> <span class="string">&amp;</span> <span class="string">ARIT4.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">41</span> <span class="number">48</span>, <span class="number">34</span> <span class="number">44</span> <span class="number">38</span> <span class="number">38</span> <span class="number">28</span> <span class="number">38</span> <span class="number">39</span> <span class="number">45</span> <span class="number">34</span> <span class="number">19</span> <span class="number">13</span> <span class="number">4</span> <span class="number">36</span> <span class="number">41</span> <span class="number">32</span> <span class="number">30</span> <span class="number">8</span> <span class="number">31</span> <span class="number">10</span> <span class="number">15</span> <span class="number">32</span> <span class="number">27</span> <span class="number">34</span> <span class="number">38</span> <span class="number">4</span> <span class="number">42</span> <span class="number">35</span> <span class="number">49</span> <span class="number">23</span> <span class="number">27</span> <span class="number">18</span> <span class="number">30</span> <span class="number">9</span> <span class="number">6</span> <span class="number">2</span> <span class="number">47</span> <span class="number">47</span> <span class="number">16</span> <span class="number">48</span> <span class="number">9</span> <span class="number">17</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">0</span>, <span class="number">48</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">0</span>, <span class="number">48</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.912900</span> <span class="string">ms</span> <span class="string">(1912900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT5.in</span> <span class="string">&amp;</span> <span class="string">ARIT5.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">17</span> <span class="number">11787</span>, <span class="number">3</span> <span class="number">9</span> <span class="number">37</span> <span class="number">7</span> <span class="number">7</span> <span class="number">11</span> <span class="number">32</span> <span class="number">48</span> <span class="number">34</span> <span class="number">3</span> <span class="number">31</span> <span class="number">20</span> <span class="number">27</span> <span class="number">38</span> <span class="number">19</span> <span class="number">27</span> <span class="number">17</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">31</span><span class="string">*20*19+7</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">31</span><span class="string">*20*19+7</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">510.196400</span> <span class="string">ms</span> <span class="string">(510196400</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT6.in</span> <span class="string">&amp;</span> <span class="string">ARIT6.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">4</span> <span class="number">24</span>, <span class="number">1</span> <span class="number">1</span> <span class="number">10</span> <span class="number">7</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">1</span><span class="string">+1*7+10</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">1</span><span class="string">+1*7+10</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">1.734900</span> <span class="string">ms</span> <span class="string">(1734900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT7.in</span> <span class="string">&amp;</span> <span class="string">ARIT7.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">18</span> <span class="number">2553</span>, <span class="number">32</span> <span class="number">48</span> <span class="number">3</span> <span class="number">42</span> <span class="number">7</span> <span class="number">34</span> <span class="number">12</span> <span class="number">29</span> <span class="number">3</span> <span class="number">50</span> <span class="number">30</span> <span class="number">35</span> <span class="number">22</span> <span class="number">13</span> <span class="number">35</span> <span class="number">9</span> <span class="number">11</span> <span class="number">20</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">3</span>, <span class="number">32</span><span class="string">+29*42-9</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">3</span>, <span class="number">32</span><span class="string">+29*42-9</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">17.189900</span> <span class="string">ms</span> <span class="string">(17189900</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT8.in</span> <span class="string">&amp;</span> <span class="string">ARIT8.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">6</span> <span class="number">1234</span>, <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span>]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="literal">No</span> <span class="string">Solution!</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="literal">No</span> <span class="string">Solution!</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">293.963800</span> <span class="string">ms</span> <span class="string">(293963800</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Current Case:</span> <span class="string">ARIT9.in</span> <span class="string">&amp;</span> <span class="string">ARIT9.out</span></span><br><span class="line"><span class="attr">Expected  Input:</span> [<span class="number">27</span> <span class="number">9546</span>, <span class="number">10</span> <span class="number">5</span> <span class="number">30</span> <span class="number">1</span> <span class="number">14</span> <span class="number">49</span> <span class="number">8</span> <span class="number">19</span> <span class="number">44</span> <span class="number">21</span> <span class="number">23</span> <span class="number">35</span> <span class="number">26</span> <span class="number">7</span> <span class="number">35</span> <span class="number">3</span> <span class="number">27</span> <span class="number">18</span> <span class="number">5</span> <span class="number">15</span> <span class="number">49</span> <span class="number">23</span> <span class="number">8</span> <span class="number">44</span> <span class="number">48</span> <span class="number">49</span> <span class="number">47</span> ]</span><br><span class="line"><span class="attr">Expected Output:</span> [<span class="number">4</span>, <span class="number">10</span><span class="string">+14*19*21-30</span>]</span><br><span class="line"><span class="attr">Your     Output:</span> [<span class="number">4</span>, <span class="number">10</span><span class="string">+14*19*21-30</span>]</span><br><span class="line"><span class="attr">Time Cost:</span> <span class="number">5940.226300 </span><span class="string">ms</span> <span class="string">(5940226300</span> <span class="string">ns)</span></span><br><span class="line"><span class="string">Accepted.</span></span><br><span class="line"><span class="string">-----------------------------------------------------</span></span><br><span class="line"><span class="attr">Result Statistics:</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> <span class="string">√</span> </span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/10/combinatorics-graph-basics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/10/combinatorics-graph-basics/" class="post-title-link" itemprop="url">Combinatorics - Graph Basics</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-10 18:40:20" itemprop="dateCreated datePublished" datetime="2022-04-10T18:40:20+00:00">2022-04-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Graph-Basics"><a href="#Graph-Basics" class="headerlink" title="Graph Basics"></a>Graph Basics</h1><h2 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><h3 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h3><p><code>图的阶</code> &#x3D;V</p>
<hr>
<p>若存在<code>边</code>\alpha &#x3D; \{x, y\} &#x3D; \{y,x\} ，则：</p>
<ul>
<li>\alpha<code>连接 (join)</code> <code>顶点</code>x和<code>顶点</code>y</li>
<li><code>顶点</code>x和<code>顶点</code>y是<code>邻接 (adjacent)</code>的。</li>
<li><code>顶点</code>x和<code>边</code>\alpha是<code>关联的</code>。</li>
</ul>
<hr>
<p><code>顶点点</code>x：我们给<code>每一个顶点x</code>取一个<code>不同的点</code>（用该<code>顶点</code>来标记<code>顶点点</code>）</p>
<p><code>边曲线</code>\alpha：两个<code>顶点点</code>之间能通过<code>一条简单曲线</code>连接起来，当且仅当，<code>所对应的顶点对</code>确定<code>G的一条边</code>\alpha</p>
<blockquote>
<p>一条<code>边曲线</code>\alpha通过一个<code>顶点点</code>x，当且仅当，<code>顶点</code>x是<code>边</code>\alpha的一个<code>顶点</code></p>
</blockquote>
<hr>
<p><code>多重图</code>：允许<code>顶点</code>之间形成<code>多条边</code></p>
<blockquote>
<p>换句话说，图的<code>边集</code>E是<code>多重集合</code></p>
</blockquote>
<p><code>一般图</code>：允许<code>图</code>中存在<code>环</code></p>
<blockquote>
<p>我们说的<code>图</code>通常就是指<code>一般图</code></p>
</blockquote>
<blockquote>
<p>可以将<code>环</code>视为<code>一个顶点重复两次而构成的多重集合</code></p>
</blockquote>
<p><code>简单图</code>：所有<code>边</code>的<code>重数</code>均为<code>1</code>的图</p>
<p><code>完全图</code>K_n：<code>每一对不同的顶点之间</code>都有<code>边</code></p>
<blockquote>
<p>一个<code>n阶完全图</code>存在\frac{n(n-1)}{2}条<code>边</code></p>
</blockquote>
<p><code>平面图</code>：如果<code>一般图</code>可以在<code>平面</code>上画出它的图形，使得<code>任意两条边</code>仅在<code>顶点点</code>处<code>相交</code>，则称为<code>平面图</code></p>
<p><code>同构图</code>：给定<code>图</code>G &#x3D; (V, E)和<code>图</code>G’ &#x3D; (V’, E’)，如果\theta: V \rightarrow V’和\delta: E \rightarrow E’是<code>双射</code>，则称这两个图是<code>同构的</code></p>
<p><code>连通图</code>：如果<code>一般图</code>中的<code>任何一对顶点</code>x<code>和</code>y，都存在<code>连接x和y的路径</code>，则称该图是<code>连通的 (Connected)</code>，否则该图即为<code>非连通的 (Disconnected)</code></p>
<p><code>二分图</code>：可以将<code>图</code>G的<code>顶点集</code>V<code>划分</code>为<code>X和Y两个部分</code>，且<code>图</code>G的<code>边集</code>E中的任何一条边满足：<code>一个端点在X部分</code>，<code>另一个端点在Y部分</code></p>
<hr>
<p><code>顶点的度数 (次数)</code>deg(x)：与<code>顶点</code>相<code>关联</code>的<code>边</code>的数目。</p>
<blockquote>
<p>一个<code>环</code>对度数的贡献为<code>2</code></p>
</blockquote>
<p><code>图的度序列</code>：以<code>递减顺序给出的图G的所有顶点的度数的数列</code> (d_1,d_2,\cdots,d_n), \quad d_1 \ge d_2 \ge \cdots d_n \ge 0</p>
<hr>
<p><code>途径 (Walk)</code>：形如\s{x_0, x_1},\s{x_1,x_2}, \cdots, \s{x_{m-1}, x_{m}}的m条<code>边的序列</code></p>
<blockquote>
<p>上述是一种<code>以边表示法</code>，也可以用<code>以顶点表示法</code>：x_0 - x_1 - x_2 - \cdots - x_m</p>
</blockquote>
<blockquote>
<p><code>途径</code>中可以有<code>重复边</code>：</p>
<blockquote>
<p><code>重复边</code>：如果<code>一条边</code>在<code>一条途径</code>中<code>出现的次数</code>不超过<code>边的重数</code>，则<code>该边</code>不能算作<code>重复边</code></p>
<blockquote>
<p>一种观点：可以考虑<code>图的图形</code>，如果我们<code>没有用尽顶点对之间的所有边曲线</code>，则不能称为<code>重复边</code></p>
</blockquote>
<blockquote>
<p>推而广之：如果<code>图中所有的边都只出现1次</code>，那么我们认为<code>当图中任何一条边达到2次</code>就可以算作<code>重复边</code>，否则不算重复边。</p>
</blockquote>
<blockquote>
<p>注意：在某些情况下，我们说<code>图有重边</code>指的含义是<code>只要图中任何两个顶点对之间</code>存在<code>1条以上的边</code>。</p>
<p>这和我们此处所说的概念不同。这里的<code>重复边</code>是对<code>途径</code>而言的，而不是对<code>图</code>而言的。</p>
</blockquote>
</blockquote>
</blockquote>
<p><code>迹 (Trail)</code>：不含<code>重复边</code>的<code>途径</code></p>
<blockquote>
<p>另一种说法：边的<code>出现次数</code>不超过<code>重数</code>的<code>途径</code></p>
</blockquote>
<p><code>路径 (Path)</code>：除了<code>起点</code>和<code>终点</code>外的<code>所有的顶点</code>都不相同的<code>途径</code></p>
<p><code>圈 (Cycle)</code>：<code>封闭的路径</code></p>
<hr>
<p><code>距离 (Distance)</code>d(x,y)：在<code>连通图</code>中，表示<code>连接</code> <code>顶点</code>x和<code>顶点</code>y的<code>途径</code>的<code>最短长度</code></p>
<blockquote>
<p>容易知道d(x,x) &#x3D; 0 ，而且显然<code>距离为</code>d(x,y)<code>的途径</code>必定是<code>一条路径</code></p>
<blockquote>
<p>不要考虑<code>零权重</code>边！</p>
</blockquote>
</blockquote>
<hr>
<p>若有<code>图</code>G &#x3D; (V, E)</p>
<p><code>子图</code>：若V’ \subseteq V, E’ \subseteq E，则<code>图</code>G’ &#x3D; (V’, E’)称为<code>图G的子图</code></p>
<p><code>导出子图 (Induced Subgraph)</code>：若\b{V’ \subseteq V}, E’ &#x3D; \s{(x,y) x, y \in V’ , (x, y) \in E}，则<code>图</code>G’ &#x3D; (V’, E’)称为<code>图G的导出子图</code></p>
<p><code>生成子图 (Spanning Subgraph)</code>：若\b{V’ &#x3D; V}, E’ &#x3D; \s{(x,y)x,y\in V’, (x,y) \in E}，则<code>图</code>G’ &#x3D; (V’, E’)称为<code>图G的生成子图</code></p>
<hr>
<p><code>连通分量 (Connected Component)</code>：<code>最大的连通的导出子图</code></p>
<hr>
<p><code>悬挂顶点 (Pendent Vertex)</code>：图G中<code>度数为1</code>的<code>顶点</code></p>
<p><code>悬挂边 (Pendent Edge)</code>：与<code>悬挂顶点</code>相<code>邻接</code>的<code>边</code></p>
<h3 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1-Handshake-Theorem"><a href="#Theory-1-Handshake-Theorem" class="headerlink" title="Theory 1: Handshake Theorem"></a>Theory 1: Handshake Theorem</h4><blockquote>
<p>这个结论隐含着推论：所有的<code>奇度数顶点</code>的个数必定是<code>偶数</code></p>
</blockquote>
<hr>
<p>1条<code>边</code>必定<code>连接</code> <code>2个顶点</code>，而1个<code>环</code>对<code>度数</code>的贡献为<code>2</code>。</p>
<p>Q.E.D</p>
<h4 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory 2"></a>Theory 2</h4><p>两个<code>同构的一般图</code>具有相同的<code>度序列</code>，但具有<code>相同的度序列</code>的<code>图</code>不一定是<code>同构</code>的。</p>
<h4 id="Theory-3"><a href="#Theory-3" class="headerlink" title="Theory 3"></a>Theory 3</h4><p>若<code>图</code>G &#x3D; (V,E)是<code>一般图</code>，则<code>顶点集</code>V可以被<code>唯一地划分</code>为<code>非空子集</code>V_1, V_2, \cdots V_k满足：</p>
<ol>
<li>分别<code>由</code>V_1, V_2, \cdots, V_k<code>所给的导出子图</code>G_1&#x3D;(V_1, E_1), G_2 &#x3D; (V_2, E_2), \cdots, G_k&#x3D;(V_k, E_k)都是<code>连通的</code></li>
</ol>
<hr>
<h4 id="Theory-4"><a href="#Theory-4" class="headerlink" title="Theory 4"></a>Theory 4</h4><p><code>同构图</code>本质上是<code>相同的图</code></p>
<h2 id="Euler-Trails-Bridges-of-Koenigsberg"><a href="#Euler-Trails-Bridges-of-Koenigsberg" class="headerlink" title="Euler Trails: Bridges of Koenigsberg"></a>Euler Trails: Bridges of Koenigsberg</h2><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><p>如果<code>图</code>G中的一条<code>闭迹 (Closed Trail)</code> 包含了<code>G中所有的边</code> <code>有且仅有1次</code>，则称之为<code>欧拉迹 (Euler Trail)</code></p>
<blockquote>
<p>注意我们之前对<code>重复边</code>的定义。</p>
</blockquote>
<h3 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory 1"></a>Theory 1</h4><p>设<code>图</code>G &#x3D; (V,E)是<code>一般图</code>，如果它的<code>每个顶点的度数</code>都是<code>偶数</code>，则<code>G的每条边</code>都属于<code>一条欧拉闭迹</code>，因而也属于一个<code>圈</code></p>
<hr>
<ul>
<li>必要条件：每个顶点的度数均为偶数</li>
</ul>
<p>我们考虑<code>欧拉迹</code>中的<code>某个顶点</code>，我们需要<code>进入这个顶点</code>，然后<code>离开这个顶点</code>。</p>
<blockquote>
<p>如果是<code>欧拉圈</code>，则<code>刚开始离开起点</code>，<code>最终进入起点</code>。</p>
<p>如果是<code>欧拉迹</code>，则<code>刚开始离开起点</code>，<code>最终进入终点但不再离开终点</code></p>
</blockquote>
<p>则意味着，我们需要<code>一条进入该顶点的边</code>和<code>一条离开该顶点的边</code>。</p>
<p>换句话说，<code>每个顶点的度数</code>均为<code>偶数</code>。</p>
<ul>
<li>寻找包含初始边的一条<code>欧拉闭迹</code>的方法</li>
</ul>
<ol>
<li><p>令 i &#x3D; 1</p>
</li>
<li><p>令 W &#x3D; \s{x_0, x_1}</p>
</li>
<li><p>令 F &#x3D; \s{\alpha_1 &#x3D; \s{x_0, x_1}}</p>
</li>
<li><p>当x_i \ne x_0时，执行：</p>
<ol>
<li>找出一条<code>不在F中的边</code>\alpha_{i+1} &#x3D; \s{x_i, x_{i+1}}</li>
<li>将x_{i+1}放入W中（有可能x_{i+1}已经在W中）</li>
<li>将\alpha_{i+1}放入F中</li>
<li>令i &#x3D; i + 1</li>
</ol>
</li>
</ol>
<hr>
<ul>
<li><p>初始化：算法将<code>初始边</code>\alpha_1加入到F中，同时将<code>与该边关联的2个顶点</code>加入到W中</p>
</li>
<li><p>持续：如果x_i \ne x_0，则我们<code>必定</code>可以找到一条边\alpha_{i+1} &#x3D; \s{x_i, x_{i+1}}</p>
<blockquote>
<p>如果<code>i的最终值为k</code>，则<code>所产生的顶点集</code>W &#x3D; \s{x_0, x_1, \cdots, x_k}，<code>所产生的边集</code>F &#x3D; \s{\alpha_1, \cdots, \alpha_k}，则\alpha_1,\cdots,\alpha_k就是<code>包含初始边</code>\alpha_1<code>的一条闭迹</code>。</p>
<blockquote>
<p>\alpha_1 &#x3D; \alpha_ k</p>
</blockquote>
<hr>
<p>只需证明：若x_i \ne x_0，则必有<code>一条不在F中的边</code>与x_i<code>关联</code>。</p>
<blockquote>
<p>利用<code>握手定理</code>：在整个算法过程中，只有<code>顶点</code>x_0和<code>最新加入的顶点</code>x_i是<code>奇度数</code>。</p>
<p>如果x_0和x_i 是<code>偶度数</code>，则必定是x_0 &#x3D; x_i</p>
<p>如果x_0 \ne x_i，则x_i是<code>奇度数</code>，那么<code>必定</code> <code>还有另一个顶点与</code>x_i<code>相邻接</code></p>
</blockquote>
</blockquote>
</li>
<li><p>终止：所得到的F &#x3D; \s{\alpha_1, \cdots, \alpha_k}即为一条<code>包含初始边</code>的<code>闭迹</code></p>
</li>
</ul>
<h4 id="Theory-2-Euler’s-One-Stroke-Theorem"><a href="#Theory-2-Euler’s-One-Stroke-Theorem" class="headerlink" title="Theory 2: Euler’s One-Stroke Theorem"></a>Theory 2: Euler’s One-Stroke Theorem</h4><hr>
<ul>
<li><p>必要性：根据前面的分析。如果<code>图G</code>中存在<code>欧拉闭迹</code>，则<code>图G</code>的<code>每个顶点</code>的度数都是偶数。Q.E.D</p>
</li>
<li><p>充分性：</p>
<ol>
<li><p>设G_1 &#x3D; (V, E_1) &#x3D; G，选定G_1中的<code>任意一条边</code>\alpha_1作为<code>求包含初始边的欧拉闭迹的算法</code>的<code>初始边</code>，得到<code>包含边</code>\alpha_1<code>的闭迹</code>\gamma_1。</p>
</li>
<li><p>设G_2 &#x3D; (V, E_1 - \gamma_1)，则G_2<code>中的所有顶点</code>的度数<code>仍然是偶数！</code>，<code>由于</code>G<code>是连通的</code>，所以G_2如果存在边，则<code>至少有一条边</code>\alpha_2与<code>闭迹</code>\gamma_1<code>中的某个顶点</code>z_1<code>相邻接</code>，则我们可以对G_2<code>中的边</code>\alpha_2运行<code>求包含初始边的欧拉闭迹的算法</code>，得到<code>包含边</code>\alpha_2<code>的闭迹</code>\gamma_2。然后，我们可以将\gamma_1和\gamma_2在<code>顶点</code>z_1处进行<code>拼接</code>：得到<code>包含</code>\gamma_1和\gamma_2的<code>欧拉闭迹</code>\gamma_1 \overset{z_1}{*} \gamma_2</p>
<blockquote>
<ul>
<li>如果图G的所有顶点的度数都是偶数的话，去掉1个欧拉闭迹，则所有顶点的度数仍为偶数。</li>
<li>如果图G不是连通的，则根本不存在<code>欧拉闭迹</code>；如果图G是连通的，则我们可以找到<code>欧拉闭迹中的某个顶点</code>作为<code>拼接点</code>（如果找不到该顶点说明剩余的图的边集为空）</li>
</ul>
</blockquote>
</li>
<li><p>…</p>
</li>
<li><p>最终，我们可以得到<code>包含图G中所有边的欧拉闭迹</code>：\gamma_1 \overset{z_1}{*} \gamma_2 \overset{z_2}{*} \cdots \overset{k-1}{*} \gamma_k</p>
</li>
</ol>
</li>
</ul>
<p>Q.E.D</p>
<h4 id="Theory-3-1"><a href="#Theory-3-1" class="headerlink" title="Theory 3"></a>Theory 3</h4><hr>
<blockquote>
<p><code>欧拉闭迹</code>要求<code>起始顶点</code>和<code>终止顶点</code>相同，而<code>欧拉开迹</code>则没有这个限制。</p>
<p>如果<code>起始顶点</code>和<code>终止顶点</code>不相同，则<code>除了这两个顶点是奇度数</code>之外，<code>其他所有的顶点</code>都应该是<code>偶度数</code>。</p>
<p>因此，可以在<code>欧拉闭迹</code>的基础上，修改<code>起点</code>和<code>终点</code>得到<code>欧拉开迹</code></p>
</blockquote>
<p>已知定理：如果<code>图G中所有的顶点的度数都是偶数</code>，则我们可以得到<code>一条包含图G中所有边的欧拉闭迹</code></p>
<p>现在，如果<code>图G中除了顶点u和顶点v这两个顶点是奇度数外，其余顶点都是偶度数顶点</code>，则我们可以添加<code>辅助边</code>\s{u,v}来<code>连接</code>这两个<code>奇度数顶点</code>，使得他们成为<code>偶度数顶点</code>，我们称该图为G’，则我们可以得到G’中<code>包含所有边的欧拉闭迹</code>，但由于<code>欧拉开迹不要求起点和终点相同</code>，则我们在这条<code>欧拉闭迹</code>的基础上<code>去除</code>这条<code>辅助边</code>，即可得到<code>欧拉开迹</code></p>
<p>Q.E.D</p>
<h4 id="Theory-4-Euler’s-N-Stroke-Theorem"><a href="#Theory-4-Euler’s-N-Stroke-Theorem" class="headerlink" title="Theory 4: Euler’s N-Stroke Theorem"></a>Theory 4: Euler’s N-Stroke Theorem</h4><p>设<code>图G</code>是一般连通图，设<code>G中奇度数顶点的个数 &gt; 0</code>，则<code>G的边</code>可以被划分为<code>m/2个开迹</code>，但不能被划分为<code>少于m/2个开迹</code></p>
<hr>
<p>归纳法：</p>
<ul>
<li>如果<code>奇度数顶点 = 1</code>：则根本不满足<code>握手定理</code>，不存在这样的图。满足\lfloor \frac{1}{2} \rfloor &#x3D; 0</li>
<li>如果<code>奇度数顶点 = 2</code>：则\frac{2}{2} &#x3D; 1，可以通过<code>加入</code>一条<code>连接这两个奇度数顶点的边</code>来得到<code>欧拉闭迹</code>，然后<code>去除该边</code>即为<code>欧拉开迹</code></li>
<li>如果<code>奇度数顶点 = 3</code>：同<code>奇度数顶点 = 1</code></li>
<li>如果<code>奇度数顶点 = 4</code>：重复<code>奇度数顶点 = 2</code>的步骤，得到<code>2条欧拉开迹</code>。</li>
</ul>
<p>…</p>
<blockquote>
<p>能完成<code>n笔画</code>的<code>充要条件</code>是：存在<code>n条</code>的<code>欧拉闭迹</code>或<code>欧拉开迹</code></p>
<blockquote>
<p>注：某些表述方法把<code>欧拉开迹</code>称为<code>欧拉路径</code>，将<code>欧拉闭迹</code>称为<code>欧拉回路</code>。他们是一样的概念</p>
</blockquote>
</blockquote>
<h4 id="Theory-5"><a href="#Theory-5" class="headerlink" title="Theory 5"></a>Theory 5</h4><p>设<code>图G</code>是有<code>K条边</code>的一般<code>连通图</code>，则G中存在<code>一条长度为2K的闭途径</code>：该途径中，<code>每条边的使用次数</code>是<code>它的重数</code>的<code>2倍</code></p>
<hr>
<ul>
<li>Proof 1</li>
</ul>
<p>对<code>任何一个顶点</code>使用<code>dfs遍历方法</code>，则<code>连通图G</code>中的<code>每一条边</code>均会被<code>dfs访问1次</code>，以及<code>回溯1次</code>。</p>
<p>这等价于<code>先走过这条边</code>，然后再<code>走回这条边</code></p>
<ul>
<li>Proof 2</li>
</ul>
<p>构造G’为将G中的<code>每条边</code>的<code>重数</code>增加<code>1倍</code>所得的图。则G’是有2K条边的连通图，且G’中存在<code>欧拉闭迹</code>，该<code>欧拉闭迹</code>就是G中的<code>一条闭路径</code></p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="Example-1-Bridges-of-Koenigsberg"><a href="#Example-1-Bridges-of-Koenigsberg" class="headerlink" title="Example 1: Bridges of Koenigsberg"></a>Example 1: Bridges of Koenigsberg</h4><h4 id="Example-2-Chinese-Postman-Problem"><a href="#Example-2-Chinese-Postman-Problem" class="headerlink" title="Example 2: Chinese Postman Problem"></a>Example 2: Chinese Postman Problem</h4><p>若<code>图G</code>是一般连通图，求使用图G的<code>每一条边</code> <code>至少1次</code>的<code>一条最短路径</code>。</p>
<h2 id="Hamiltonian-Path-and-Hamiltonian-Circuit"><a href="#Hamiltonian-Path-and-Hamiltonian-Circuit" class="headerlink" title="Hamiltonian Path and Hamiltonian Circuit"></a>Hamiltonian Path and Hamiltonian Circuit</h2><h3 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h3><p>若<code>图G</code>是简单图，能否<code>沿着G的边</code>确定一条路线：使得它从<code>G的某一顶点</code>出发，在访问<code>其他每一个顶点</code> <code>正好1次</code>之后，又<code>返回起点</code>？</p>
<blockquote>
<p><code>边的重复</code>并不会影响<code>哈密顿路径</code>或<code>哈密顿圈</code>的存在性，因为他们是针对<code>顶点</code>而定义的。</p>
</blockquote>
<blockquote>
<p><code>欧拉闭迹</code>：包含图G的每一条边恰好1次的<code>闭迹</code></p>
<p><code>哈密顿圈</code>：包含图G的每一条边恰好1次的<code>闭路径</code></p>
</blockquote>
<h3 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1-1"><a href="#Theory-1-1" class="headerlink" title="Theory 1"></a>Theory 1</h4><p>K_n中存在n!条<code>哈密顿路径</code>，也存在n!个<code>哈密顿圈</code></p>
<hr>
<p>因为n个顶点中，可以从任何一个顶点到达任何一个其他顶点：<code>n个顶点的排列</code>一一对应于n!个<code>哈密顿路径</code>和<code>哈密顿圈</code></p>
<h4 id="Theory-2-1"><a href="#Theory-2-1" class="headerlink" title="Theory 2"></a>Theory 2</h4><p>带有<code>桥</code>的<code>阶</code>n \ge 3的<code>连通图</code>不存在<code>哈密顿圈</code></p>
<hr>
<p>归纳法：</p>
<p>设该<code>桥</code>\alpha &#x3D; \s{x, y}，则如果将<code>桥</code>删除，可以得到<code>2个连通分量</code>:G_1, G_2</p>
<p>不妨假设，我们的<code>哈密顿回路</code>的<code>起始顶点</code>在G_1，则我们需要通过<code>桥</code>\alpha到达G_2。</p>
<p>然后，我们<code>还必须重新返回位于</code>G_1<code>的起始顶点</code>，而这意味着，我们<code>必须再次经过桥</code>（因为<code>桥</code>\alpha是G_1和G_2之间穿越的唯一方法）</p>
<p>而这将不满足<code>哈密顿圈</code>的定义。</p>
<blockquote>
<p>实际上，它甚至也没有<code>欧拉闭迹</code></p>
</blockquote>
<p>Q.E.D</p>
<h4 id="Theory-3-Ore-Property"><a href="#Theory-3-Ore-Property" class="headerlink" title="Theory 3: Ore Property"></a>Theory 3: Ore Property</h4><p><code>Ore Propetry</code>：<code>图</code>G对所有<code>不邻接的不同顶点x，y的对</code>，有：deg(x) + deg(y) \ge n</p>
<p>若<code>图</code>G是满足<code>Ore Property</code>且<code>阶数</code>n \ge 3的简单图，则<code>图</code>G中存在<code>哈密顿圈</code></p>
<hr>
<ul>
<li>满足<code>Ore Property</code>的<code>图</code>G是<code>连通的</code></li>
</ul>
<p>假设<code>图G</code>是不连通的，则图G不可能满足<code>Ore Property</code>。</p>
<p>若将图G的<code>所有顶点</code>划分为两个子集U和W，使得图G中不存在<code>任何一条连接U中一个顶点和W中一个顶点的边</code>，</p>
<p>设U &#x3D; r, W &#x3D;s \implies r + s &#x3D; n</p>
<p>则deg(U) &#x3D; r - 1, deg(W) &#x3D; s - 1 \implies deg(G) &#x3D; r + s - 2 &#x3D; n - 2</p>
<p>与假设前提矛盾，故图G是连通的。</p>
<p>Q.E.D</p>
<hr>
<ul>
<li><p>寻找<code>哈密顿圈</code>的算法</p>
<ul>
<li><p>Step 1: 从<code>任意一个顶点</code>出发，在它的任意一端<code>邻接一个顶点</code>，构造一条越来越长的路径，直到该路径无法再加长为止：\gamma: y_1-y_2-\cdots-y_m</p>
</li>
<li><p>Step 2: 检查y_1和y_m是否<code>邻接</code></p>
<ul>
<li>Step 2-1 如果不邻接，跳转到Step3；否则，跳转到Step 2-2</li>
<li>Step 2-2 如果m&#x3D;n，则停止构造并输出<code>哈密顿圈</code>\b{y_1-y_2-\cdots-y_m-y_1}，否则，y_1和y_m是邻接的且m \lt n，转到Step 2-3</li>
<li>Step 2-3 找出一个<code>不在</code>\gamma<code>上的顶点</code>z和<code>在</code>\gamma<code>上的顶点</code>y_k，使得z和y_k邻接。将\gamma用下面的<code>长度为m+1的路径</code>来代替：\r{z}-\b{y_k}-\cdots-y_m-y_1-\cdots-\b{y_{k-1}} 并转回到Step 2-2</li>
</ul>
</li>
<li><p>Step 3: 找出一个<code>顶点</code>y_k (1 \lt k \lt m)，使得y_1和y_k邻接，且y_{k-1}和y_m邻接，将\gamma用下面的<code>路径</code>代替：\b{y_1} - \cdots - \b{y_{k-1} - b{y_m}} - \cdots -\b{y_k}</p>
<p>这条路径的两个端点y_1和y_k是邻接的，转回到Step 2-2</p>
</li>
</ul>
</li>
<li><p>证明：Step 2-3 必定能找到一个特定的顶点z</p>
</li>
</ul>
<p>因为有m \lt n且图是连通的，所以必定存在一个<code>不在路径</code>\gamma<code>上的顶点</code>z，它与y_1,\cdots,y_m中的某个顶点邻接。</p>
<ul>
<li>证明：Step3 必定能找到特定的顶点y_k</li>
</ul>
<p>已知y_1和y_m不邻接，设deg(y_1) &#x3D; r,deg(y_m) &#x3D; s \implies r + s \ge n</p>
<p>因为\gamma是<code>一条最长的路径</code>，所以y_1只能与\gamma<code>上的顶点</code>相邻接，即与\b{y_2,\cdots,y_{m-1}}中的r个顶点相邻接。</p>
<p>同理，y_m与\b{y_2,\cdots,y_{m-1}}中的s个顶点相邻接。</p>
<p><code>与</code>y_1<code>邻接的r个顶点中的每个顶点</code>都位于<code>路径</code>\gamma<code>上某个顶点的前面</code>，且在<code>这些顶点</code>中，<code>必定有一个</code>与y_m邻接。否则，y_m最多与(m-1)-r个顶点邻接，则s \le m - 1- r \implies \b{r + s \le m - 1 \le n - 1} 与Ore性质矛盾。</p>
<p>因此，<code>存在一个顶点</code>y_k：使得y_1与y_k邻接，且y_m与y_{m-1}邻接。</p>
<p>因此，算法在G中构造出一条哈密顿圈会后会停止。</p>
<h4 id="Theory-4-1"><a href="#Theory-4-1" class="headerlink" title="Theory 4"></a>Theory 4</h4><p>在<code>阶数</code>n \ge 3的简单图中，如果<code>每个顶点的度数</code>至少为n&#x2F;2，则图中必定存在<code>哈密顿圈</code></p>
<h4 id="Theory-5-1"><a href="#Theory-5-1" class="headerlink" title="Theory 5"></a>Theory 5</h4><p>在一个n阶简单图中，如果<code>每对不邻接的顶点</code>的<code>度数之和</code>至少为<code>n-1</code>，则图中存在<code>哈密顿路径</code></p>
<h2 id="Bipartite-Graph"><a href="#Bipartite-Graph" class="headerlink" title="Bipartite Graph"></a>Bipartite Graph</h2><h3 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h3><p>若G&#x3D;(V,E)是一个<code>多重图</code>，如果<code>顶点集V</code>可以被<code>划分</code>为两个子集<code>X</code>和<code>Y</code>，使得<code>G中的每一条边</code>都有<code>一个顶点在X</code>，<code>另一个顶点在Y</code>，</p>
<p>则我们称<code>图G</code>是<code>二分图</code>。</p>
<p><code>完全二分图</code>K_{m,n}：<code>二分图</code>的<code>X中的每个顶点</code>都与<code>Y中的每个顶点</code>相连。</p>
<h3 id="Theory-3"><a href="#Theory-3" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1-2"><a href="#Theory-1-2" class="headerlink" title="Theory 1"></a>Theory 1</h4><p>一个<code>多重图</code>是<code>二分的</code>，当且仅当，<code>多重图的每一个圈的长度</code>均为<code>偶数</code></p>
<hr>
<p>若图G是有2划分X，Y的二分图，则<code>G中的一条途径上的顶点</code> 必<code>交替地</code>取自<code>X</code>和<code>Y</code>。</p>
<p>我们<code>假设</code>：<code>G中的每一个圈的长度均为偶数</code>，<code>G是连通的</code>，<code>x是G的任意一个顶点，X是由那些到x的距离为偶数的顶点构成的集合，Y是由那些到x的距离为奇数的顶点构成的集合</code></p>
<ul>
<li>假设：<code>图G是连通的</code>。则我们有<code>X + Y = V</code></li>
</ul>
<p>现在<code>证明：X，Y是一个2划分（即X中的任意两个顶点不邻接，Y中的任意两个顶点不邻接）</code></p>
<p>我们<code>反证假设：存在一条边&#123;a, b&#125;使得</code>a \in X, b \in X</p>
<p>我们设<code>从x到a的最短路径</code>\alpha: x-\cdots-a和<code>从x到b的最短路径</code>\beta:x-\cdots-b</p>
<p>由于\alpha和\beta拥有相同的起始顶点x，则我们不妨设<code>这两条途径中最后一个相同的顶点</code>z</p>
<p>从而，我们得到：\alpha: \b{x-\cdots-z}-\cdots-a和\beta:\b{x-\cdots-z}-\cdots-b</p>
<p><code>分解途径</code>得到：\alpha_1 &#x3D; \beta_1:x-\cdots-z</p>
<p>\alpha_2: z - \cdots-a和\beta_2: z- \cdots-b</p>
<p>所以，我们得到：\alpha_2和\beta_2的长度<code>要么都是奇数</code>，<code>要么都是偶数</code>。</p>
<p>而<code>边&#123;a, b&#125;的存在</code>意味着：图G中有<code>一个长度为奇数的圈</code>z-\cdots-\b{a-b}-\cdots-z</p>
<p>与假设矛盾。故：图G中不可能存在<code>连接X中顶点a和b的边&#123;a, b&#125;</code>。</p>
<p>同理，可证图G中不可能存在<code>连接Y中顶点a和b的边&#123;a, b&#125;</code></p>
<ul>
<li>假设：图G是不连通的。则只需用上述方式证明图G的每一个<code>连通分量</code>都是<code>二分的</code>，即可证明<code>图G</code>是<code>二分的</code></li>
</ul>
<h4 id="Theory-2-2"><a href="#Theory-2-2" class="headerlink" title="Theory 2"></a>Theory 2</h4><p>设G是有二划分的X，Y的二分图：</p>
<ul>
<li>若X \ne Y，则G中不存在<code>哈密顿圈</code>。</li>
<li>若X&#x3D;Y，则G中不存在<code>起始于X中的顶点 又 终止于X中的顶点的哈密顿路径</code></li>
<li>若\BigX - Y\Big \ge 2，则G中不存在<code>哈密顿路径</code></li>
<li>若X &#x3D; Y + 1，则G中不存在<code>起始于X又终止于Y的哈密顿路径</code></li>
</ul>
<h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><h4 id="Example-1-Reflective-Gray-Code"><a href="#Example-1-Reflective-Gray-Code" class="headerlink" title="Example 1: Reflective Gray Code"></a>Example 1: Reflective Gray Code</h4><p><code>格雷码</code> \implies <code>哈密顿路径</code></p>
<p><code>反射格雷码</code> \implies <code>哈密顿圈</code></p>
<h4 id="Example-2-Board-Coloring-Problem"><a href="#Example-2-Board-Coloring-Problem" class="headerlink" title="Example 2: Board Coloring Problem"></a>Example 2: Board Coloring Problem</h4><h4 id="Example-3-The-vaulting-horse-problem"><a href="#Example-3-The-vaulting-horse-problem" class="headerlink" title="Example 3: The vaulting horse problem"></a>Example 3: The vaulting horse problem</h4><p><code>跳马路线</code>：能够让<code>马</code>落在<code>棋盘上的所有格子</code>恰好1次的路线。\implies <code>哈密顿路径</code></p>
<p><code>重复路线 (Reentrant)</code>：可以<code>循环的</code> <code>跳马路线</code> \implies <code>哈密顿圈</code></p>
<h2 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h2><h3 id="Definitions"><a href="#Definitions" class="headerlink" title="Definitions"></a>Definitions</h3><h4 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition 1"></a>Definition 1</h4><p>n阶连通图<code>至少有n-1条边</code>。此外，对于每一个正整数n，存在<code>恰好n-1条边的连通图</code>。</p>
<p>从<code>恰好有n-1条边的n阶连通图</code>中去掉<code>任意一条边</code>，都会得到一个<code>非连通图</code>。</p>
<p>连通图G是树\iff所有边都是<code>桥</code></p>
<h4 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition 2"></a>Definition 2</h4><p>连通图G是树\iff恰好有n-1 \quad(n \ge 1)条<code>边</code></p>
<hr>
<p>首先，我们先<code>去除连通图中的所有边，得到n个孤立的顶点，每个顶点对应着1个连同分量</code>。</p>
<p>于是，我们得到<code>n个连通分量</code>，接下来，我们<code>每加入1条边，就可以连接2个连同分量，使得图的连同分量数-1</code></p>
<p>因此，我们只需要加入<code>n-1条边</code>即可使得<code>图的连同分量数量减少至1</code>。Q.E.D</p>
<h4 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition 3"></a>Definition 3</h4><blockquote>
<ul>
<li>Background</li>
</ul>
<p>设G是连通图，\alpha &#x3D; \s{x, y}是G的<code>桥</code>，当且仅当，<code>图G的任何圈</code>都不包含\alpha</p>
<hr>
<ul>
<li>充分性：若\alpha是桥，则图G被划分为两个连通分量，故图G的任何圈都不包含alpha</li>
<li>必要性：若\alpha不是桥，则图G中存在<code>包含</code>\alpha<code>的圈</code></li>
</ul>
</blockquote>
<p>连通图G是树\iffG中不包含<code>圈</code>。</p>
<h4 id="Definition-4"><a href="#Definition-4" class="headerlink" title="Definition 4"></a>Definition 4</h4><p>连通图G是树\iff<code>每一对不同的顶点</code>x和y之间都有<code>唯一的一条路径</code></p>
<h2 id="Spanning-Tree"><a href="#Spanning-Tree" class="headerlink" title="Spanning Tree"></a>Spanning Tree</h2><h3 id="Theory-4"><a href="#Theory-4" class="headerlink" title="Theory"></a>Theory</h3><h4 id="Theory-1-3"><a href="#Theory-1-3" class="headerlink" title="Theory 1"></a>Theory 1</h4><p>设G是阶n \ge 2的树，则G中<code>至少有2个悬挂顶点</code></p>
<hr>
<p>设图G中的<code>度序列</code>为：d_1, d_2, \cdots, d_n</p>
<p>则：d_1 + d_2 + \cdots + d_n &#x3D; 2(n-1)</p>
<p>如果其中<code>最多有一个</code>d_i<code>等于1</code>，则：d_1 + d_2 + \cdots + d_n &#x3D; 1 + 2(n-1)</p>
<p>矛盾，故<code>树中至少有2个悬挂顶点</code></p>
<h4 id="Theory-2-3"><a href="#Theory-2-3" class="headerlink" title="Theory 2"></a>Theory 2</h4><p>每个<code>连通图</code>都有<code>生成树</code></p>
<hr>
<ul>
<li>求连通图的生成树的算法</li>
</ul>
<p>去除<code>连通图</code>中的所有<code>非桥边</code></p>
<h4 id="Theory-3-2"><a href="#Theory-3-2" class="headerlink" title="Theory 3"></a>Theory 3</h4><p>设<code>图T</code>是<code>连通图G</code>的一颗生成树。设\alpha &#x3D; \s{a,b}是G的一条边，但不是T的边，则T中存在一条边\beta，满足：</p>
<p>通过向T中加入<code>边</code>\alpha，并去掉<code>边</code>\beta，得到的<code>图T</code>仍然是<code>图G的生成树</code>。</p>
<hr>
<p>如果<code>边</code>\alpha &#x3D; \s{a,b}是<code>悬挂边</code>，则<code>图G的生成树</code>中必须要<code>加入</code>这条边，因为这是<code>唯一</code>连接<code>顶点a</code>和<code>顶点b</code>的边。</p>
<p>如果<code>图G的生成树</code>中没有<code>加入边</code>\alpha，说明<code>边</code>\alpha并不是<code>悬边</code>，我们有<code>其他的边</code>\beta来<code>连接</code> <code>顶点a</code>和<code>顶点b</code>，则我们可以用<code>其他的边</code>来<code>替代</code> <code>边</code>\alpha，反之亦然。</p>
<blockquote>
<p>实际上，<code>边</code>\alpha和<code>边</code>\beta应当属于 <code>同一个圈之中</code>，这意味着我们选择<code>边</code>\alpha或者<code>边</code>\beta都可以满足生成树的连通性。\square</p>
</blockquote>
<h4 id="Theory-4-2"><a href="#Theory-4-2" class="headerlink" title="Theory 4"></a>Theory 4</h4><p>设T_1和T_2是连通图G的两颗<code>生成树</code>，设\beta是T_1的一条边，则T_2中必有一条边\alpha，使得在T_1中加入\alpha而去掉\beta后，<code>得到的图</code>仍然是<code>图G的生成树</code>。</p>
<hr>
<ul>
<li><p>假设<code>极端情况</code>，如果<code>图G</code>本身就是<code>树</code>，那么<code>图G的所有生成树都相同 （实际上也就1种）</code>，即T_1 &#x3D; T_2，同时\alpha &#x3D; \beta</p>
</li>
<li><p>如果对于\beta &#x3D; \s{a,b}，T_1中存在\beta但T_2中不存在\beta，则说明\beta并不是<code>悬挂边</code>。</p>
</li>
</ul>
<p>对于T_2来说，它如果不选择加入\beta，则必须要选择<code>其他的边</code>\alpha来保证<code>顶点a</code>和<code>顶点b</code>之间的<code>连通性</code>。</p>
<p>而根据我们上面的推论，我们知道，<code>边</code>\alpha和<code>边</code>\beta实际上属于<code>同一个圈之中</code></p>
<blockquote>
<p>更直白的说法是：T_1和T_2同样都作为<code>生成树</code>，在T_1中加入\alpha而去除\beta的含义是：让<code>生成树</code>T_1 <code>照着模仿做 (do as others do)</code> <code>生成树</code>T_2是<code>如何满足顶点a和顶点b之间的连通性的</code>。</p>
</blockquote>
<h4 id="Theory-5-2"><a href="#Theory-5-2" class="headerlink" title="Theory 5"></a>Theory 5</h4><p><code>n阶图</code>的<code>生成树</code>数量为<code>该图的n-1阶拉普拉斯矩阵的任意子矩阵的行列式的绝对值</code></p>
<h3 id="Models"><a href="#Models" class="headerlink" title="Models"></a>Models</h3><h4 id="Model-1-Construct-Spanning-Tree"><a href="#Model-1-Construct-Spanning-Tree" class="headerlink" title="Model 1: Construct Spanning-Tree"></a>Model 1: Construct Spanning-Tree</h4><p>若G &#x3D; (V, E) 是<code>n阶图</code>，u \in V</p>
<ul>
<li><p>Step 1：U \dot{&#x3D;} \s{u}, F \dot{&#x3D;} \varnothing</p>
</li>
<li><p>Step 2：当\b{\exists x \in U \and y \notin U}, \alpha&#x3D;\s{x,y} \in E时</p>
<ul>
<li>\b{y \cup U}</li>
<li>\alpha \cup F</li>
<li>Goto Step 2</li>
</ul>
</li>
<li><p>Step 3：T \dot{&#x3D;} (\b{U &#x3D; V}, F)</p>
</li>
</ul>
<hr>
<ul>
<li>证明：<code>正在构建的生成树</code>T<code>永远不会存在环</code> （环的定义）</li>
</ul>
<p>该算法维护的<code>顶点集</code>U表示的是<code>正在构建的生成树的顶点集</code>。</p>
<p>我们是通过一个简单的<code>事实</code>来<code>避免正在构建的生成树</code>中<code>存在环</code>：在由顶点表示的途径中存在环，当且仅当，存在某个顶点出现重复。</p>
<p>所以，我们<code>的确可以始终保持正在构建的生成树</code>T中<code>不存在环</code>。</p>
<ul>
<li>证明：不断增加<code>顶点</code>，最终该算法会停止 （树的定义）</li>
</ul>
<p>我们注意到，我们每一次仅仅是<code>检查是否存在环的条件</code>，然后简单地<code>新增顶点，以及和该顶点相关联的边</code>。</p>
<p>由于<code>每次新增顶点时，必定新增1条边</code>，而当F &#x3D; E - 1时，T将是一颗<code>最终的生成树</code>。</p>
<blockquote>
<p>这取决于<code>树</code>的定义：<code>n个顶点的树</code>含有<code>n-1条边</code></p>
</blockquote>
<h4 id="Model-2-Construct-BFS-Spanning-Tree"><a href="#Model-2-Construct-BFS-Spanning-Tree" class="headerlink" title="Model 2: Construct BFS Spanning-Tree"></a>Model 2: Construct BFS Spanning-Tree</h4><blockquote>
<p><code>广度优先生成树 (BFS Spanning-Tree)</code>：该树以<code>初始顶点</code>u作为<code>根</code>，对于<code>每一个顶点</code>x来说：<code>x与u在G中的距离</code> &#x3D; <code>x与u在T中的距离</code></p>
<blockquote>
<p><code>bf(x)</code>：表示<code>顶点</code>x加入到<code>BFS树</code>中的<code>次序</code></p>
<p><code>D(x)</code>：表示<code>顶点x</code>和<code>顶点y</code>在<code>T</code>中的<code>距离</code></p>
</blockquote>
</blockquote>
<p>G \dot{&#x3D;} (V,E), V &#x3D; n, u \in V</p>
<ul>
<li><p>Step 1：\b{i \dot{&#x3D;}1, U \dot{&#x3D;} \s{u}, F \dot{&#x3D;} \varnothing, T \dot{&#x3D;} (U, F) }, \r{D(u) \dot{&#x3D;} 0, bf(u) \dot{&#x3D;} 1 }</p>
</li>
<li><p>Step 2：当\b{\exists x \in U \and y \notin U, \alpha&#x3D;\s{x,y} \in E} 时</p>
<ul>
<li>寻找\b{\alpha &#x3D; \s{x, y}}, \r{x \t{ has the min-imum } bf(x)}</li>
<li>\r{bf(y) &#x3D; i + 1}</li>
<li>\r{D(y) &#x3D; D(x) + 1}</li>
<li>y \cup U</li>
<li>\alpha &#x3D; \s{x,y} \cup F</li>
<li>\r{i &#x3D; i + 1}</li>
<li>Goto Step 2</li>
</ul>
</li>
<li><p>Step 3：T \dot{&#x3D;} (\b{U &#x3D; V}, F)</p>
</li>
</ul>
<blockquote>
<p>首先，我们这里所讨论的<code>BFS树的顶点之间的距离</code>指的是<code>两个顶点之间的边的条数</code>，而并没有额外地定义<code>边的权重</code></p>
</blockquote>
<blockquote>
<p>可以将<code>Construct BFS Spanning-Tree</code>看作是<code>一种不重复地搜索G的所有顶点的BFS方法</code></p>
</blockquote>
<h4 id="Model-3-Construct-DFS-Spanning-Tree"><a href="#Model-3-Construct-DFS-Spanning-Tree" class="headerlink" title="Model 3: Construct DFS Spanning-Tree"></a>Model 3: Construct DFS Spanning-Tree</h4><p>G \define \s{V, E}, V &#x3D; n, u \in V</p>
<ul>
<li><p>Step 1：\b{i \dot{&#x3D;}1, U \dot{&#x3D;} \s{u}, F \dot{&#x3D;} \varnothing, T \dot{&#x3D;} (U, F) }, \r{df(u) \dot{&#x3D;} 1 }</p>
</li>
<li><p>Step 2：当\b{\exists x \in U \and y \notin U, \alpha&#x3D;\s{x,y} \in E} 时</p>
<ul>
<li>寻找\b{\alpha &#x3D; \s{x, y}}, \r{x \t{ has the max-imum } df(x)}</li>
<li>\r{df(y) &#x3D; i + 1}</li>
<li>y \cup U</li>
<li>\alpha &#x3D; \s{x,y} \cup F</li>
<li>\r{i &#x3D; i + 1}</li>
<li>Goto Step 2</li>
</ul>
</li>
<li><p>Step 3：T \dot{&#x3D;} (\b{U &#x3D; V}, F)</p>
</li>
</ul>
<h4 id="Model-4-Construct-Distance-Spanning-Tree-Dijkstra"><a href="#Model-4-Construct-Distance-Spanning-Tree-Dijkstra" class="headerlink" title="Model 4: Construct Distance Spanning-Tree (Dijkstra)"></a>Model 4: Construct Distance Spanning-Tree (Dijkstra)</h4><blockquote>
<p><code>权重函数 (Weighted Function)</code>c：是定义在\alpha \rightarrow \real的函数。</p>
<blockquote>
<p>若<code>边</code>\alpha &#x3D; \s{x, y}，则<code>该边的权重</code>c(\alpha) &#x3D; c\s{x,y}</p>
<blockquote>
<p>平时我们将<code>两个顶点之间的距离</code>定义为<code>两个顶点之间的边的条数</code>，可以视为是<code>每条边的权重均为1的权重函数</code></p>
</blockquote>
<p>若<code>途径</code>\gamma: \s{x_0,x_1},\s{x_1,x_2},\cdots \s{x_{k-1},x_k}，则<code>该途径的权重</code>c(\gamma) &#x3D; c\s{x_0,x_1} + c\s{x_1,x_2} + \cdots + c\s{x_{k-1},x_k}</p>
</blockquote>
<p><code>距离 (Distance)</code>d_c\s{x,y}：指的是在<code>权重函数</code>c之上，<code>顶点x</code>和<code>顶点y</code>的<code>所有途径中的权重最小的途径的权重</code></p>
</blockquote>
<p>G \define (V, E), V &#x3D; n, u \in V</p>
<ul>
<li><p>Step 1：\b{U \define \s{u}, F \define \varnothing, T \define (U,F) },\r{D(u) \define 0}</p>
</li>
<li><p>Step 2：当\b{\exists x \in U \and y \notin U, \alpha &#x3D; \s{x, y} \in E}时</p>
<ul>
<li>寻找\b{\alpha &#x3D; \s{x,y},} \r{x,y \t{ has the min-imum } D(x) + c\s{x,y}}</li>
<li>y \cup U</li>
<li>\alpha &#x3D; \s{x,y}\ cup F</li>
<li>\r{D(y) &#x3D; D(x) + c\s{x,y}}</li>
<li>Goto Step 2</li>
</ul>
</li>
<li><p>Step 3：T \dot{&#x3D;} (\b{U &#x3D; V}, F)</p>
</li>
</ul>
<hr>
<p><code>反证假设: 结论不成立</code>\implies\b{\exists y \in V, D(y) \gt d\s{u,y}}</p>
<p>则<code>假设: y是第一个被放入U中的具有这样的性质的顶点</code>，则G中存在\gamma: \r{u &#x3D; x_0}-x_1-\cdots-\r{x_k &#x3D; y} 且D(y) \gt d\s{u,y}</p>
<p>设x_j是在y之前放入U中的<code>路径</code>\gamma<code>的最后一个顶点</code>，则D(x_j) &#x3D; d\s{u, x_j}</p>
<p>故\gamma’ \subset \gamma,\gamma’: \r{u &#x3D; x_0} - x_1 - \cdots - \r{x_{j}} - \c{hotpink}{x_{j+1}}</p>
<p>故<code>得出</code></p>
<p>但是，根据算法，x_{j+1}是在y<code>之前</code>被放入U中的，这与我们对x_j的选择矛盾。</p>
<p>而这意味着：\b{\forall y \in V, D(y) &#x3D; d\s{u, y}} 与<code>假设</code>发生<code>矛盾</code></p>
<h4 id="Model-5-Construct-Minimum-Spanning-Tree-Kruskal"><a href="#Model-5-Construct-Minimum-Spanning-Tree-Kruskal" class="headerlink" title="Model 5: Construct Minimum Spanning-Tree (Kruskal)"></a>Model 5: Construct Minimum Spanning-Tree (Kruskal)</h4><blockquote>
<p>图的权重函数\boxed{\t{图的权重函数}} \lb{ \a{ &amp;G \define (V, E) \\ &amp;c(G) &#x3D; \sum_{\alpha \in E}{c(\alpha)} } }</p>
</blockquote>
<p>G \define (V, E), V &#x3D; n, u \in V</p>
<ul>
<li><p>Step 1：\b{G \define (V, E), F \define \varnothing}</p>
</li>
<li><p>Step 2：当\b{\exists \alpha \in E \and \alpha \notin F, F \cup \s{\alpha} \t{ don’t have \r{cycles}}}时</p>
<ul>
<li>寻找\b{\alpha \t{ has the min-imum } c(\alpha)}</li>
<li>\alpha \cup F</li>
<li>Goto Step 2</li>
</ul>
</li>
<li><p>Step 3：T \dot{&#x3D;} (\b{V}, F)</p>
</li>
</ul>
<h4 id="Model-6-Construct-Minimum-Spanning-Tree-Prim"><a href="#Model-6-Construct-Minimum-Spanning-Tree-Prim" class="headerlink" title="Model 6: Construct Minimum Spanning-Tree (Prim)"></a>Model 6: Construct Minimum Spanning-Tree (Prim)</h4><p>G \define (V, E), u \in V</p>
<ul>
<li><p>Step 1：\b{i \dot{&#x3D;}1, U_\r{1} \dot{&#x3D;} \s{u}, F_\r{1} \dot{&#x3D;} \varnothing, T_\r{1} \dot{&#x3D;} (U_\r{1}, F_\r{1}) }</p>
</li>
<li><p>Step 2：当\r{i &#x3D; 1,2,\cdots, n-1}</p>
<ul>
<li>Step 2-1：寻找\r{\alpha_i &#x3D; \s{x,y} \t{ has the min-imum } c(\alpha_i)}, \r{x \in U_i \and y \notin U_i}</li>
<li>Step 2-2：\r{U_{i+1} \define U_i \cup \s{y}}, F_{i+1} \define F_i \cup \s{\alpha_{i}}, T_{i+1} \define (U_{i+1}, F_{i+1})</li>
<li>Step 2-3：i &#x3D; i + 1</li>
</ul>
</li>
<li><p>Step 3：T_{n - 1} &#x3D; (\b{U_{n-1} &#x3D; V}, F_{n-1})</p>
</li>
</ul>
<h3 id="Shannon-Switching-Games"><a href="#Shannon-Switching-Games" class="headerlink" title="Shannon Switching Games"></a>Shannon Switching Games</h3><h4 id="Definition-4"><a href="#Definition-4" class="headerlink" title="Definition"></a>Definition</h4><p>设<code>图</code>G &#x3D; (V,E)是一个多重图，<code>起始顶点u</code>和<code>终止顶点v</code>是两个指定的顶点。</p>
<p><code>Shannon Games</code>需要2名<code>选手 (Player)</code>参与，轮流进行<code>建造 (Build)</code>和<code>破环 (Destroy)</code>：</p>
<p><code>正方选手 (Positive Player -&gt; Build)</code></p>
<blockquote>
<p>获胜条件是，<code>建立</code>起<code>顶点u和顶点v之间的一条路径。</code></p>
<p><code>建造</code>：在两个顶点之间<code>连接</code>一条边，任何被<code>建造</code>的边将<code>无法被破坏</code></p>
</blockquote>
<p><code>反方选手 (Negative Player -&gt; Destroy)</code></p>
<blockquote>
<p>获胜条件是，<code>破坏</code>掉<code>顶点u和顶点v之间的所有路径</code>，一旦<code>所有的路径</code>都被破坏，则<code>反方选手</code>可以<code>立即取得胜利</code></p>
<blockquote>
<p><code>Shannon Switching Games</code>不存在<code>平局</code>的情况，如果游戏一开始时，<code>顶点u</code>和<code>顶点v</code>就不连通，则<code>反方选择</code> <code>立即取得胜利</code>！</p>
</blockquote>
<p><code>破坏</code>：破坏两个顶点之间的一条边。</p>
</blockquote>
<p>我们考虑是否存在下面几种策略：</p>
<ul>
<li>是否存在<code>先方游戏</code>：即<code>先手必胜</code></li>
<li>是否存在<code>后方游戏</code>：即<code>后手必胜</code></li>
<li>是否存在<code>正方游戏</code>：即无论<code>正方选手</code>是<code>先手</code>还是<code>后手</code>，都必定<code>获胜</code></li>
<li>是否存在<code>反方游戏</code>：即无论<code>反方选手</code>是<code>先手</code>还是<code>后手</code>，都必定<code>获胜</code></li>
</ul>
<blockquote>
<p>对于<code>Shannon Switching Games</code>：</p>
<p>如果<code>正方选手/反方选手</code>可以<code>后手必胜</code>，则它也可以<code>先手必胜</code>。</p>
<blockquote>
<p>因为它只需要在<code>第一手</code>做<code>自由运动</code>即可。</p>
</blockquote>
</blockquote>
<h4 id="Theory-5"><a href="#Theory-5" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-4"><a href="#Theory-1-4" class="headerlink" title="Theory 1"></a>Theory 1</h5><p>对于<code>Shannon Switching Games</code>，如果在<code>先方游戏</code>的<code>多重图</code>G中，加入<code>连接顶点u和顶点v的边</code>形成G’，则该游戏将变成<code>正方游戏</code></p>
<hr>
<ul>
<li><p>如果<code>正方选手</code>是<code>先手</code>，则它可以：</p>
<ul>
<li>不使用<code>边&#123;u, v&#125;</code>，而按照<code>图</code>G所定义的<code>先方游戏</code>的策略来<code>获胜</code></li>
<li>使用<code>边 &#123;u, v&#125;</code>，直接<code>获胜</code></li>
</ul>
</li>
<li><p>如果<code>正方选手</code>是<code>反手</code>，则我们为<code>反方选手</code>做考虑：</p>
<ul>
<li><code>反方选手</code>必须<code>首先破坏</code> <code>边 &#123;u, v&#125;</code>，否则<code>正方选手</code>可以利用该边立即<code>获胜</code>。但如果<code>反方选手</code> <code>第一步用来破坏 边&#123;u, v&#125;</code>，则它将边为图图G中的<code>后方</code>，使得<code>正方选手</code>可以遵循<code>先方游戏</code>的策略来<code>获胜</code>。</li>
</ul>
</li>
</ul>
<h5 id="Theory-2-4"><a href="#Theory-2-4" class="headerlink" title="Theory 2"></a>Theory 2</h5><p><code>Shannon Switching Games</code>是一个<code>正方游戏</code>，当且仅当，存在<code>包含u和v的顶点集</code>V的<code>子集</code>U，使得<code>导出子图</code>G_U中存在2个<code>没有共同边的生成树</code></p>
<hr>
<p>不妨假设这两颗生成树为T_1和T_2</p>
<p>而<code>生成树</code>T_1 &#x3D; (V_1, E_1)和T_2 &#x3D; (V_2, E_2)拥有<code>相同的顶点集</code>，却<code>不存在共同边</code>，则说明如果我们对于<code>图</code>G &#x3D; (V &#x3D; V_1 &#x3D; V_2, G &#x3D; \b{E_1 + E_2})来说，<code>所有的顶点</code>都属于<code>某个圈</code>之中。则根据我们前面讨论的<code>生成树</code>相关的结论，可以知道对于V_1 + V_2<code>之中的任何两个邻接的顶点 都属于 同一个圈中</code>，也就是说，<code>连接任何两个邻接顶点的边 都不是 悬挂边</code>，所以，<code>反方选手如果破坏 任何两个邻接顶点所属的圈中的1条边，并不会影响这两个邻接顶点之间的连通性</code>！</p>
<blockquote>
<p>必须要求<code>图G的生成树</code>中<code>任何两个邻接的顶点</code>都要<code>属于同一个圈</code>。</p>
<p>如果有<code>任何两个邻接的顶点 被 悬挂边 所连接</code>，则一旦<code>反方选手</code>破坏该条<code>悬挂边</code>，则<code>图G</code>将被<code>分割</code>为2个<code>连通分量</code></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/08/combinatorics-arrangement-and-combination/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/08/combinatorics-arrangement-and-combination/" class="post-title-link" itemprop="url">Combinatorics -  Arrangement and Combination</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-08 20:33:57" itemprop="dateCreated datePublished" datetime="2022-04-08T20:33:57+00:00">2022-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Arrangement-and-Combination"><a href="#Arrangement-and-Combination" class="headerlink" title="Arrangement and Combination"></a>Arrangement and Combination</h1><h2 id="Basic-Counting-Principles"><a href="#Basic-Counting-Principles" class="headerlink" title="Basic Counting Principles"></a>Basic Counting Principles</h2><h3 id="The-Principle-of-Addiction"><a href="#The-Principle-of-Addiction" class="headerlink" title="The Principle of Addiction"></a>The Principle of Addiction</h3><p>若<code>集合 S</code>被<code>划分</code>成<code>两两不相交的部分</code>S_1, S_2, \cdots ,S_m，则<code>S的对象数目</code> 可以通过确定<code>它的每一个部分的对象数目</code>并如此相加而得到：</p>
<p>S &#x3D; S_1 + S_2 + \cdots +S_m</p>
<blockquote>
<p><code>基本的加法原理</code>仅仅适用于<code>两两不相交的部分</code>！</p>
</blockquote>
<blockquote>
<p><code>加法原理</code>适合运用的场景是：<code>所划分出的部分足够少</code>且<code>所划分出的部分我们能够进行计数</code></p>
</blockquote>
<h3 id="The-Principle-of-Multiplication"><a href="#The-Principle-of-Multiplication" class="headerlink" title="The Principle of Multiplication"></a>The Principle of Multiplication</h3><p>令<code>集合S</code>是<code>对象的有序对(a, b)</code>的集合，其中<code>第一个对象a</code>来自<code>大小为p的一个集合</code>，而对于<code>对象a的每一种选择</code>，<code>对象b</code>有<code>q种选择</code>。</p>
<p>于是：S &#x3D; p \times q</p>
<blockquote>
<p><code>乘法原理</code>是<code>加法原理</code>的一个推论：S &#x3D; S_1 + S_2 + \cdots +S_p &#x3D; q + q + \cdots + q &#x3D; p \times q</p>
</blockquote>
<h3 id="The-Principle-of-Subtration"><a href="#The-Principle-of-Subtration" class="headerlink" title="The Principle of Subtration"></a>The Principle of Subtration</h3><p>若存在<code>集合A</code>，<code>集合U</code>是<code>包含集合A的更大集合</code>。</p>
<p>设\overline{A} &#x3D; U \backslash A &#x3D; \{x \in U: x \notin A\}是<code>集合A在集合U中的补 (Complement)</code>。</p>
<p>那么有：A &#x3D; U - \overline{A}</p>
<h3 id="The-Principle-of-Division"><a href="#The-Principle-of-Division" class="headerlink" title="The Principle of Division"></a>The Principle of Division</h3><p>令<code>集合S</code>是一个<code>有限集合</code>，把它<code>划分</code>成<code>k个部分</code>使得<code>使得每一部分包含的对象数目</code> <code>相同</code></p>
<p>则，<code>此划分中的部分的数目</code>：在一个部分中的对象数目k &#x3D; \frac{S}{在一个部分中的对象数目}</p>
<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h3 id="Arrangement"><a href="#Arrangement" class="headerlink" title="Arrangement"></a>Arrangement</h3><h4 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h4><p>若<code>正整数 r</code>，则一个<code>n元素集合的r排列</code>，我们理解为<code>n个元素中的r个元素</code>的<code>有序放置</code>。</p>
<h4 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory 1"></a>Theory 1</h5><h5 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory 2"></a>Theory 2</h5><h3 id="Combination"><a href="#Combination" class="headerlink" title="Combination"></a>Combination</h3><h4 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h4><p>若<code>集合S</code>是<code>n元素集合</code>，则<code>集合S的一个组合</code>通常表示<code>集合S的元素的</code>一个<code>无序选择</code>。</p>
<p>这样的一个<code>选择</code>的结果是<code>S的元素构成的一个子集</code>A \subseteq S</p>
<blockquote>
<p><code>集合的子集</code>和<code>集合的组合</code>本质上是可以互换的。</p>
</blockquote>
<h4 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-1"><a href="#Theory-1-1" class="headerlink" title="Theory 1"></a>Theory 1</h5><h5 id="Theory-2-1"><a href="#Theory-2-1" class="headerlink" title="Theory 2"></a>Theory 2</h5><h5 id="Theory-3"><a href="#Theory-3" class="headerlink" title="Theory 3"></a>Theory 3</h5><hr>
<p>一种基于<code>组合学</code>的证明：</p>
<p>设<code>集合S</code>是<code>n元素集合</code>，从集合S中任意地选取一个<code>元素x</code>。</p>
<p>设<code>集合X</code>为<code>集合S的所有子集的集合</code>，然后将<code>集合X</code>划分为<code>A</code>和<code>B</code>两部分（即X &#x3D; A + B）：</p>
<ul>
<li>A部分：<code>不包含元素x的k子集</code></li>
<li>B部分：<code>包含元素x的k子集</code></li>
</ul>
<p>则，A &#x3D; \binom{n-1}{k}</p>
<blockquote>
<p>也就是我们将<code>元素x</code>从<code>集合S</code>中移除了</p>
</blockquote>
<p>且可得B &#x3D; \binom{n-1}{k-1}</p>
<blockquote>
<p><code>集合B</code>相当于在<code>集合A</code>的基础上，加入了<code>x元素</code>。</p>
<blockquote>
<p>或者理解为：先将<code>元素x</code>从<code>集合S</code>中拿出，然后在<code>S\x</code> 中选取 <code>k-1子集</code>，然后再把<code>集合x</code>加入到<code>k-1子集</code>中，这样即可得到<code>集合S的包含元素x的k子集</code></p>
<blockquote>
<p>S \backslash x &#x3D; S - \{x\}</p>
</blockquote>
</blockquote>
</blockquote>
<p>综上，\binom{n}{k} &#x3D; X &#x3D; A + B</p>
<p>Q.E.D</p>
<h5 id="Theory-4"><a href="#Theory-4" class="headerlink" title="Theory 4"></a>Theory 4</h5><hr>
<p>使用<code>双计数技术</code>可证明该结论：</p>
<ol>
<li><code>集合S的r子集个数的求和</code></li>
<li><code>乘法原理</code>对<code>集合S的r子集</code>的<code>生成过程</code></li>
</ol>
<h2 id="Multi-Set"><a href="#Multi-Set" class="headerlink" title="Multi-Set"></a>Multi-Set</h2><h3 id="Arrangement-1"><a href="#Arrangement-1" class="headerlink" title="Arrangement"></a>Arrangement</h3><h4 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h4><p><code>多重集合S</code>的一个<code>r排列</code>是<code>S中的r个对象</code>的一个<code>有序放置</code>。</p>
<blockquote>
<p><code>r个对象</code>也包含计数了<code>重复对象</code></p>
</blockquote>
<h4 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-2"><a href="#Theory-1-2" class="headerlink" title="Theory 1"></a>Theory 1</h5><blockquote>
<p>该定理不仅仅适用于<code>所有元素的重复数均为无限</code>的情况，只要<code>没有任何一种元素能被用尽</code>即可使用该定理。</p>
</blockquote>
<h5 id="Theory-2-2"><a href="#Theory-2-2" class="headerlink" title="Theory 2"></a>Theory 2</h5><hr>
<ul>
<li>Proof 1</li>
</ul>
<p>我们知道<code>拥有n种类型的对象，且每种类型的对象都只有1个的集合S</code>的<code>r排列</code>数量为n!</p>
<p>现在，假如<code>对象</code>a_1有<code>3个</code>，则<code>对象</code>a_1会在<code>任何一个特定的排列</code>中<code>出现3次</code>，我们<code>隐含地给对象</code>a_1<code>加上编号</code>：a_1^1, a_1^2, a_1^3。</p>
<p>则可以知道，<code>对象</code>a_1<code>在该特定排列中出现的方式有</code>3!<code>种</code>。</p>
<p>但是，实际上，我们知道<code>对象</code>a_1<code>是不可区分的</code>！故我们实际上要<code>将</code>a_1<code>所有可能的出现方式</code>都<code>视为1种</code>，即<code>除以</code>a_1。</p>
<p>同理，对<code>其余的元素</code>也这样处理。</p>
<p>Q.E.D</p>
<ul>
<li>Proof 2</li>
</ul>
<p>确定<code>多重集合的n排列</code>等价于<code>在n个位置中的每一个位置放入S中的一个对象</code>。</p>
<p>我们可以首先考虑<code>所有的对象</code>a_1，则它有<code>放置方案</code>：\binom{n}{n_1}</p>
<p>然后，考虑<code>所有的对象</code>a_2，则它有<code>放置方案</code>：\binom{n-n_1}{n_2}</p>
<p>如此对<code>剩下的所有类型对象</code>进行考虑。得出</p>
<h5 id="Theory-3-1"><a href="#Theory-3-1" class="headerlink" title="Theory 3"></a>Theory 3</h5><p>若有<code>正整数n</code>使得n &#x3D; n_1 + n_2 + \cdots +n_k。</p>
<p>把<code>n对象集合</code> <code>划分</code>成<code>k个标有标签的盒子</code>，满足约束：<code>第1个盒子</code>含有n_1<code>个对象</code>，<code>第2个盒子</code>含有n_2<code>个对象</code>，…，<code>第k个盒子</code>含有n_k<code>个对象</code>。</p>
<p>则这样的<code>划分数</code>为：\frac{n!}{n_1!n_2!\cdots n_k!}</p>
<p>如果<code>这k个盒子不带有标签</code>且n_1 &#x3D; n_2 &#x3D; \cdots + n_k，则<code>划分数</code>= \frac{n!}{\r{k!}n_1!n_2!\cdots n_k!}</p>
<blockquote>
<p>我们并没有说<code>第1个盒子</code>里一定<code>全部都是对象</code>a_1，这里我们的<code>n</code>指代的是<code>n个对象</code>，而不是<code>n个位置</code></p>
</blockquote>
<hr>
<p>根据\binom{n}{n-1}\binom{n-n_1}{n_2}\cdots \binom{n-n_1-n_2-\cdots-n_{k-1}}{n_k}的<code>组合含义</code>即可得证。</p>
<p>如果<code>k个盒子不带有标签</code>，则意味着<code>这k个盒子是不区分的</code> ，所以<code>划分数</code>需要再除以<code>k!</code></p>
<blockquote>
<p>注意：我们说的是<code>盒子本身 (the box itself)</code>是<code>不可区分的 (Indistinguishable)</code> ，</p>
<p>但是，<code>盒子的内容 (the content of the box)</code>是<code>可区分的 (Distinguishable)</code></p>
</blockquote>
<h5 id="Theory-4-1"><a href="#Theory-4-1" class="headerlink" title="Theory 4"></a>Theory 4</h5><p>有<code>k种颜色共n个车</code>：<code>第1种颜色的车</code>有n_1个，<code>第2种颜色的车</code>有n_2个，…，<code>第k种颜色的车</code>有n_k个</p>
<p>把这些<code>车</code> <code>放置</code>到一个<code>n × n的棋盘</code>上，使得任何车之间不能<code>互相攻击</code>的<code>方案数</code>：\r{n!} \frac{n!}{n_1!n_2!\cdots n_k!} &#x3D; \frac{\r{(n!)^2}}{n_1!n_2!\cdots n_k!}</p>
<hr>
<p>我们可以<code>从上到下逐行地进行放置车</code>，这样，我们可以<code>保证没有任何车会被同一行的其他车攻击</code>（因为我们只会在每一行放置1只车）。</p>
<p>问题则转化为，如何使得<code>任何车不被同列的其他车攻击到</code>。</p>
<p>我们分两步：</p>
<ol>
<li><p><code>在棋盘上逐行地放置n个没有颜色的车</code>：n!</p>
<blockquote>
<p>这里的<code>没有颜色的车</code>说明<code>车</code>是<code>不可区分的</code>。我们仅仅需要考虑<code>逐行放置车时不能存在攻击型车</code>即可，而<code>不需要考虑颜色</code>。</p>
<p>同理，如果<code>两个车的颜色相同，则它们也是不可区分的</code></p>
</blockquote>
</li>
<li><p><code>给棋盘上的n个车进行涂色</code> &#x3D; <code>给含有n个对象，且每个对象有特定重复数的多重集合 求 排列数</code>：\frac{n!}{n_1!n_2!\cdots n_k!}</p>
<blockquote>
<p>此时，\frac{n!}{n_1!n_2!\cdots n_k!}中的<code>n</code>的含义为<code>n排列中的总共n个位置</code>，同时也对应着<code>n个即将要被上色的车</code></p>
</blockquote>
</li>
</ol>
<p>综上，Q.E.D</p>
<blockquote>
<p>Q: 为什么<code>不直接求含n元素的多重集合的r排列数</code>？</p>
<p>A: 因为<code>求含n元素的多重集合的n排列数</code>是简单的，但是<code>求含n元素的多重集合的r排列数</code>通常比较困难。</p>
<p>所以我们需要分为<code>两步</code>，先<code>排列无色车的位置</code>然后再<code>给所有的无色车进行上色</code>，这样就只需要求<code>含n元素的多重集合的n排列数</code>了。</p>
</blockquote>
<h3 id="Combination-1"><a href="#Combination-1" class="headerlink" title="Combination"></a>Combination</h3><h4 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h4><p><code>多重集合S</code>的<code>r组合</code>是<code>S中的r个对象</code>的<code>无序选择</code>。</p>
<blockquote>
<p><code>多重集合S的r组合</code>本质上也是一个<code>多重集合</code>，我们一般称为<code>多重子集 (Sub Multi-Set)</code></p>
</blockquote>
<h4 id="Theory-3"><a href="#Theory-3" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-3"><a href="#Theory-1-3" class="headerlink" title="Theory 1"></a>Theory 1</h5><hr>
<h2 id="Finite-Probability"><a href="#Finite-Probability" class="headerlink" title="Finite Probability"></a>Finite Probability</h2><h3 id="Definition-4"><a href="#Definition-4" class="headerlink" title="Definition"></a>Definition</h3><p>若一个<code>实验</code>\epsilon所产生的<code>结果</code>属于<code>有限结果</code>，则我们称该实验为<code>有限实验</code>。</p>
<p>若每一个<code>结果</code>都是<code>等可能的 (Equally Likely)</code>：则该实验是<code>随机的 (Randomly)</code>。</p>
<p>我们称<code>样本空间 (Sample Space)</code>S &#x3D; \{s_1, s_2, \cdots, s_n\} 且Prob(s_i) &#x3D; \frac{1}{n} \quad(i &#x3D; 1,2,\cdots,n)</p>
<p>我们称<code>事件 (Event)</code>就是E \subseteq S</p>
<p>我们称<code>概率 (Probability)</code>为Prob(E) &#x3D; \frac{E}{S}, \quad 0 \le Prob(E) \le 1</p>
<blockquote>
<p><code>空事件</code>： Prob(E) &#x3D; 0 \implies E &#x3D; \varnothing</p>
<p><code>样本空间</code>： Prob(E) &#x3D; 1 \implies E &#x3D; S</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/07/combinatorics-recursion-and-generating-functions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/07/combinatorics-recursion-and-generating-functions/" class="post-title-link" itemprop="url">Combinatorics - Recursion and Generating Functions</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-07 18:38:33" itemprop="dateCreated datePublished" datetime="2022-04-07T18:38:33+00:00">2022-04-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Recursion-And-Generate"><a href="#Recursion-And-Generate" class="headerlink" title="Recursion And Generate"></a>Recursion And Generate</h1><h2 id="Sequence"><a href="#Sequence" class="headerlink" title="Sequence"></a>Sequence</h2><h3 id="Arithmetic-Sequence-amp-Geometric-Sequence"><a href="#Arithmetic-Sequence-amp-Geometric-Sequence" class="headerlink" title="Arithmetic Sequence &amp; Geometric Sequence"></a>Arithmetic Sequence &amp; Geometric Sequence</h3><h3 id="Fibonacci-Sequence"><a href="#Fibonacci-Sequence" class="headerlink" title="Fibonacci Sequence"></a>Fibonacci Sequence</h3><h4 id="Theory"><a href="#Theory" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory 1"></a>Theory 1</h5><hr>
<h5 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory 2"></a>Theory 2</h5><h5 id="Theory-3"><a href="#Theory-3" class="headerlink" title="Theory 3"></a>Theory 3</h5><h5 id="Theory-4"><a href="#Theory-4" class="headerlink" title="Theory 4"></a>Theory 4</h5><p>在<code>帕斯卡三角形</code>的<code>从左下到右上的对角线上的二项式系数的和</code>就是<code>斐波那契数</code>：</p>
<hr>
<p>故，只需证明g_n满足<code>斐波那契关系</code>。</p>
<p>Q.E.D</p>
<h4 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h4><h5 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h5><h5 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h5><p>求使用<code>多米诺骨牌</code> <code>完美覆盖</code> <code>2 × n棋盘</code>的<code>方法数</code>h_n</p>
<hr>
<p>尝试将<code>原问题</code>的转化为<code>子问题</code>。</p>
<p>可以将<code>所有的放置方案</code> <code>划分</code>为两种<code>类型</code></p>
<ol>
<li>第一个2 × 1的棋盘放置1个<code>竖直多米诺骨牌</code>：该种类型的方案数为h_{n-1}</li>
<li>第一个2 × 2的棋盘放置2个<code>水平多米诺骨牌</code>：该种类型的方案数为h_{n-2}</li>
</ol>
<p>综上，h_n &#x3D; h_{n-1} + h_{n-2},\quad (n \ge 2)</p>
<blockquote>
<p>我们定义h_0 &#x3D; 1，计算求得h_1 &#x3D; 1</p>
</blockquote>
<h3 id="General-Generating-Functions"><a href="#General-Generating-Functions" class="headerlink" title="General Generating Functions"></a>General Generating Functions</h3><h4 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h4><blockquote>
<p><code>生成函数</code>是无限可微分函数的<code>泰勒级数 (Taylor)</code> <code>(幂级数展开式)</code></p>
</blockquote>
<p>若h_0,h_1,\cdots,h_n,\cdots是<code>无穷数列</code>，则它的<code>生成函数 (Generating Function)</code>定义为<code>无穷级数</code>g(x) &#x3D; h_0 + h_1x + h_2x^2 + \cdots + h_nx^n + \cdots</p>
<h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h4><h5 id="Example-1-1"><a href="#Example-1-1" class="headerlink" title="Example 1"></a>Example 1</h5><h5 id="Example-2-1"><a href="#Example-2-1" class="headerlink" title="Example 2"></a>Example 2</h5><hr>
<h5 id="Example-3"><a href="#Example-3" class="headerlink" title="Example 3"></a>Example 3</h5><blockquote>
<p>由于 <code>这k个因子中的每一个项的系数均为1</code>，所以x_n<code>的系数</code> &#x3D; <code>方程的非负整数解的个数</code></p>
</blockquote>
<h5 id="Example-4"><a href="#Example-4" class="headerlink" title="Example 4"></a>Example 4</h5><p>确定<code>苹果</code>，<code>香蕉</code>，<code>橘子</code>和<code>梨</code>的<code>n组合的个数</code>，且要求苹果的个数是偶数，香蕉的个数是奇数，橘子的个数在0和4之间，至少要有1个梨。</p>
<hr>
<blockquote>
<p>当e_i前面带有<code>系数</code>时，我们可以很容易地将<code>系数</code>变为<code>1</code></p>
<blockquote>
<p>只需要简单的使用<code>变量替换</code>即可，则e_i \rightarrow e_i’</p>
</blockquote>
</blockquote>
<h5 id="Example-5"><a href="#Example-5" class="headerlink" title="Example 5"></a>Example 5</h5><h5 id="Example-6"><a href="#Example-6" class="headerlink" title="Example 6"></a>Example 6</h5><hr>
<blockquote>
<p><code>多项式</code>g_n(x)<code>的次数 =</code> 0+1+2+\cdots+(n-1) &#x3D; \frac{n(n-1)}{2}</p>
</blockquote>
<p>对于所有的p &#x3D; 0,1,\cdots,n(n-1)&#x2F;2，有g(x)中中x^p的系数 &#x3D; h(n,p)(x)</p>
<p>Q.E.D</p>
<h3 id="Exponential-Generating-Functions"><a href="#Exponential-Generating-Functions" class="headerlink" title="Exponential Generating Functions"></a>Exponential Generating Functions</h3><h4 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h4><h4 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h4><h5 id="Example-1-2"><a href="#Example-1-2" class="headerlink" title="Example 1"></a>Example 1</h5><h5 id="Example-2-2"><a href="#Example-2-2" class="headerlink" title="Example 2"></a>Example 2</h5><h5 id="Example-3-1"><a href="#Example-3-1" class="headerlink" title="Example 3"></a>Example 3</h5><hr>
<p>Q.E.D</p>
<h5 id="Example-4-1"><a href="#Example-4-1" class="headerlink" title="Example 4"></a>Example 4</h5><p>设h_n表示<code>由数字1,2,3构造的n位数的个数</code>，其中在<code>这个n位数</code>中：1的个数为偶数，2的个数至少为3，3的个数至多为4。</p>
<p>确定数列h_0, h_1, \cdots, h_n, \cdots的<code>指数生成函数</code></p>
<hr>
<h5 id="Example-5-1"><a href="#Example-5-1" class="headerlink" title="Example 5"></a>Example 5</h5><p>用<code>红色</code>，<code>白色</code>和<code>蓝色</code>三种颜色给<code>1 × n的棋盘</code>进行着色，求<code>被着色成红色的方格数是偶数的方案数</code>。</p>
<hr>
<ul>
<li><p>Generating Functions</p>
</li>
<li><p>Recursion</p>
</li>
</ul>
<p>考虑<code>1 × n的棋盘</code>，我们可以<code>划分</code>为<code>两个部分</code>：<code>第1格</code>和<code>剩下的所有格子</code>：</p>
<ol>
<li><p>如果<code>第一格涂非红色</code></p>
<ol>
<li>第一格涂白色：h_{n-1}</li>
<li>第一格涂蓝色：h_{n-1}</li>
</ol>
</li>
<li><p>如果<code>第一格涂红色</code>：则由于<code>奇偶性</code>可知，<code>剩下的格子中红色的方格数是奇数 = 所有方案 - 红色方格是偶数的方案</code>。3^{n-1} - h_{n-1}</p>
</li>
</ol>
<p>综上，h_n &#x3D; (2h_{n-1}) + (3^{n-1} - h_{n-1}) &#x3D; h_{n-1} + 3^{n-1} \implies h_n &#x3D; \frac{3^n + 1}{2}</p>
<h5 id="Example-6-1"><a href="#Example-6-1" class="headerlink" title="Example 6"></a>Example 6</h5><p>确定满足下列条件的<code>n位数的个数</code>：每个数字都是<code>奇数</code>，<code>数字1</code>和<code>数字3</code>出现偶数次。</p>
<hr>
<h5 id="Example-7"><a href="#Example-7" class="headerlink" title="Example 7"></a>Example 7</h5><p>确定使用<code>红色</code>，<code>白色</code>和<code>蓝色</code>三种颜色给<code>1 × n棋盘</code>的着色中：红格数量为<code>偶数</code>，蓝格<code>至少有一个</code> 的着色方法数。</p>
<hr>
<h3 id="Fractional-Generating-Functions"><a href="#Fractional-Generating-Functions" class="headerlink" title="Fractional Generating Functions"></a>Fractional Generating Functions</h3><h4 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h4><p><code>分式生成函数</code>可以用于求解<code>k阶常系数线性齐次递推关系</code>：</p>
<p>p(x)是<code>次数小于k的多项式</code>，q(x)是<code>常数项等于1的k阶多项式</code></p>
<h4 id="Theory-1"><a href="#Theory-1" class="headerlink" title="Theory"></a>Theory</h4><h5 id="Theory-1-1"><a href="#Theory-1-1" class="headerlink" title="Theory 1"></a>Theory 1</h5><p>设h_0,h_1,h_2,\cdots,h_n是满足h_n + c_1h_{n-1} + \cdots + c_kh_{n-k} &#x3D; 0,\quad c_k \ne 0 \quad(n \ge k)的<code>k阶常系数齐次递推关系的数列</code>，则它的<code>生成函数</code> g(x)是</p>
<p>形如下列形式的函数g(x) &#x3D; \frac{p(x)}{q(x)}，其中p(x)是<code>次数小于k的多项式</code>，q(x)是<code>常数项不等有0的k次多项式</code>。</p>
<p>反之，给定这样的<code>多项式</code>p(x)和q(x)，则存在<code>序列</code>h_0,h_1,h_2,\cdots, 满足上述给出的类型的<code>k阶常系数齐次递推关系</code>，且<code>生成函数</code>为g(x) &#x3D; \frac{p(x)}{q(x)}</p>
<hr>
<h4 id="Example-3"><a href="#Example-3" class="headerlink" title="Example"></a>Example</h4><h5 id="Example-1-3"><a href="#Example-1-3" class="headerlink" title="Example 1"></a>Example 1</h5><p>求解h_n + h_{n-1} - 16h_{n-2} + 20h_{n-3} &#x3D; 0 \quad(n \ge 3), h_0 &#x3D; 0, h_1 &#x3D; 1, h_2 &#x3D; -1</p>
<hr>
<h3 id="Solve-Recursive-Relations"><a href="#Solve-Recursive-Relations" class="headerlink" title="Solve Recursive Relations"></a>Solve Recursive Relations</h3><h4 id="Solve-Linear-Homogeneous-Recursive-Relations"><a href="#Solve-Linear-Homogeneous-Recursive-Relations" class="headerlink" title="Solve Linear Homogeneous Recursive Relations"></a>Solve Linear Homogeneous Recursive Relations</h4><h5 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h5><p>若h_0,h_1,\cdots,h_n,\cdots是一个<code>数列</code>。我们称该<code>数列</code>满足<code>k阶线性递推关系</code>是指：存在<code>量</code>a_1,a_2,\cdots,a_k \quad(a_k \ne 0)和<code>量</code>b_n，使得</p>
<p>\textcolor{blue}{h_n &#x3D; a_1h_{n-1} + a_2h_{n-2} + \cdots + a_kh_{n-k} + b_n \quad(a_k \ne 0, n \ge k)}</p>
<blockquote>
<p>a_1,a_2,\cdots a_k ,b_n有可能是<code>常数</code>，也有可能依赖于n</p>
</blockquote>
<blockquote>
<p>如果a_1,a_2,\cdots, a_k是<code>常数</code>，则我们称这个<code>线性递推关系</code>是<code>常系数的 (Constant Coefficient)</code></p>
<p>如果b_n &#x3D; 0，则我们称这个<code>线性递推关系</code> 是<code>齐次的 (Homogenous)</code></p>
</blockquote>
<p><code>初始值</code>指的是h_0,h_1,\cdots,h_{k-1}的值，一旦初始值被指定后，<code>递推关系</code>就<code>唯一确定</code>，而<code>递推关系</code>将从<code>n=k</code>开始<code>生效</code>。</p>
<h5 id="Theory-2"><a href="#Theory-2" class="headerlink" title="Theory"></a>Theory</h5><h6 id="Theory-1-2"><a href="#Theory-1-2" class="headerlink" title="Theory 1"></a>Theory 1</h6><p>设<code>q</code>是一个<code>非零的数</code>，则h_n &#x3D; q^n是下面<code>常系数线性齐次递推关系</code>h_n - a_1h_{n-1} - a_2h_{n-2} - \cdots - a_kh_{n-k} &#x3D; 0 \quad(a_k \ne 0, n \ge k)的<code>解</code> <code>当且仅当</code> <code>q</code>是下面<code>多项式方程</code>x^k - a_1x^{k-1} - a_2x^{k-2} - \cdots - a_k &#x3D; 0的<code>根</code>。</p>
<p>如果<code>多项式方程</code>有<code>k个不同的根</code>q_1, q_2, \cdots, q_k则 h_n &#x3D; c_1q_1^n + c_2q_2^n + \cdots + c_kq_k^n是<code>常系数线性齐次递推关系</code>的<code>通解</code></p>
<blockquote>
<p>注意：h_n是通解的前提是，这k个根是<code>不同的</code>，也就是这k个根中不能有<code>重根</code>！</p>
</blockquote>
<hr>
<h6 id="Theory-2-1"><a href="#Theory-2-1" class="headerlink" title="Theory 2"></a>Theory 2</h6><p>设q_1, q_2, \cdots, q_t是<code>常系数线性齐次递推关系</code>h_n &#x3D; a_1h_{n-1} + a_2h_{n-2} + \cdots + a_kh_{n-k},\quad (n \ge k)<code>的特征方程</code>的<code>互不相同的根</code>。</p>
<p>如果q_i是<code>特征方程的</code>s_i<code>重根</code>，则这个<code>递推关系的通解</code>中<code>对应于</code>q_i<code>的部分</code>是\textcolor{blue}{H_n^{(i)} &#x3D; c_1q_i^n + c_2nq_i^n + \cdots + c_{s_i}n^{s_i - 1}q_i^n &#x3D; (c_1 + c_2n + c_3n^2 + \cdots + c_{s_i}n^{s_i - 1}) q_i^n}</p>
<p>这个<code>递推关系的通解</code>是h_n &#x3D; H_n^{(1)} + H_n^{(2)} + \cdots + H_n^{(t)}</p>
<blockquote>
<p>当求解递推关系遇到<code>重根</code>时，可以使用该方法<code>构造</code> <code>剩余的解</code></p>
</blockquote>
<h5 id="Example-4"><a href="#Example-4" class="headerlink" title="Example"></a>Example</h5><h6 id="Example-1-4"><a href="#Example-1-4" class="headerlink" title="Example 1"></a>Example 1</h6><p>二阶常系数线性齐次微分方程</p>
<h6 id="Example-2-3"><a href="#Example-2-3" class="headerlink" title="Example 2"></a>Example 2</h6><p>已知<code>初始值</code>h_0 &#x3D; 1, h_1 &#x3D; 2, h_2 &#x3D; 0，求解<code>递推关系</code>h_n &#x3D; 2h_{n-1} + h_{n-2} - 2h_{n-3} \quad(n \ge 3)</p>
<hr>
<h6 id="Example-3-2"><a href="#Example-3-2" class="headerlink" title="Example 3"></a>Example 3</h6><p>只由三个<code>字母a, b, c</code>组成的<code>长度为n的一些单词</code>在<code>通信信道</code>上传输，满足条件：传输中不得有<code>两个连续的a</code>出现在<code>任一单词</code>。</p>
<p>确定<code>通信信道</code>中<code>允许传输的单词个数</code></p>
<hr>
<blockquote>
<p>Method 1: Solve the recursive equation</p>
</blockquote>
<p>设h_n表示<code>允许传输的长度为n的单词个数</code>：</p>
<ul>
<li><p>h_0 &#x3D; 1</p>
<blockquote>
<p>h_0实际表示含义是<code>空单词</code>，这里我们是<code>定义</code>h_0 &#x3D; 1以便符合h_2的递推关系。</p>
</blockquote>
</li>
<li><p>h_1 &#x3D; 3</p>
</li>
<li><p>h_2 &#x3D; 2 \times h_1 + 2 \times h_{0}</p>
</li>
<li><p>…</p>
</li>
<li><p>h_n &#x3D; 2 \times h_{n-1} + 2 \times h_{n-2} \quad(n \ge 2)</p>
</li>
</ul>
<p>根据<code>初始值</code>h_0 &#x3D; 1, h_1 &#x3D; 3求出<code>递推关系的解</code></p>
<p>h_n &#x3D; \frac{2 + \sqrt{3}}{2\sqrt{3}}(1+\sqrt{3})^n + \frac{-2+\sqrt{3}}{2\sqrt{3}}(1-\sqrt{3})^n \quad(n \ge 0)</p>
<blockquote>
<p>Method 2: Generating functions</p>
</blockquote>
<h6 id="Example-4-2"><a href="#Example-4-2" class="headerlink" title="Example 4"></a>Example 4</h6><p>确定下面<code>数列</code> 的<code>生成函数</code>：0,1,4,\cdots,n^2,\cdots</p>
<hr>
<h6 id="Example-5-2"><a href="#Example-5-2" class="headerlink" title="Example 5"></a>Example 5</h6><p>使用<code>生成函数</code>求解<code>递归关系</code>。</p>
<p>h_n &#x3D; 5h_{n-1} - 6h_{n-2} \quad(n \ge 2), h_0 &#x3D; 1, h_1 &#x3D; 2</p>
<hr>
<h6 id="Example-6-2"><a href="#Example-6-2" class="headerlink" title="Example 6"></a>Example 6</h6><p>当<code>特征方程</code>存在<code>重根</code>时，必须<code>寻找与该根相关的其他解法</code>。</p>
<h6 id="Example-7-1"><a href="#Example-7-1" class="headerlink" title="Example 7"></a>Example 7</h6><p>求解y’’ - 4y’ + 4y &#x3D; 0</p>
<hr>
<h6 id="Example-8"><a href="#Example-8" class="headerlink" title="Example 8"></a>Example 8</h6><p>求解h_n - 4h_{n-1} + 4h_{n-2} &#x3D; 0 \quad(n \ge 2)</p>
<hr>
<h6 id="Example-9"><a href="#Example-9" class="headerlink" title="Example 9"></a>Example 9</h6><p>求解h_n &#x3D; -h_{n-1} + 3h_{n-2} + 5h_{n-3} + 2h_{n-4} \quad(n \ge 4)</p>
<hr>
<h4 id="Solve-Linear-In-homogeneous-Recursive-Relations"><a href="#Solve-Linear-In-homogeneous-Recursive-Relations" class="headerlink" title="Solve Linear In-homogeneous Recursive Relations"></a>Solve Linear In-homogeneous Recursive Relations</h4><h5 id="Example-5"><a href="#Example-5" class="headerlink" title="Example"></a>Example</h5><h6 id="Example-1-Hanoi-Problem"><a href="#Example-1-Hanoi-Problem" class="headerlink" title="Example 1: Hanoi Problem"></a>Example 1: Hanoi Problem</h6><ul>
<li>有<code>三根柱子</code>，在<code>其中一根柱子</code>上<code>穿有大小递增的n个圆盘</code>，最大的圆盘放在底部。</li>
</ul>
<p>现在，要<code>一次一个</code>地将<code>这些圆盘</code>移动到<code>另一根柱子</code>上，而且规定任何时刻都<code>不允许将大圆盘放在小圆片的上面</code>。</p>
<p>求：将圆盘从一根柱子转移到另一根柱子所需的<code>移动次数</code></p>
<hr>
<p>设h_n是将<code>n个圆盘从一根柱子移动到另一根柱子所需的移动次数</code>。</p>
<p>h_n &#x3D; h_{n-1} + 1 + h_{n+1} &#x3D; 2h_{n-1} + 1,\quad (n \ge 1)</p>
<blockquote>
<p>假如说，我们有3根柱子，初始时第1根和第3根柱子都不放圆盘，第2根柱子放n个圆盘。</p>
<p>如果要将这n个圆盘移动到其他圆盘上（就比如说移动到第3个柱子）。</p>
<p>则，我们首选，要将<code>最上面的n-1个圆盘</code>移动到<code>第1个柱子</code>，然后把<code>第2根柱子底下最大的那个圆盘</code>移动到<code>第3根柱子</code>。</p>
<p>之后，再<code>从第一根柱子把n-1个圆盘</code>移动到<code>第3根柱子</code></p>
<blockquote>
<p>这个子问题分解有一个好处是，可以<code>简单地忽略掉</code> <code>比问题规模里所有圆盘都更大的圆盘</code>，而这并不会<code>改变问题的性质</code>。</p>
<p>所以我们可以从<code>问题规模n</code>中分解<code>子问题规模n-1</code>，但却仍然<code>保持原问题的性质</code></p>
</blockquote>
</blockquote>
<p>同时，易得h_0 &#x3D; 0</p>
<hr>
<ul>
<li>求解h_n &#x3D; 2h_{n-1} + 1,\quad (n\ge1), h_0 &#x3D; 0</li>
</ul>
<hr>
<blockquote>
<p><code>Brahma/Reve Problem</code>指的是存在4根柱子的汉诺塔问题，这些问题尚未被解决。</p>
</blockquote>
<hr>
<h6 id="Example-2-4"><a href="#Example-2-4" class="headerlink" title="Example 2"></a>Example 2</h6><blockquote>
<ul>
<li>Background</li>
</ul>
</blockquote>
<p>求解h_n &#x3D; 3h_{n-1} - 4n \quad(n \ge 1), h_0 &#x3D; 2</p>
<hr>
<blockquote>
<p>Method 1: Differential Equation Method</p>
</blockquote>
<blockquote>
<p>首先，这是一个<code>非齐次线性微分方程</code>，因为b_n &#x3D; -4n \ne 0</p>
<p>所以，<code>非通 = 齐通 + 非特</code></p>
</blockquote>
<ul>
<li>齐次线性微分方程的通解</li>
</ul>
<p>齐次线性微分方程的通解非齐次线性微分方程的特解非齐次线性微分方程的通解</p>
<blockquote>
<ul>
<li>求解<code>非齐次线性微分方程</code>的策略</li>
</ul>
<ol>
<li><p>求<code>齐次线性微分方程的通解</code>：难点在于求解<code>特征方法</code></p>
</li>
<li><p>求<code>非齐次线性微分方程的特解</code>：难点在于<code>如何尝试特定类型的特殊解</code></p>
<blockquote>
<ul>
<li><p>若b_n是<code>n的k次多项式</code>，则寻找也是<code>n的k次多项式</code>的特殊解</p>
<ul>
<li>b_n &#x3D; d(constant) \implies h_n &#x3D; r</li>
<li>b_n &#x3D; dn + e \implies h_n &#x3D; rn + s</li>
<li>b_n &#x3D; dn^2 + en + f \implies h_n &#x3D; rn^2 + sn + t</li>
</ul>
</li>
<li><p>若b_n是<code>指数形式</code>，则寻找也是<code>指数形式</code>的特殊解</p>
<ul>
<li>b_n &#x3D; d^n \implies h_n &#x3D; pd^n</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li><p>将<code>通解</code>和<code>特解</code>做线性组合，并确定其中的<code>常数</code></p>
</li>
</ol>
</blockquote>
<hr>
<blockquote>
<p>Method 2: Generating Function Method</p>
</blockquote>
<blockquote>
<p>利用<code>生成函数法</code>可以避免<code>微分方程法</code>中的<code>求解非齐次线性微分方程的特解</code>问题。</p>
</blockquote>
<h6 id="Example-3-3"><a href="#Example-3-3" class="headerlink" title="Example 3"></a>Example 3</h6><p>求解h_n &#x3D; 2h_{n-1} + 3^n \quad(n \ge 1), h_0 &#x3D; 2</p>
<hr>
<p>齐次方程的通解非齐次方程的特解非齐次方程的通解</p>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/05/codesnippet-a-simple-judger-for-java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/05/codesnippet-a-simple-judger-for-java/" class="post-title-link" itemprop="url">CodeSnippet - A Simple Judger for Java</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-05 22:22:32" itemprop="dateCreated datePublished" datetime="2022-04-05T22:22:32+00:00">2022-04-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="A-Simple-Judger-for-Java"><a href="#A-Simple-Judger-for-Java" class="headerlink" title="A Simple Judger for Java"></a>A Simple Judger for Java</h1><p>一个简单判题机，基于Java语言，于Windows或Linux平台，为了本地测试。</p>
<h2 id="Function-List"><a href="#Function-List" class="headerlink" title="Function List"></a>Function List</h2><ul>
<li><p>易于使用的接口设计</p>
</li>
<li><p>规格化的信息格式</p>
</li>
<li><p>链式配置函数</p>
</li>
<li><p>输入&#x2F;输出文件模糊扫描</p>
</li>
<li><p>支持ForEach的迭代器模式</p>
</li>
<li><p>自动案例计时</p>
</li>
<li><p>自动重定向IO</p>
</li>
<li><p>自动异常捕获</p>
</li>
<li><p>设置单案例运行时间限制</p>
</li>
<li><p>全局判题结果统计</p>
</li>
<li><p>可选的手动计时器控制</p>
</li>
<li><p>可选的忽略输入和输出</p>
</li>
<li><p>可选的输入输出行数限制</p>
</li>
<li><p>可自定义的错误流文件</p>
</li>
<li><p>输出Judger调试信息</p>
</li>
<li><p>跳过特定案例</p>
</li>
<li><p>忽略&#x2F;不忽略特定案例</p>
</li>
<li><p>延迟初始化</p>
</li>
<li><p>优雅退出</p>
</li>
<li><p>内建输出函数</p>
</li>
<li><p>安全运行块</p>
</li>
</ul>
<h2 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.URI;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Files;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Teeth</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 3/5/2022 07:16</span></span><br><span class="line"><span class="comment"> * A simple judger to read in the input and output files and compare them.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&#123;&quot;UnusedReturnValue&quot;, &quot;SpellCheckingInspection&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Judger</span> <span class="keyword">implements</span> <span class="title class_">Iterable</span>&lt;Scanner&gt;, Iterator&lt;Scanner&gt; &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Pair Define */</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unused&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Pair</span>&lt;K, V&gt; &#123;</span><br><span class="line">        <span class="keyword">public</span> K key;</span><br><span class="line">        <span class="keyword">public</span> V value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.key = key;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> K <span class="title function_">getKey</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> key;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> V <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setKey</span><span class="params">(K key)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.key = key;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue</span><span class="params">(V value)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Special Flags */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">ignoreCaseFileNamePrefix</span> <span class="operator">=</span> <span class="string">&quot;_&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">defaultEndTimestamp</span> <span class="operator">=</span> <span class="number">0xdead</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Redirect System.out */</span></span><br><span class="line">    <span class="keyword">private</span> PrintStream tempOutPrintStream;</span><br><span class="line">    <span class="keyword">private</span> File tempOutFile;</span><br><span class="line">    <span class="keyword">private</span> Pair&lt;File, File&gt; currentCase;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Case Queue */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">judgerInitialized</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> File inDirectory;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> File outDirectory;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Queue&lt;Pair&lt;File, File&gt;&gt; caseQueue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Judger Flags */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ArrayList&lt;String&gt; joinCaseFileKeywords = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ArrayList&lt;String&gt; ignoreExceptCaseFileKeywords = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ArrayList&lt;String&gt; ignoreCaseFileKeywords = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">skipCurrentCaseFlag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> <span class="variable">timeLimitMS</span> <span class="operator">=</span> Long.MAX_VALUE;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">hideInputAndOutputFlag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">prettyFormat</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">maxExpectInputLines</span> <span class="operator">=</span> <span class="number">0xbadc0de</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">maxExpectOutputLines</span> <span class="operator">=</span> <span class="number">0xbadc0de</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">maxYourOutputLines</span> <span class="operator">=</span> <span class="number">0xbadc0de</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">debugPrintFunctions</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Statistics */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">StringBuilder</span> <span class="variable">resultStatistics</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> startTimestamp;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> endTimestamp;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Use this constructor if you don&#x27;t know how to fill the paths */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Judger</span><span class="params">(File inDirectory, File outDirectory)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.inDirectory = inDirectory;</span><br><span class="line">        <span class="built_in">this</span>.outDirectory = outDirectory;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* It&#x27;s recommended to use this constructor. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Judger</span><span class="params">(String casePath)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="string">&quot;.&quot;</span>, casePath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Judger</span><span class="params">(String basePath, String casePath)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(basePath, casePath, <span class="string">&quot;TEST&quot;</span>, <span class="string">&quot;ANSWER&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Judger</span><span class="params">(String basePath, String casePath, String inDirectoryName, String outDirectoryName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.inDirectory = <span class="keyword">new</span> <span class="title class_">File</span>(basePath + File.separator + casePath + File.separator + inDirectoryName);</span><br><span class="line">        <span class="built_in">this</span>.outDirectory = <span class="keyword">new</span> <span class="title class_">File</span>(basePath + File.separator + casePath + File.separator + outDirectoryName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">getInPath</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.inDirectory.getAbsolutePath();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">getOutPath</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.outDirectory.getAbsolutePath();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initJudger</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/* Init the exception handler */</span></span><br><span class="line">        registerJudgerUncaughtExceptionHandler();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Init file queue */</span></span><br><span class="line">        initFileQueue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initFileQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (File file : <span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.getInPath()).listFiles()) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">entryName</span> <span class="operator">=</span> file.getName();</span><br><span class="line"></span><br><span class="line">                <span class="comment">/* Ignore Cases */</span></span><br><span class="line">                <span class="comment">// Ignore Case File-Name-Prefix</span></span><br><span class="line">                <span class="keyword">if</span> (entryName.startsWith(ignoreCaseFileNamePrefix) &amp;&amp; <span class="built_in">this</span>.joinCaseFileKeywords.stream().noneMatch(entryName::contains)) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Ignore Case File-Name-Keywords</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>.ignoreExceptCaseFileKeywords.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="built_in">this</span>.ignoreExceptCaseFileKeywords.stream().noneMatch(entryName::contains) &amp;&amp; <span class="built_in">this</span>.joinCaseFileKeywords.stream().noneMatch(entryName::contains)) &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>.ignoreCaseFileKeywords.stream().anyMatch(entryName::contains) &amp;&amp; <span class="built_in">this</span>.joinCaseFileKeywords.stream().noneMatch(entryName::contains))</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                entryName = entryName.substring(<span class="number">0</span>, entryName.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line"></span><br><span class="line">                <span class="type">File</span> <span class="variable">inEntity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.getInPath() + File.separator + entryName + <span class="string">&quot;.in&quot;</span>);</span><br><span class="line">                <span class="type">File</span> <span class="variable">outEntity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.getOutPath() + File.separator + entryName + <span class="string">&quot;.out&quot;</span>);</span><br><span class="line">                Pair&lt;File, File&gt; pair = <span class="keyword">new</span> <span class="title class_">Pair</span>&lt;&gt;(inEntity, outEntity);</span><br><span class="line">                <span class="built_in">this</span>.caseQueue.add(pair);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="built_in">this</span>.displayDebugInfo();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Scanner <span class="title function_">redirectInput</span><span class="params">(Pair&lt;File, File&gt; pair)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(pair.getKey());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">redirectOutput</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.tempOutFile = File.createTempFile(<span class="string">&quot;temp&quot;</span>, <span class="string">&quot;.out&quot;</span>);</span><br><span class="line">            <span class="built_in">this</span>.tempOutPrintStream = <span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="built_in">this</span>.tempOutFile));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.setOut(<span class="built_in">this</span>.tempOutPrintStream);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">redirectError</span><span class="params">(String file)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.redirectError(<span class="keyword">new</span> <span class="title class_">File</span>(file));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">redirectError</span><span class="params">(File file)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.setErr(<span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file)));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* This method assumes that the in-case and out-case have the same parent directory,</span></span><br><span class="line"><span class="comment">     *  and will write error file to the parent direcotry.</span></span><br><span class="line"><span class="comment">     *  */</span></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">redirectError</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/* Get main() java file name */</span></span><br><span class="line">        StackTraceElement[] stackTrace = <span class="keyword">new</span> <span class="title class_">Exception</span>().getStackTrace();</span><br><span class="line">        <span class="type">String</span> <span class="variable">runningJavaFileName</span> <span class="operator">=</span> stackTrace[stackTrace.length - <span class="number">1</span>].getFileName();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Redirect */</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">errorFileName</span> <span class="operator">=</span> runningJavaFileName + <span class="string">&quot;.error&quot;</span>;</span><br><span class="line">        <span class="built_in">this</span>.redirectError(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.inDirectory.getParent() + File.separator + errorFileName));</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">displayExpectationIO</span><span class="params">(Pair&lt;File, File&gt; pair)</span> &#123;</span><br><span class="line">        System.err.println(<span class="string">&quot;Current Case: &quot;</span> + pair.getKey().getName() + <span class="string">&quot; &amp; &quot;</span> + pair.getValue().getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Display Expectation IO */</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.hideInputAndOutputFlag) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            List&lt;String&gt; expectInput = Files.readAllLines(pair.getKey().toPath());</span><br><span class="line">            List&lt;String&gt; expectOutput = Files.readAllLines(pair.getValue().toPath());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Limit Expect Input/Output</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.maxExpectInputLines &lt; expectInput.size()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">omit</span> <span class="operator">=</span> expectInput.size() - <span class="built_in">this</span>.maxExpectInputLines;</span><br><span class="line">                expectInput = expectInput.subList(<span class="number">0</span>, <span class="built_in">this</span>.maxExpectInputLines);</span><br><span class="line">                <span class="built_in">this</span>.addLimitedMessage(expectInput, omit);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.maxYourOutputLines &lt; expectOutput.size()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">omit</span> <span class="operator">=</span> expectOutput.size() - <span class="built_in">this</span>.maxExpectOutputLines;</span><br><span class="line">                expectOutput = expectOutput.subList(<span class="number">0</span>, <span class="built_in">this</span>.maxExpectOutputLines);</span><br><span class="line">                <span class="built_in">this</span>.addLimitedMessage(expectOutput, omit);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.err.println(<span class="string">&quot;Expected  Input: &quot;</span> + expectInput);</span><br><span class="line">            System.err.println(<span class="string">&quot;Expected Output: &quot;</span> + expectOutput);</span><br><span class="line">            <span class="comment">// Flush to make sure the message is displayed</span></span><br><span class="line">            System.err.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">displaySeparator</span><span class="params">()</span> &#123;</span><br><span class="line">        System.err.println(<span class="string">&quot;-----------------------------------------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">displayStatistics</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.displaySeparator();</span><br><span class="line">        System.err.println(<span class="string">&quot;Result Statistics: &quot;</span> + <span class="built_in">this</span>.resultStatistics);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> <span class="title function_">displayTimeCost</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// If the timer didn&#x27;t be stopped manually, stop it.</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.endTimestamp == defaultEndTimestamp) &#123;</span><br><span class="line">            <span class="built_in">this</span>.manuallyStopTimer();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Calc the time cost.</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">timeCost</span> <span class="operator">=</span> <span class="built_in">this</span>.endTimestamp - <span class="built_in">this</span>.startTimestamp;</span><br><span class="line">        System.err.printf(<span class="string">&quot;Time Cost: %f ms (%d ns)%n&quot;</span>, timeCost / <span class="number">1E6</span>, timeCost);</span><br><span class="line">        <span class="keyword">return</span> timeCost;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Iterator&lt;Scanner&gt; <span class="title function_">iterator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Delay the initialization of judger */</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">this</span>.judgerInitialized) &#123;</span><br><span class="line">            <span class="built_in">this</span>.initJudger();</span><br><span class="line">            <span class="built_in">this</span>.judgerInitialized = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">// Special case: if no case files are valid (the case directory is empty or the case is filtered).</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.caseQueue.isEmpty()) &#123;</span><br><span class="line">                System.err.println(<span class="string">&quot;No case files are valid.&quot;</span>);</span><br><span class="line">                System.err.println(<span class="string">&quot;1. The case directory is empty.&quot;</span>);</span><br><span class="line">                System.err.println(<span class="string">&quot;2. The case is filtered.&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* All the cases processed ? */</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.caseQueue.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// Judge the last case.</span></span><br><span class="line">            <span class="built_in">this</span>.judgeCase();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Output the statistics.</span></span><br><span class="line">            <span class="built_in">this</span>.displayStatistics();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Scanner <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/* No more cases ? */</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.caseQueue.isEmpty()) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>(<span class="string">&quot;No more cases.&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Judge previous case ? */</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.currentCase != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// Judge the previous case.</span></span><br><span class="line">            <span class="built_in">this</span>.judgeCase();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Get a new case */</span></span><br><span class="line">        Pair&lt;File, File&gt; aCase = <span class="built_in">this</span>.currentCase = <span class="built_in">this</span>.caseQueue.poll();</span><br><span class="line">        <span class="built_in">this</span>.displaySeparator();</span><br><span class="line">        <span class="built_in">this</span>.displayExpectationIO(aCase);</span><br><span class="line">        <span class="built_in">this</span>.redirectOutput();</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="built_in">this</span>.redirectInput(aCase);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Start the timer */</span></span><br><span class="line">        <span class="built_in">this</span>.manuallyStartTimer();</span><br><span class="line">        <span class="keyword">return</span> scanner;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Pair&lt;File, File&gt; <span class="title function_">getCurrentCase</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.currentCase;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCurrentCaseName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.currentCase.getKey().getName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Call this function if you want to reset the timer.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">manuallyStartTimer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.startTimestamp = System.nanoTime();</span><br><span class="line">        <span class="built_in">this</span>.endTimestamp = defaultEndTimestamp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">manuallyStopTimer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.endTimestamp = System.nanoTime();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">displayDebugInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.displaySeparator();</span><br><span class="line">        System.err.println(<span class="string">&quot;● Java Program Run Path = &quot;</span> + <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;.&quot;</span>).getAbsolutePath());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;☆ InPath = &quot;</span> + <span class="built_in">this</span>.getInPath());</span><br><span class="line">            System.err.println(<span class="string">&quot;☆ InPath (Absolute) = &quot;</span> + <span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.getInPath()).getAbsolutePath());</span><br><span class="line">            System.err.println(<span class="string">&quot;★ InPath (Canonical) = &quot;</span> + <span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.getInPath()).getCanonicalPath());</span><br><span class="line">            System.err.println(<span class="string">&quot;☆ OutPath = &quot;</span> + <span class="built_in">this</span>.getOutPath());</span><br><span class="line">            System.err.println(<span class="string">&quot;☆ OutPath (Absolute) = &quot;</span> + <span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.getOutPath()).getAbsolutePath());</span><br><span class="line">            System.err.println(<span class="string">&quot;★ OutPath (Canonical) = &quot;</span> + <span class="keyword">new</span> <span class="title class_">File</span>(<span class="built_in">this</span>.getOutPath()).getCanonicalPath());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.displaySeparator();</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">hideInputAndOutput</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hideInputAndOutputFlag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">setTimeLimitMS</span><span class="params">(<span class="type">long</span> timeLimitMS)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.timeLimitMS = timeLimitMS;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">setMaxExpectedInputLines</span><span class="params">(<span class="type">int</span> limit)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.maxExpectInputLines = limit;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">setMaxExpectedOutputLines</span><span class="params">(<span class="type">int</span> limit)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.maxExpectOutputLines = limit;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">setMaxYourOutputLines</span><span class="params">(<span class="type">int</span> limit)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.maxYourOutputLines = limit;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">enablePrettyFormat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.prettyFormat = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">disablePrettyFormat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.prettyFormat = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">enableDebugPrintFunctions</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.debugPrintFunctions = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">disableDebugPrintFunctions</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.debugPrintFunctions = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">addLimitedMessage</span><span class="params">(List&lt;String&gt; list, <span class="type">int</span> omit)</span> &#123;</span><br><span class="line">        list.add(String.format(<span class="string">&quot;Omit the remaining %d line(s)...&quot;</span>, omit));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">prettyFormat</span><span class="params">(List&lt;String&gt; list)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;[SOF]&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            sb.append(list.get(i));</span><br><span class="line">            <span class="keyword">if</span> (i == list.size() - <span class="number">1</span>) &#123;</span><br><span class="line">                sb.append(<span class="string">&quot;[EOF]&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> sb.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Special case: empty list</span></span><br><span class="line">        <span class="keyword">if</span> (list.isEmpty()) sb.append(<span class="string">&quot;[EOF]&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">formatList</span><span class="params">(List&lt;String&gt; list)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.prettyFormat) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.prettyFormat(list);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> list.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Judger will set a skip flag, but you should manually skip your algorithm steps. */</span></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">skipCurrentCase</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.skipCurrentCaseFlag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">ignoreExceptCase</span><span class="params">(String keywords)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.ignoreExceptCaseFileKeywords.add(keywords);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">ignoreCase</span><span class="params">(String keywords)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.ignoreCaseFileKeywords.add(keywords);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Join a case and guarantee the case will be added into cases queue */</span></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">joinCase</span><span class="params">(String keywords)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.joinCaseFileKeywords.add(keywords);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;UnusedAssignment&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">judgeCase</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Read from the temp out file */</span></span><br><span class="line">        List&lt;String&gt; tempOutFileContent = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            tempOutFileContent = Files.readAllLines(<span class="built_in">this</span>.tempOutFile.toPath());</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">this</span>.hideInputAndOutputFlag) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>.maxYourOutputLines &lt; tempOutFileContent.size()) &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">omit</span> <span class="operator">=</span> tempOutFileContent.size() - <span class="built_in">this</span>.maxYourOutputLines;</span><br><span class="line">                    tempOutFileContent = tempOutFileContent.subList(<span class="number">0</span>, <span class="built_in">this</span>.maxYourOutputLines);</span><br><span class="line">                    <span class="built_in">this</span>.addLimitedMessage(tempOutFileContent, omit);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                System.err.println(<span class="string">&quot;Your     Output: &quot;</span> + formatList(tempOutFileContent));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* End the timer. */</span></span><br><span class="line">        <span class="comment">// it&#x27;s better to stop the timer earlier, but it&#x27;s not necessary.</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">timeCost</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">this</span>.skipCurrentCaseFlag) &#123;</span><br><span class="line">            timeCost = <span class="built_in">this</span>.displayTimeCost();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Judge Result Type */</span></span><br><span class="line">        List&lt;String&gt; expectedOutFileContent;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/* Handle Judger Flags */</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.skipCurrentCaseFlag) &#123;</span><br><span class="line">                <span class="built_in">this</span>.skipCurrentCaseFlag = <span class="literal">false</span>;</span><br><span class="line">                <span class="built_in">this</span>.resultStatistics.append(<span class="string">&quot;→ &quot;</span>);</span><br><span class="line">                System.err.println(<span class="string">&quot;Skipped.&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Compare the texts */</span></span><br><span class="line">            expectedOutFileContent = Files.readAllLines(<span class="built_in">this</span>.currentCase.getValue().toPath());</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">accepted</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> <span class="string">&quot;Accepted&quot;</span>;</span><br><span class="line">            <span class="type">String</span> <span class="variable">symbol</span> <span class="operator">=</span> <span class="string">&quot;√&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Your Output == Expect Output ?</span></span><br><span class="line">            <span class="keyword">if</span> (!Boolean.logicalAnd(accepted, tempOutFileContent.toString().equals(expectedOutFileContent.toString()))) &#123;</span><br><span class="line">                accepted = <span class="literal">false</span>;</span><br><span class="line">                message = <span class="string">&quot;Wrong Answer.&quot;</span>;</span><br><span class="line">                symbol = <span class="string">&quot;×&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// Time Limit Exceed ?</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (!Boolean.logicalAnd(accepted, (timeCost / <span class="number">1E6</span>) &lt;= <span class="built_in">this</span>.timeLimitMS)) &#123;</span><br><span class="line">                accepted = <span class="literal">false</span>;</span><br><span class="line">                message = <span class="string">&quot;Time Limit Exceed.&quot;</span>;</span><br><span class="line">                symbol = <span class="string">&quot;▲&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">this</span>.resultStatistics.append(symbol).append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            System.err.println(message);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="built_in">this</span>.resultStatistics.append(<span class="string">&quot;? &quot;</span>);</span><br><span class="line">            System.err.println(<span class="string">&quot;Unexpected Error !&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">gracefullyExit</span><span class="params">(<span class="type">boolean</span> closeStreams, <span class="type">boolean</span> exit)</span> &#123;</span><br><span class="line">        System.err.println(<span class="string">&quot;===== Begin gracefully exit =====&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Judge case before exit */</span></span><br><span class="line">        <span class="built_in">this</span>.judgeCase();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Flush and close the System.in stream. */</span></span><br><span class="line">        <span class="comment">// Nobody cares the input stream.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Flush and close the System.out stream. */</span></span><br><span class="line">        System.out.flush();</span><br><span class="line">        <span class="keyword">if</span> (closeStreams) &#123;</span><br><span class="line">            System.out.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Flush and close the System.err stream. */</span></span><br><span class="line">        System.err.println(<span class="string">&quot;===== End gracefully Exit. =====&quot;</span>);</span><br><span class="line">        System.err.flush();</span><br><span class="line">        <span class="keyword">if</span> (closeStreams) &#123;</span><br><span class="line">            System.err.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Exit the JVM */</span></span><br><span class="line">        <span class="keyword">if</span> (exit) &#123;</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setThreadUncaughtExceptionHandler</span><span class="params">(Thread thread)</span> &#123;</span><br><span class="line">        thread.setUncaughtExceptionHandler((t, e) -&gt; &#123;</span><br><span class="line">            <span class="comment">/* Handle the exception. */</span></span><br><span class="line">            <span class="built_in">this</span>.displayThrowable(t, e);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Gracefully exit. */</span></span><br><span class="line">            gracefullyExit(<span class="literal">true</span>, <span class="literal">true</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">displayThrowable</span><span class="params">(Thread t, Throwable e)</span> &#123;</span><br><span class="line">        System.err.println(<span class="string">&quot;===== Exception Occurred. =====&quot;</span>);</span><br><span class="line">        System.err.println(<span class="string">&quot;Current Thread: &quot;</span> + t);</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        System.err.println(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">registerJudgerUncaughtExceptionHandler</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.setThreadUncaughtExceptionHandler(Thread.currentThread());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">println</span><span class="params">(Object object)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.debugPrintFunctions) &#123;</span><br><span class="line">            System.out.println(object);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">print</span><span class="params">(Object object)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.debugPrintFunctions) &#123;</span><br><span class="line">            System.out.print(object);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">printf</span><span class="params">(String format, Object... args)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.debugPrintFunctions) &#123;</span><br><span class="line">            System.out.printf(format, args);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Judger <span class="title function_">safeRun</span><span class="params">(Runnable runnable)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            runnable.run();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">/* Display Throwable */</span></span><br><span class="line">            <span class="built_in">this</span>.displayThrowable(Thread.currentThread(), e);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Handle Throwable */</span></span><br><span class="line">            <span class="comment">// Store judger context</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">$resultStatistics</span> <span class="operator">=</span> <span class="built_in">this</span>.resultStatistics;</span><br><span class="line">            <span class="built_in">this</span>.resultStatistics = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="comment">// Gracefully exit (but don&#x27;t exit the JVM)</span></span><br><span class="line">            <span class="built_in">this</span>.gracefullyExit(<span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">            <span class="comment">// Load judger context</span></span><br><span class="line">            <span class="built_in">this</span>.resultStatistics = $resultStatistics;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MermaidBuilder</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">Style</span> <span class="variable">style</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Style</span>(<span class="built_in">this</span>);</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">Counter</span> <span class="variable">counter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Counter</span>();</span><br><span class="line">        <span class="keyword">private</span> ArrayList&lt;String&gt; mermaidStatements;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MermaidBuilder</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.reset();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">preStatement</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">postStatement</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">uniqueStatement</span><span class="params">()</span> &#123;</span><br><span class="line">            HashSet&lt;String&gt; visited = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">            ArrayList&lt;String&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span> (String statement : <span class="built_in">this</span>.mermaidStatements) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!visited.contains(statement)) &#123;</span><br><span class="line">                    visited.add(statement);</span><br><span class="line">                    result.add(statement);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">this</span>.mermaidStatements = result;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reset</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.mermaidStatements = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="built_in">this</span>.preStatement();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">build</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">/* PostStatement */</span></span><br><span class="line">            <span class="built_in">this</span>.postStatement();</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Build Mermaid String */</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">mermaidStringBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="keyword">for</span> (String mermaidStatement : <span class="built_in">this</span>.mermaidStatements) &#123;</span><br><span class="line">                mermaidStringBuilder.append(mermaidStatement).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> mermaidStringBuilder.toString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">protected</span> <span class="keyword">abstract</span> Stream&lt;String&gt; <span class="title function_">parseNode</span><span class="params">(Object... args)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addStatement</span><span class="params">(String statement)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.mermaidStatements.add(statement);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addNode</span><span class="params">(Object... args)</span> &#123;</span><br><span class="line">            Optional.ofNullable(<span class="built_in">this</span>.parseNode(args)).ifPresent(o -&gt; o.forEach(statement -&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (statement != <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="built_in">this</span>.addStatement(statement);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println();</span><br><span class="line">            System.out.println(<span class="string">&quot;===== Begin Mermaid Statements =====&quot;</span>);</span><br><span class="line">            System.out.println(<span class="built_in">this</span>.build());</span><br><span class="line">            System.out.println(<span class="string">&quot;===== End Mermaid Statements =====&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">image</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">base64</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(Base64.getEncoder().encode(<span class="built_in">this</span>.build().getBytes()));</span><br><span class="line">            <span class="type">String</span> <span class="variable">URL</span> <span class="operator">=</span> <span class="string">&quot;https://mermaid.ink/img/&quot;</span> + base64;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Desktop.getDesktop().browse(<span class="keyword">new</span> <span class="title class_">URI</span>(URL));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">ofID</span><span class="params">(Object... args)</span> &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">id</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">                id.append(args[i]);</span><br><span class="line">                <span class="keyword">if</span> (i != args.length - <span class="number">1</span>) &#123;</span><br><span class="line">                    id.append(<span class="string">&quot;#&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> id.toString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">uuid</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> UUID.randomUUID().toString().substring(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Style</span> &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">final</span> MermaidBuilder builder;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="title function_">Style</span><span class="params">(MermaidBuilder builder)</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.builder = builder;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stress</span><span class="params">(String nodeID, String color)</span> &#123;</span><br><span class="line">                builder.addStatement(String.format(<span class="string">&quot;style %s fill: %s,stroke: #333,stroke-width: 4px&quot;</span>, nodeID, color));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">css</span><span class="params">(String nodeID, String css)</span> &#123;</span><br><span class="line">                builder.addStatement(String.format(<span class="string">&quot;style %s %s&quot;</span>, nodeID, css));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="type">int</span> counter;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="title function_">Counter</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.reset();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reset</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.counter = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">increment</span><span class="params">(<span class="type">int</span> delta)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.counter += delta;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">this</span>.increment(+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> counter;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">                <span class="built_in">this</span>.counter = value;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MarkdownBuilder</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">buildMatrix</span><span class="params">(Object origin, Object[] rows, Object[] cols, Object[][] data)</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Default value */</span></span><br><span class="line">            <span class="keyword">if</span> (origin == <span class="literal">null</span>) &#123;</span><br><span class="line">                origin = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rows == <span class="literal">null</span>) &#123;</span><br><span class="line">                rows = <span class="keyword">new</span> <span class="title class_">String</span>[data.length];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                    rows[i] = String.valueOf(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cols == <span class="literal">null</span>) &#123;</span><br><span class="line">                cols = <span class="keyword">new</span> <span class="title class_">String</span>[data[<span class="number">0</span>].length];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">                    cols[i] = String.valueOf(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Construct */</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            result.append(<span class="string">&quot;\\begin&#123;bmatrix&#125;\n&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                <span class="comment">// first row</span></span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                        <span class="comment">// origin cell</span></span><br><span class="line">                        <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                            result.append(origin);</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        result.append(<span class="string">&quot;&amp;&quot;</span>).append(cols[j]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(<span class="string">&quot;\\\\\n&quot;</span>);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// first column</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; data[i].length; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                        result.append(rows[i]);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(<span class="string">&quot;&amp;&quot;</span>).append(data[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;\\\\&quot;</span>).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            result.append(<span class="string">&quot;\\end&#123;bmatrix&#125;\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> result.toString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">buildTable</span><span class="params">(Object origin, Object[] rows, Object[] cols, Object[][] data)</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Default value */</span></span><br><span class="line">            <span class="keyword">if</span> (origin == <span class="literal">null</span>) &#123;</span><br><span class="line">                origin = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rows == <span class="literal">null</span>) &#123;</span><br><span class="line">                rows = <span class="keyword">new</span> <span class="title class_">String</span>[data.length];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                    rows[i] = String.valueOf(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cols == <span class="literal">null</span>) &#123;</span><br><span class="line">                cols = <span class="keyword">new</span> <span class="title class_">String</span>[data[<span class="number">0</span>].length];</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">                    cols[i] = String.valueOf(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* Construct */</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>().append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">                <span class="comment">// first row</span></span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                        <span class="comment">// origin cell</span></span><br><span class="line">                        <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                            result.append(<span class="string">&quot;&quot;</span>).append(origin).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        result.append(cols[j]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// second row -&gt; table properties</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols.length; j++) &#123;</span><br><span class="line">                        result.append(<span class="string">&quot; :-: &quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(<span class="string">&quot;&quot;</span>).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; data[i].length; j++) &#123;</span><br><span class="line">                    <span class="comment">// first column</span></span><br><span class="line">                    <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                        result.append(<span class="string">&quot;&quot;</span>).append(rows[i]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.append(data[i][j]).append(<span class="string">&quot;&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                result.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> result.append(<span class="string">&quot;\n&quot;</span>).toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h4 id="Simple-Demo"><a href="#Simple-Demo" class="headerlink" title="Simple Demo"></a>Simple Demo</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">Judger</span> <span class="variable">judger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Judger</span>(<span class="string">&quot;/Cases/Two&#x27;s Sum&quot;</span>);</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (Scanner scanner : judger) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> a + b;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Advanced-Demo"><a href="#Advanced-Demo" class="headerlink" title="Advanced Demo"></a>Advanced Demo</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">Judger</span> <span class="variable">judger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Judger</span>(<span class="string">&quot;/Cases/Two&#x27;s Sum&quot;</span>)</span><br><span class="line">    .redirectError()</span><br><span class="line">    .enablePrettyFormat()</span><br><span class="line">    .ignoreExceptCase(<span class="string">&quot;CASES&quot;</span>)</span><br><span class="line">    .ignoreCase(<span class="string">&quot;CASE5&quot;</span>)</span><br><span class="line">    .joinCase(<span class="string">&quot;CASE3&quot;</span>)</span><br><span class="line">    .setMaxExpectedInputLines(<span class="number">1</span>)</span><br><span class="line">    .setTimeLimitMS(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (Scanner scanner : judger) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> a + b;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>解释：让 <code>Judger</code> 从 <code>&quot;/Cases/Lab5/COIN CHANGING&quot;</code> 路径下 <code>扫描</code> 所有的 <code>案例文件</code>，然后 <code>重定向错误</code>到合适的路径，并且期望启用 <code>自由格式输出</code>，还需要设置 <code>期望输出的最大显示限制</code>，此外，每个案例的 <code>运行时间</code>限定为 1000ms。</p>
<p>所有 <code>被扫描到且有效的案例文件</code> 将被创建为 <code>Scanner实例序列</code>，通过 <code>foreach语法糖</code>即可获得所有的 <code>案例实例</code></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://sakurawald.github.io/2022/04/03/code-forces/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SakuraWald">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/03/code-forces/" class="post-title-link" itemprop="url">CodeForces</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-04-03 20:03:59" itemprop="dateCreated datePublished" datetime="2022-04-03T20:03:59+00:00">2022-04-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-01-01 23:38:44" itemprop="dateModified" datetime="2023-01-01T23:38:44+00:00">2023-01-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/uncategorized/" itemprop="url" rel="index"><span itemprop="name">uncategorized</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">103</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
