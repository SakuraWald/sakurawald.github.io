---
title: SOJ 1521 - 吃鸡
tags: []
id: '744'
categories:
  - - uncategorized
---

# 阅读题目

#### Description

美丽的黄静雯学姐和几位同学到网吧，`一共N人`，每人`都有`一个`“学习<->游戏”时间周期`，即：第i人学习ai小时`后`会玩bi小时吃鸡游戏，然后`重复`这个过程。但每人`在玩游戏前`，都会先看看`此刻`学习的人数是不是`大于等于`玩游戏的人数，如果是，他会`恐慌`并放弃游戏，选择继续学习ai小时`后`，再检查这个条件。已知`初始的时候`，第i个人处于他的“学习<->游戏”时间周期中的`第ci小时`(1<=ci<=ai+bi)。在`5小时内(包括5)`，是否存在N个人都在学习的状态，若存在，输出`到达这个状态的最短时间`，若不存在输出`NO`。

#### Input

第一行输入一个`整数N`，为`总人数` （1<= N <=15） 接下来是N行，每行3个整数ai,bi,ci，分别表示第i个人周期中的`学习时长`，`游戏时长`，`初始周期位置`

#### Output

输出一个`整数`，表示达到`N个人都在学习状态的最短时间`，若不存在此状态，输出`NO`

#### Sample Input

2 5 1 6 5 4 6

#### Sample Output

5

# 分析题目

### 读懂Sample，提取隐含信息

ans = 使所有人都处于学习状态的最短时间 "NO" 根据题目所给的Sample, 该Sample正好输出为5，故猜测这应该是`一个 边界条件的Sample`， 可以用数字表示出状态。(1代表`学习`, 0代表`游戏`) 1 1 1 1 1 \[0\] 1 1 1 1 1 \[0\] 0 0 0 ans = 1: \[1\] 1 1 1 1 0 1 1 1 1 1 0 \[0\] 0 0 ans = 2: 1 \[1\] 1 1 1 0 1 1 1 1 1 0 0 \[0\] 0 ans = 3: 1 1 \[1\] 1 1 0 1 1 1 1 1 0 0 0 \[0\] ans = 4: 1 1 1 \[1\] 1 0 \[1\] 1 1 1 1 0 0 0 0 ans = 5: 1 1 1 1 \[1\] 0 1 \[1\] 1 1 1 0 0 0 0 被中括号所选中的, 代表某人当前所处的状态. 上面共5组状态转移（注意：第一组的状态转移之前的状态并没有表示出来） 换句话说：上面5组均为 `状态转移之后产生的新状态` 根据Sample Output = 5, 可作出假设1, `ans = 状态转移之后产生的新状态数`. 同时, `初始周期位置`指的是 `即将要开始该位置的时刻`. 换句话说，如果 初始周期位置在 第6小时, 则实际上 我们需要将`指针`指向 `第5小时末`， 从`第5小时末`到`第6小时末`即为题目中的1个小时（即: ans++） 同时，我们也发现，按这个规律，`指针移动次数 = ans` 注意：`第5小时末` = `第6小时初` 据此：依照我们上面对`初始周期位置`概念的假设，正好可以满足我们的Sample中的情况. 初始时2个人均从`第5小时末`开始，然后指针经过5次移动，第2个人的指针正好处于`第1小时末`. 据此，我们作出假设2：题目中要求的`所有人都进入学习状态`，而`判断1个人是否处于学习状态`时：当`某个人即将进入学习状态（即游戏周期结束，即将进入学习周期）`仍然判定为`处于游戏状态`。 只有`某个人在学习周期里经过1小时`（也就是在 `游戏-学习的临界点`之后`又过1小时`）才判定为`学习状态`。 根据我们对题目作出的`假设1`和`假设2`，这样的话，就可以解释Sample了。 `假设1`解释了 如何计算`ans`的问题，这样我们就可以输出答案 。（同时，Sample是一个边界案例，所以我们也理解了如何判断边界情况，决定什么时候要输出`NO`，即当ans > 5时输出 ） 接下来，我们还要考虑一些其他的情况。

### 远远不够，来考虑奇奇怪怪的输入

#### Case 1

1 6 2 Output: NO 1 \[0\] 0 0 0 0 0 1 0 \[0\] 0 0 0 0 (ans = 1) 1 0 0 \[0\] 0 0 0 (ans = 2) 1 0 0 0 \[0\] 0 0 (ans = 3) 1 0 0 0 0 \[0\] 0 (ans = 4) 1 0 0 0 0 0 \[0\] (ans = 5) 可知, 在`ans <= 5的情况`内, 无法满足条件, 所以输出`NO`

#### Case 2

3 3 3 1 3 4 3 1 3 3 2 4 3 1 1 5 2 4 2 3 4 2 3 4 Output: 3 1 1 \[1\] 0 0 0 (正在学习) 1 0 0 \[0\] (正在游戏) 1 1 \[1\] 0 (正在学习) 1 1 1 \[0\] 0 (正在学习, 交接点) -> \[1\] 1 1 0 0 \[1\] 1 1 0 (正在游戏) 1 1 1 \[1\] 1 0 0 (正在学习) 1 1 0 \[0\] 0 (正在游戏) 1 1 0 \[0\] 0 (正在游戏) 根据 上面的状态，往后移动2轮。 第1个状态实际上也隐含了1个状态转移，进行推断，考虑`第1个状态在状态转移后`是否有人`焦虑`） ans = 1: 1 1 1 \[0\] 0 0 (正在学习, 交接点) \[1\] 0 0 0 (正在游戏) 1 1 1 \[0\] (正在学习, 交接点) 1 \[1\] 1 0 0 (正在学习) 1 \[1\] 1 0 (正在学习) 1 1 1 1 \[1\] 0 0 (正在学习) 1 1 0 0 \[0\] (正在游戏) 1 1 0 0 \[0\] (正在游戏) ans = 2: